var P=32,R=9,j9=13,h=10,Q0=96,R0=126,H0=91,X9=94,p=62,O9=35,X6=36,n9=37,c=45,r0=61,P0=92,M0=42,v0=95,$0=60,s9=64,i0=93,C0=33,d9=38,u0=58,h$=70,S9=102,t9=104,f9=119,j$=116,g$=112,Y6=115,V6=160,G6=12,T$=44,M$=59,c9=63,Y9=46,_0=47,_9=39,e0=34,I9=43,L0=124,P9=123,G$=125,V9=40,G9=41,e9=30,x$=31,t=48,e=57,l=65,r=90,q0=97,z0=122,l9=128,K9=32,OZ={blockQuote:0,breakLine:1,breakThematic:2,codeBlock:3,codeInline:4,footnote:5,footnoteReference:6,frontmatter:7,gfmTask:8,heading:9,htmlBlock:10,htmlComment:11,htmlSelfClosing:12,image:13,link:14,orderedList:15,paragraph:16,ref:17,refCollection:18,table:19,text:20,textFormatted:21,unorderedList:22},j=OZ;import{decodeEntity as HZ}from"markdown-to-jsx/entities";function O6($){if(!q6($,"---"))return null;let Z=3;for(;Z<$.length&&($[Z]===" "||$[Z]==="	");)Z++;if(Z<$.length&&$[Z]==="\r"&&Z++,Z>=$.length||$[Z]!==`
`)return null;Z++;let J=!1;for(;Z<$.length;){let Q=Z;for(;Z<$.length&&$[Z]!==`
`&&$[Z]!=="\r";)Z++;if(Z>=$.length)break;let X=Z;if($[Z]==="\r"&&Z++,Z<$.length&&$[Z]===`
`&&Z++,q6($,"---",Q))return{endPos:Z,hasValidYaml:J};let Y=$.indexOf(":",Q);Y!==-1&&Y<X&&(J=!0)}return null}var DZ=/&([a-zA-Z0-9]+|#[0-9]{1,7}|#x[0-9a-fA-F]{1,6});/gi,BZ={class:"className",for:"htmlFor",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",autocomplete:"autoComplete",autofocus:"autoFocus",autoplay:"autoPlay",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",classid:"classId",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",crossorigin:"crossOrigin",enctype:"encType",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",inputmode:"inputMode",keyparams:"keyParams",keytype:"keyType",marginheight:"marginHeight",marginwidth:"marginWidth",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",novalidate:"noValidate",radiogroup:"radioGroup",readonly:"readOnly",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",usemap:"useMap",viewbox:"viewBox"};function JJ($){var Z={};for(var J in $){var Q=J.toLowerCase(),X=BZ[Q];if(X)Z[X]=$[J];else{var Y=J.indexOf(":");Y!==-1?Z[J.slice(0,Y)+J[Y+1].toUpperCase()+J.slice(Y+2)]=$[J]:Z[J]=$[J]}}return Z}var QJ=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s|^<(div|p|h[1-6]|ul|ol|li|blockquote|pre|table|thead|tbody|tr|td|th|dl|dt|dd|hr|address|article|aside|details|dialog|figure|figcaption|footer|form|header|main|menu|nav|section|summary|textarea|fieldset|legend|center|dir|hgroup|marquee|search|output|template)\b)/i;function h9($){return $.indexOf("&")===-1?$:$.replace(DZ,(Z,J)=>{var Q=HZ(J);if(Q)return Q;if(J[0]==="#"){var X=J[1]==="x"||J[1]==="X"?parseInt(J.slice(2),16):parseInt(J.slice(1),10);return X===0||X>=55296&&X<=57343||X>1114111?"\uFFFD":X<=65535?String.fromCharCode(X):String.fromCharCode(55296+(X-65536>>10),56320+(X-65536&1023))}return Z})}var K6=/(javascript|vbscript|data(?!:image)):/i;function $$($){if(K6.test($))return null;if($.indexOf("%")===-1)return $;try{let Z=decodeURIComponent($).replace(/[^A-Za-z0-9/:]/g,"");if(K6.test(Z))return null}catch{return null}return $}var c0={},a0,k0;for(a0=[192,193,194,195,196,197,224,225,226,227,228,229,230,198],k0=0;k0<a0.length;k0++)c0[a0[k0]]="a";for(c0[231]=c0[199]="c",c0[240]=c0[208]="d",a0=[200,201,202,203,233,232,234,235],k0=0;k0<a0.length;k0++)c0[a0[k0]]="e";for(a0=[207,239,206,238,205,237,204,236],k0=0;k0<a0.length;k0++)c0[a0[k0]]="i";for(c0[209]=c0[241]="n",a0=[248,216,339,338,213,245,212,244,211,243,210,242],k0=0;k0<a0.length;k0++)c0[a0[k0]]="o";for(a0=[220,252,219,251,218,250,217,249],k0=0;k0<a0.length;k0++)c0[a0[k0]]="u";c0[376]=c0[255]=c0[221]=c0[253]="y";function jZ($){return $<l9&&(IZ[$]&(C$|H6))!==0}function $9($){for(var Z="",J=-1,Q=0;Q<$.length;Q++){var X=$.charCodeAt(Q);if(jZ(X))X>=l&&X<=r?(J>=0&&(Z+=$.slice(J,Q),J=-1),Z+=String.fromCharCode(X+K9)):J<0&&(J=Q);else if(X===P||X===c)J>=0&&(Z+=$.slice(J,Q),J=-1),Z+="-";else{J>=0&&(Z+=$.slice(J,Q),J=-1);var Y=c0[X];Y&&(Z+=Y)}}return J>=0&&(Z+=$.slice(J)),Z}function q6($,Z,J){return $.startsWith(Z,J)}var F6=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr","circle","ellipse","line","path","polygon","polyline","rect","use","stop","animate","set"]);function r9($){let Z=$.toLowerCase();if(F6.has(Z))return!0;let J=Z.indexOf(":");return J!==-1?(Z=Z.slice(J+1),F6.has(Z)):!1}var K$=1,v$=2,C$=4,H6=8,W6=16,z6=32,MZ=64,U6=1,vZ=2,AZ=3,_Z=4,IZ=(function(){let $=new Uint8Array(128),Z;for($[R]=K$|z6,$[h]=K$|W6,$[G6]=K$,$[j9]=K$|W6,$[P]=K$|z6,Z=C0;Z<=_0;Z++)$[Z]=v$;for(Z=u0;Z<=s9;Z++)$[Z]=v$;for(Z=H0;Z<=Q0;Z++)$[Z]=v$;for(Z=P9;Z<=R0;Z++)$[Z]=v$;for(Z=t;Z<=e;Z++)$[Z]=H6;for(Z=l;Z<=r;Z++)$[Z]=C$|MZ;for(Z=q0;Z<=z0;Z++)$[Z]=C$;return $})(),XJ=(function(){let $=new Uint8Array(128);return $[P0]=vZ,$[H0]=_Z,$[M0]=$[v0]=$[R0]=$[r0]=AZ,$[Q0]=$[$0]=$[s9]=$[i0]=$[h]=$[P]=$[C0]=U6,$[S9]=$[t9]=$[f9]=U6,$})(),o9=[];function u$($){var Z=$.indexOf("\r"),J=$.indexOf("\0");if(Z===-1&&J===-1)return $;var Q=$.length;o9.length=0;var X=0,Y=0;for(Z===-1?Y=J:J===-1?Y=Z:Y=Z<J?Z:J;Y<Q;Y++){var V=$.charCodeAt(Y);V===j9?(X<Y&&o9.push($.slice(X,Y)),Y+1<Q&&$.charCodeAt(Y+1)===h&&Y++,o9.push(`
`),X=Y+1):V===0&&(X<Y&&o9.push($.slice(X,Y)),o9.push("\uFFFD"),X=Y+1)}return X<Q&&o9.push($.slice(X)),o9.join("")}function D6($){if(!$)return!1;for(var Z in $)return!0;return!1}function B6($,Z,J){for(var Q=$,X=Z.split("."),Y=0;Y<X.length&&(Q=Q?.[X[Y]],Q!==void 0);)Y++;return Q||J}function p$($){for(var Z=!1,J=0;J<$.length;J++){var Q=$.charCodeAt(J);if(Q<=P||Q===e0||Q===n9||Q===$0||Q===p||Q===H0||Q===P0||Q===i0||Q===X9||Q===Q0||Q>=123){Z=!0;break}}if(!Z)return $;for(var X="",J=0;J<$.length;J++){var Q=$.charCodeAt(J);if(Q===n9&&J+2<$.length){var Y=$.charCodeAt(J+1),V=$.charCodeAt(J+2);if((Y>=t&&Y<=e||Y>=l&&Y<=h$||Y>=q0&&Y<=S9)&&(V>=t&&V<=e||V>=l&&V<=h$||V>=q0&&V<=S9)){X+=$[J]+$[J+1]+$[J+2],J+=2;continue}}X+=encodeURI($[J])}return X}function YJ(...$){return $.filter(Boolean).join(" ")}function g9($,Z){if(!Z)return $;let J=B6(Z,$,void 0);return typeof J=="string"?J:typeof J=="object"&&J.component?J.component:$}function T9($,Z){if(!Z)return{};let J=B6(Z,$,void 0);return typeof J=="object"&&J.props?J.props:{}}var PZ=new Set(["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"]),A$=/<(\/?)(title|textarea|style|xmp|iframe|noembed|noframes|script|plaintext)(\s|>|\/)/gi;function _$($){return PZ.has($.toLowerCase())}function VJ($){return A$.lastIndex=0,A$.test($)}function q$($){return A$.lastIndex=0,$.replace(A$,function(Z,J,Q,X){return"&lt;"+J+Q+X})}var KJ=/^<([a-zA-Z][a-zA-Z0-9-]*)\s[^>]*>/,qJ=/^<[A-Z]/,d$=["script","pre","style","textarea"],W$=new Set(d$),NZ=/<(?:pre|script|style|textarea)\b/i,bZ=new Set(["table","thead","tbody","tfoot","tr","td","th"]),w6=new Uint8Array(128);(function(){for(var $=[Q0,M0,v0,R0,r0,H0,C0,$0,P0,x$,t9,f9,S9],Z=0;Z<$.length;Z++)w6[$[Z]]=1})();var M6=/([a-zA-Z_][a-zA-Z0-9_-]*)=(?:"([^"]*)"|'([^']*)')/g;function y6($){return W$.has($)}function FJ($){return NZ.test($)}function L6($,Z,J){for(var Q=Z,X=J;Q<X&&($.charCodeAt(Q)===P||$.charCodeAt(Q)===R);)Q++;if(Q>=X)return!1;$.charCodeAt(Q)===L0&&Q++;for(var Y=0;Q<X;){for(;Q<X&&($.charCodeAt(Q)===P||$.charCodeAt(Q)===R);)Q++;if(Q>=X)break;if($.charCodeAt(Q)===L0&&Y>0){for(var V=Q+1;V<X&&($.charCodeAt(V)===P||$.charCodeAt(V)===R);)V++;if(V>=X)return!0}if($.charCodeAt(Q)===u0&&Q++,Q>=X||$.charCodeAt(Q)!==c)return!1;for(;Q<X&&$.charCodeAt(Q)===c;)Q++;for(Q<X&&$.charCodeAt(Q)===u0&&Q++,Y++;Q<X&&($.charCodeAt(Q)===P||$.charCodeAt(Q)===R);)Q++;if(Q<X)if($.charCodeAt(Q)===L0)Q++;else return!1}return Y>0}function b9($,Z){if($.charCodeAt(Z)!==$0)return null;let J=Z+1,Q=$.length,X=!1;$.charCodeAt(J)===_0&&(J++,X=!0);let Y=J,V=$.charCodeAt(J);if(!(V>=q0&&V<=z0||V>=l&&V<=r))return null;for(;J<Q&&($.charCodeAt(J)>=q0&&$.charCodeAt(J)<=z0||$.charCodeAt(J)>=l&&$.charCodeAt(J)<=r||$.charCodeAt(J)>=t&&$.charCodeAt(J)<=e||$.charCodeAt(J)===c);)J++;let G=$.slice(Y,J);if(!G)return null;let K=J;for(;J<Q&&($.charCodeAt(J)===P||$.charCodeAt(J)===R||$.charCodeAt(J)===h);)J++;let q=$.slice(K,J);if(J===K&&J<Q){var W=$.charCodeAt(J);if(W!==p&&W!==_0)return null}let z=J,H={},F=!1;for(;J<Q;){let y=$.charCodeAt(J);if(y===p){let k=$.slice(z,J);return{tag:G,attrs:H,selfClosing:!1,end:J+1,rawAttrs:k,whitespaceBeforeAttrs:q,isClosing:X,hasSpaceBeforeSlash:F}}if(y===P||y===R||y===h){J++;continue}if(y===_0&&J+1<Q&&$.charCodeAt(J+1)===p){let k=$.slice(z,J);return F=J>z&&$.charCodeAt(J-1)===P,{tag:G,attrs:H,selfClosing:!0,end:J+2,rawAttrs:k,whitespaceBeforeAttrs:q,isClosing:X,hasSpaceBeforeSlash:F}}var D=J,U=$.charCodeAt(J);if(!(U>=q0&&U<=z0||U>=l&&U<=r||U===v0||U===u0))return null;for(J++;J<Q;){var O=$.charCodeAt(J);if(O>=q0&&O<=z0||O>=l&&O<=r||O>=t&&O<=e||O===v0||O===Y9||O===u0||O===c)J++;else break}for(var B=$.slice(D,J);J<Q&&($.charCodeAt(J)===P||$.charCodeAt(J)===R);)J++;if($.charCodeAt(J)!==r0){H[B]="";continue}for(J++;J<Q&&($.charCodeAt(J)===P||$.charCodeAt(J)===R);)J++;var _=$.charCodeAt(J);if(_===e0||_===_9){J++;for(var A=J;J<Q&&$.charCodeAt(J)!==_;)J++;if(J>=Q)return null;if(H[B]=$.slice(A,J),J++,J<Q){var f=$.charCodeAt(J);if(f!==P&&f!==R&&f!==h&&f!==p&&f!==_0)return null}}else if(_===P9){var I=1,A=J;for(J++;J<Q&&I>0;){var O=$.charCodeAt(J);O===P9?I++:O===G$&&I--,J++}H[B]=$.slice(A,J)}else{for(var A=J;J<Q;){var M=$.charCodeAt(J);if(M===P||M===R||M===p||M===h||M===e0||M===_9||M===r0||M===$0||M===Q0)break;J++}if(J===A)return null;H[B]=$.slice(A,J)}}return null}function k6($,Z,J){for(var Q=0,X=$.length,Y=!1;Q<X;){for(var V=$.indexOf(`
`,Q),G=V<0?X:V,K=Q,q=0;K<G&&q<4;)if($.charCodeAt(K)===P)q++,K++;else if($.charCodeAt(K)===R)q+=4,K++;else break;if(K>=G){Y=!1,Q=V<0?X:V+1;continue}if(q<4){var W=$.charCodeAt(K);if(W===Q0||W===R0){for(var z=W,H=0,F=K;F<G&&$.charCodeAt(F)===z;)H++,F++;if(H>=3){Y=!1;for(var D=V<0?X:V+1;D<X;){for(var U=D,O=0;U<X&&O<4;){var B=$.charCodeAt(U);if(B===P)O++,U++;else if(B===R)O+=4,U++;else break}if(O<4&&U<X&&$.charCodeAt(U)===z){for(var _=0;U<X&&$.charCodeAt(U)===z;)_++,U++;if(_>=H){for(;U<X&&($.charCodeAt(U)===P||$.charCodeAt(U)===R);)U++;if(U>=X||$.charCodeAt(U)===h){Q=U>=X?X:U+1;break}}}for(;D<X&&$.charCodeAt(D)!==h;)D++;D<X&&D++}D>=X&&(Q=X);continue}}}for(var A=K;A<G&&$.charCodeAt(A)===p;){A++,A<G&&$.charCodeAt(A)===P&&A++;for(var f=0;A<G&&f<4;)if($.charCodeAt(A)===P)f++,A++;else if($.charCodeAt(A)===R)f+=4,A++;else break;if(f>=4)break;Y=!1}if(!Y&&q<4&&A<G&&$.charCodeAt(A)===H0&&!(A+1<X&&$.charCodeAt(A+1)===X9)){var I=E6($,A,Z);if(I){Q=I,Y=!1;continue}}var M=$.charCodeAt(K);if(M===O9&&q<4)Y=!1;else if(q<4&&(M===c||M===M0||M===v0)){for(var y=K,k=0;y<G;){var b=$.charCodeAt(y);if(b===M)k++;else if(b!==P&&b!==R)break;y++}Y=!(k>=3&&y>=G)}else Y=!0;Q=V<0?X:V+1}}function E6($,Z,J){let Q=$.length;if($.charCodeAt(Z)!==H0)return null;let X=Z+1<Q&&$.charCodeAt(Z+1)===X9,Y=Z+1;for(;Y<Q;){var V=$.charCodeAt(Y);if(V===i0){Y++;break}if(V===H0)return null;V===P0&&Y+1<Q&&Y++,Y++}if(Y>Q||$.charCodeAt(Y-1)!==i0)return null;let G=$.slice(Z+1,Y-1);if(G.length>999)return null;let K=I$(G);if(!K||Y>=Q||$.charCodeAt(Y)!==u0)return null;Y++;let q=!1;for(;Y<Q;){let E=$.charCodeAt(Y);if(E===P||E===R)Y++;else if(E===h&&!q)q=!0,Y++;else break}if(X){let E=$.indexOf(`
`,Y),m=E<0?Q:E,T=$.slice(Y,m).trim();return J[K]={target:T,title:void 0},E<0?Q:E+1}var W;if(Y<Q&&$.charCodeAt(Y)===$0){Y++;for(var z=Y;Y<Q&&$.charCodeAt(Y)!==p&&$.charCodeAt(Y)!==h;)$.charCodeAt(Y)===P0&&Y+1<Q&&Y++,Y++;if(Y>=Q||$.charCodeAt(Y)!==p)return null;W=$.slice(z,Y),Y++;for(var H=$.indexOf(`
`,Y),F=H<0?Q:H,D=Y;D<F&&($.charCodeAt(D)===P||$.charCodeAt(D)===R);)D++;if(D<F){if(D===Y)return null;var U=$.charCodeAt(D);if(U!==e0&&U!==_9&&U!==V9)return null}}else{for(var z=Y,O=0;Y<Q;){var V=$.charCodeAt(Y);if(V===V9)O++;else if(V===G9){if(O===0)break;O--}else{if(V===P||V===R||V===h)break;V===P0&&Y+1<Q&&Y++}Y++}if(W=$.slice(z,Y),!W)return null}for(;Y<Q&&($.charCodeAt(Y)===P||$.charCodeAt(Y)===R);)Y++;var B=$.indexOf(`
`,Y),_=B<0?Q:B,A,f=!1,I=Y,M=Y;if(Y===_&&Y<Q)for(M=Y+1;M<Q&&($.charCodeAt(M)===P||$.charCodeAt(M)===R);)M++;if(M<Q){var y=$.charCodeAt(M);if(y===e0||y===_9||y===V9){for(var k=y===V9?41:y,b=M+1,N=b;b<Q;){var w=$.charCodeAt(b);if(w===k){for(var S=b+1;S<Q&&($.charCodeAt(S)===P||$.charCodeAt(S)===R);)S++;(S>=Q||$.charCodeAt(S)===h)&&(A=$.slice(N,b),f=!0,I=S<Q?S+1:Q);break}if(w===P0&&b+1<Q){b+=2;continue}if(w===h&&b+1<Q&&$.charCodeAt(b+1)===h)break;b++}if(!f&&M===Y)return null}}if(f)return J[K]||(J[K]={target:J$(W),title:A!==void 0?h9(J$(A)):A}),I;for(;Y<_&&($.charCodeAt(Y)===P||$.charCodeAt(Y)===R);)Y++;return Y<_?null:(J[K]||(J[K]={target:J$(W),title:A}),B<0?Q:B+1)}var Q$=1,S6=2,Y0=4,f6=8,RZ=16,H9=32,C9=64,i=new Uint8Array(128);i[P]=Q$,i[R]=Q$,i[h]=Q$|S6,i[j9]=Q$|S6,i[O9]=H9|Y0,i[p]=H9|Y0,i[c]=H9|C9|Y0,i[I9]=H9|Y0,i[M0]=H9|C9|Y0,i[v0]=H9|C9|Y0,i[Q0]=H9|C9|Y0,i[R0]=H9|C9|Y0,i[$0]=H9|C9|Y0,i[H0]=C9|Y0,i[C0]=C9|Y0,i[L0]=H9|Y0;for(let $=t;$<=e;$++)i[$]=RZ|H9;for(let $=l;$<=r;$++)i[$]=f6;for(let $=q0;$<=z0;$++)i[$]=f6;i[P0]=Y0,i[i0]=Y0,i[V9]=Y0,i[G9]=Y0,i[u0]=Y0,i[e0]=Y0,i[_9]=Y0,i[d9]=Y0,i[r0]=Y0,i[X6]=Y0,i[n9]=Y0,i[T$]=Y0,i[Y9]=Y0,i[_0]=Y0,i[M$]=Y0,i[c9]=Y0,i[s9]=Y0,i[X9]=Y0,i[P9]=Y0,i[G$]=Y0;function v6($){if($.indexOf("[")<0&&$.indexOf("]")<0)return!1;for(var Z=0;Z<$.length;Z++){if($.charCodeAt(Z)===P0){Z++;continue}if($.charCodeAt(Z)===H0||$.charCodeAt(Z)===i0)return!0}return!1}function I$($){var Z=$.replace(/\s+/g," ").trim();return Z.indexOf("\u1E9E")!==-1?Z.replace(/\u1E9E/g,"ss").toLowerCase():Z.toLowerCase()}function o$($){return $<l9?i[$]:$===V6?Q$:0}function J$($){return $.replace(/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,"$1")}function F0($,Z){var J=$.indexOf(`
`,Z);return J<0?$.length:J}function s($,Z){let J=F0($,Z);return J<$.length?J+1:J}function F$($,Z,J){for(;Z<J;){let Q=$.charCodeAt(Z);if(Q!==P&&Q!==R)break;Z++}return Z}function A6($,Z){let J=s($,Z);for(;J<$.length;){let Q=F0($,J);if(q9($,J,Q))return J;J=s($,J)}return $.length}function y9($,Z,J,Q){let X=0;for(;Z+X<J&&$.charCodeAt(Z+X)===Q;)X++;return X}var V0=0,X0=0;function N0($,Z,J){for(V0=0,X0=0;Z+X0<J;){let Q=$.charCodeAt(Z+X0);if(Q===R)V0+=4-V0%4;else if(Q===P)V0++;else break;X0++}}function q9($,Z,J){return F$($,Z,J)>=J}function h6($,Z,J,Q){let X=F0($,Z);if(N0($,Z,X),V0>3)return null;let Y=Z+X0;if($.charCodeAt(Y)!==O9)return null;let V=y9($,Y,X,35);if(V<1||V>6||(Y+=V,Y<X&&$.charCodeAt(Y)!==P&&$.charCodeAt(Y)!==R))return null;Y=F$($,Y,X);for(var G=X;G>Y&&$.charCodeAt(G-1)===P;)G--;for(var K=G;G>Y&&$.charCodeAt(G-1)===O9;)G--;if(G<K)if(G===Y||$.charCodeAt(G-1)===P)for(;G>Y&&$.charCodeAt(G-1)===P;)G--;else G=K;let q=$.slice(Y,G),W=n0(q,0,q.length,J,Q),H=(Q?.slugify||$9)(q);return{node:{type:j.heading,level:V,children:W,id:H},end:s($,X)}}function m9($,Z){let J=F0($,Z);if(N0($,Z,J),V0>3)return null;let Q=Z+X0,X=$.charCodeAt(Q);if(X!==c&&X!==M0&&X!==v0)return null;let Y=0;for(;Q<J;){let V=$.charCodeAt(Q);if(V===X)Y++;else if(V!==P&&V!==R)return null;Q++}return Y<3?null:{node:{type:j.breakThematic},end:s($,J)}}function wZ($,Z,J){let Q=F0($,Z);if(N0($,Z,Q),V0>3)return null;let X=V0,Y=X0,V=Z+X0,G=$.charCodeAt(V);if(G!==Q0&&G!==R0)return null;let K=y9($,V,Q,G);if(K<3)return null;V+=K;let q=F$($,V,Q),W=Q;if(G===Q0){for(let b=q;b<Q;b++)if($.charCodeAt(b)===Q0)return null}for(;W>q&&($.charCodeAt(W-1)===P||$.charCodeAt(W-1)===R);)W--;let z=$.slice(q,W),H="",F="",D=z.indexOf(" ");D===-1?H=z:(H=z.slice(0,D),F=z.slice(D+1).trim()),H=J$(H);var U=void 0;if(F){M6.lastIndex=0;for(var O;(O=M6.exec(F))!==null;)U||(U={}),U[O[1]]=O[2]!==void 0?O[2]:O[3]}let B=s($,Q),_=B,A=$.length;for(;_<$.length;){let b=F0($,_);if(N0($,_,b),V0<4){let N=_+X0;var f=y9($,N,b,G);if(f>=K){let w=N+f;if(q9($,w,b)){A=s($,b);break}}}_=s($,b)}var I;if(X===0)I=_>B&&$.charCodeAt(_-1)===h?$.slice(B,_-1):$.slice(B,_);else{I="";for(var M=B;M<_;){var y=F0($,M);N0($,M,y);var k=Math.min(X0,X);I+=$.slice(M+k,y)+`
`,M=s($,y)}I.length>0&&I.charCodeAt(I.length-1)===h&&(I=I.slice(0,-1))}return{node:{type:j.codeBlock,lang:H||void 0,text:I,infoString:F||void 0,attrs:U},end:A}}function yZ($,Z){let J=F0($,Z);if(N0($,Z,J),V0<4)return null;let Q="",X=Z;for(;X<$.length;){let F=F0($,X);if(N0($,X,F),q9($,X,F)){for(var Y=0,V=s($,F);V<$.length;){var G=F0($,V);if(q9($,V,G)){Y++,V=s($,G);continue}if(N0($,V,G),V0>=4){for(var K=0;K<=Y;K++)Q+=`
`;X=V;break}break}if(X!==V)break;continue}if(V0<4)break;let D=0,U=0;var q=0;for(let O=X;O<F&&U<4;O++){if($.charCodeAt(O)===R){var W=4-U%4;U+W>4&&(q=U+W-4),U+=W}else U++;D++}var z="";if(q>0)for(var H=0;H<q;H++)z+=" ";z+=$.slice(X+D,F),Q+=z+`
`,X=s($,F)}for(;Q.length>0&&Q.charCodeAt(Q.length-1)===h;)Q=Q.slice(0,-1);for(;Q.length>0&&Q.charCodeAt(Q.length-1)===h;)Q=Q.slice(0,-1);return Q?{node:{type:j.codeBlock,text:Q},end:X}:null}function LZ($,Z,J,Q){let X=F0($,Z);if(N0($,Z,X),V0>3)return null;let Y=Z+X0;if($.charCodeAt(Y)!==p)return null;let V="",G=Z,K,q=!1,W=!1,z=!1;for(;G<$.length;){let L=F0($,G);N0($,G,L);let U0=G+X0;if($.charCodeAt(U0)===p){let C=U0+1;var H=V0+1,F=!1;if(C<L){var D=$.charCodeAt(C);D===P?(C++,H++,F=!0):D===R&&(F=!0)}for(var U="",O=!1,B=C;B<L;B++)if($.charCodeAt(B)===R){O=!0;break}if(O){var _=H;if(F&&C<L&&$.charCodeAt(C)===R){for(var A=4-_%4,f=0;f<A-1;f++)U+=" ";_+=A,C++}for(var I=C;I<L;I++)if($.charCodeAt(I)===R){for(var M=4-_%4,y=0;y<M;y++)U+=" ";_+=M}else U+=$[I],_++}else U=$.slice(C,L);if(!V&&!K){let x=U.match(/^\[!([A-Za-z]+)\]\s*$/);if(x){K=x[1].toUpperCase(),G=s($,L);continue}}V+=U+`
`;var k=U.trimStart();k.startsWith("```")||k.startsWith("~~~")?z=!z:U.startsWith("    ")||U.startsWith("	")?z=!0:k.length>0&&!z&&(z=!1),W=k.length>0,G=s($,L)}else if(V&&!q9($,G,L)&&W){if(V0<4){var b=G+X0,N=b<L?$.charCodeAt(b):0;if(N===O9||N===p||N===Q0||N===R0||N===$0||(N===c||N===M0||N===v0)&&m9($,G)||(N===c||N===M0||N===I9)&&b+1<L&&($.charCodeAt(b+1)===P||$.charCodeAt(b+1)===R))break;if(N>=t&&N<=e){for(var w=b;w<L&&$.charCodeAt(w)>=t&&$.charCodeAt(w)<=e;)w++;if(w<L&&($.charCodeAt(w)===Y9||$.charCodeAt(w)===G9))break}}if(z)break;V+=$.slice(G,L)+`
`,q=!0,G=s($,L)}else break}if(!V&&!K)return null;var{inBlockQuote:S,f:E}=J;J.inBlockQuote=!0,q&&(J.f=!0);let m=w9(V||"",J,Q);J.inBlockQuote=S,J.f=E;let T={type:j.blockQuote,children:m};return K&&(T.alert=K),{node:T,end:G}}function g6($,Z,J){for(var Q=0,X=Z;X<J;X++)$.charCodeAt(X)===R?Q+=4-Q%4:Q++;return Q}function x9($,Z,J){if(N0($,Z,J),V0>3)return null;var Q=Z+X0;if(Q>=J)return null;var X=$.charCodeAt(Q),Y=V0,V=Q;if(X===c||X===M0||X===I9){if(V=Q+1,V<J&&$.charCodeAt(V)!==P&&$.charCodeAt(V)!==R&&$.charCodeAt(V)!==h)return null}else if(X>=t&&X<=e){for(var G=Q;G<J&&G-Q<9;){var K=$.charCodeAt(G);if(K<t||K>e)break;G++}if(G>Q&&G<J){var q=$.charCodeAt(G);if(q===Y9||q===G9){if(V=G+1,V<J&&$.charCodeAt(V)!==P&&$.charCodeAt(V)!==R&&$.charCodeAt(V)!==h)return null}else return null}else return null}else return null;var W=V,z=g6($,Z,V),H=0,F=W,D=z;if(W>=J)return{ordered:X>=t&&X<=e,marker:X>=t&&X<=e?$[G]:$[Q],start:X>=t&&X<=e?parseInt($.slice(Q,G),10):void 0,contentStart:W,contentCol:z+1,markerCol:Y,isEmpty:!0};for(;F<J&&($.charCodeAt(F)===P||$.charCodeAt(F)===R);){if($.charCodeAt(F)===R){var U=4-D%4;D+=U}else D++;F++,H++}var O=F>=J,B=D-z;return O||B>4?(D=z+1,F=W+1,H=1):H===0&&(D=z+1,F=W,H=1),{ordered:X>=t&&X<=e,marker:X>=t&&X<=e?$[G]:$[Q],start:X>=t&&X<=e?parseInt($.slice(Q,G),10):void 0,contentStart:F,contentCol:D,markerCol:Y,isEmpty:O}}var P$=0;function kZ($,Z,J,Q){var X=0,Y=Z;for(P$=0;Y<J&&X<Q;){var V=$.charCodeAt(Y);if(V===R){var G=4-X%4;if(X+G>Q){P$=X+G-Q,Y++,X=Q;break}X+=G}else if(V===P)X++;else break;Y++}return Y}function _6($,Z,J,Q){var X=F0($,Z),Y=x9($,Z,X);if(!Y)return null;var V=[],G=Z,K=Y.contentCol,q="",W=Y.isEmpty,z=!1,H=!1;if(!Y.isEmpty){for(var F=!1,D=Y.contentStart;D<X;D++)if($.charCodeAt(D)===R){F=!0;break}if(F){var U="",O=g6($,Z,Y.contentStart),B=O-Y.contentCol;if(B>0)for(var _=0;_<B;_++)U+=" ";for(var A=Y.contentStart;A<X;A++)if($.charCodeAt(A)===R){for(var f=4-O%4,I=0;I<f;I++)U+=" ";O+=f}else U+=$[A],O++;q=U+`
`}else q=$.slice(Y.contentStart,X)+`
`}for(G=s($,X);G<$.length;){var M=F0($,G);N0($,G,M);var y=$.charCodeAt(G+X0);if(V0<K&&(y===c||y===M0||y===v0)&&V0<=3&&m9($,G))break;var k=x9($,G,M);if(k&&k.ordered===Y.ordered&&k.marker===Y.marker&&k.markerCol<K){V.push({contentCol:K,raw:q,hasBlankAfter:z,isEmpty:W}),z&&(H=!0),K=k.contentCol,W=k.isEmpty,z=!1,q=k.isEmpty?"":$.slice(k.contentStart,M)+`
`,G=s($,M);continue}if(q9($,G,M)){q+=`
`,G=s($,M);for(var b=!1,N=0;N<q.length;N++){var w=q.charCodeAt(N);if(w!==h&&w!==j9&&w!==P&&w!==R){b=!0;break}}if(W&&!b)if(G<$.length){var S=F0($,G),E=x9($,G,S);if(!E||E.ordered!==Y.ordered||E.marker!==Y.marker)break;z=!0}else break;if(G<$.length){var m=F0($,G);N0($,G,m);var T=$.charCodeAt(G+X0);if((T===c||T===M0||T===v0)&&V0<=3&&m9($,G))break;var L=x9($,G,m);if(L&&L.ordered===Y.ordered&&L.marker===Y.marker&&L.markerCol<K){z=!0;continue}if(!q9($,G,m)&&V0<K)break}continue}if(V0>=K){var U0=kZ($,G,M,K);if(P$>0){for(var C="",x=K,d=0;d<P$;d++)C+=" ",x++;for(var A0=U0;A0<M;A0++)if($.charCodeAt(A0)===R){for(var h0=4-x%4,W0=0;W0<h0;W0++)C+=" ";x+=h0}else C+=$[A0],x++;q+=C+`
`}else q+=$.slice(U0,M)+`
`;G=s($,M);continue}for(var D0=!1,g=0;g<q.length;g++){var Z0=q.charCodeAt(g);if(Z0!==h&&Z0!==j9&&Z0!==P&&Z0!==R){D0=!0;break}}if(!z&&D0&&!W){var j0=G+X0,G0=$.charCodeAt(j0),a=G0===O9||G0===p||G0===$0||G0===Q0||G0===R0||(G0===c||G0===M0||G0===v0||G0===I9)&&(m9($,G)!==null||x9($,G,M)!==null)||G0>=t&&G0<=e&&x9($,G,M)!==null;if(!a){q+=""+$.slice(j0,M)+`
`,G=s($,M);continue}}break}if(V.push({contentCol:K,raw:q,hasBlankAfter:z,isEmpty:W}),V.length===0)return null;var O0=H;if(!O0)for(var I0=0;I0<V.length;I0++){if(V[I0].hasBlankAfter&&I0<V.length-1){O0=!0;break}if(!V[I0].isEmpty){for(var v=V[I0].raw,u=v.length,K0=0,w0=!1,n=!1,b0=!1,o=!1,E0=0,g0=0,S0=-1;K0<u;){var J0=v.indexOf(`
`,K0);if(J0<0&&(J0=u),o){N0(v,K0,J0);for(var v9=v.slice(K0+X0,J0),T0=0;T0<v9.length&&v9.charCodeAt(T0)===E0;)T0++;T0>=g0&&v9.slice(T0).trim()===""&&(o=!1),K0=J0<u?J0+1:u;continue}if(q9(v,K0,J0)){S0>=0?b0=!0:w0&&(n=!0),K0=J0<u?J0+1:u;continue}if(N0(v,K0,J0),S0>=0){if(V0>=S0){K0=J0<u?J0+1:u;continue}var Z9=x9(v,K0,J0);if(Z9&&Z9.markerCol<S0&&Z9.contentCol<=S0){K0=J0<u?J0+1:u;continue}if(Z9){K0=J0<u?J0+1:u;continue}S0=-1,b0&&(n=!0,b0=!1)}var s0=v.slice(K0+X0,J0),z9=s0.charCodeAt(0);if((z9===Q0||z9===R0)&&V0<=3){for(var l0=0;l0<s0.length&&s0.charCodeAt(l0)===z9;)l0++;if(l0>=3){if(n&&w0){O0=!0;break}o=!0,E0=z9,g0=l0,w0=!0,K0=J0<u?J0+1:u;continue}}var u9=V0<=3?x9(v,K0,J0):null;if(u9&&w0){if(n){O0=!0;break}S0=u9.contentCol,b0=!1,K0=J0<u?J0+1:u,w0=!0;continue}if(n){O0=!0;break}w0=!0,K0=J0<u?J0+1:u}if(O0)break}}for(var p0=[],J9=0;J9<V.length;J9++){for(var D9=V[J9],o0=D9.raw,x0=o0.length;x0>0&&o0.charCodeAt(x0-1)===h;)x0--;var y0=x0<o0.length?o0.slice(0,x0):o0,L9=null;if(y0.length>=3&&y0.charCodeAt(0)===H0){var U9=y0[1];(U9===" "||U9==="x"||U9==="X")&&y0.charCodeAt(2)===i0&&(L9={type:j.gfmTask,completed:U9==="x"||U9==="X"},y0=y0.slice(3))}var B0;if(D9.isEmpty&&y0.trim()==="")B0=[];else if(O0){var B9=J.inList;J.inList=!0,B0=w9(y0,J,Q),J.inList=B9}else{var k9=J.inList;if(J.inList=!0,B0=w9(y0,J,Q),J.inList=k9,B0.length===1&&B0[0].type===j.paragraph)B0=B0[0].children;else{for(var t0=[],f0=0;f0<B0.length;f0++)if(B0[f0].type===j.paragraph)for(var d0=B0[f0].children,A9=0;A9<d0.length;A9++)t0.push(d0[A9]);else t0.push(B0[f0]);B0=t0}}L9?p0.push([L9,{type:j.text,text:" "},...B0]):p0.push(B0)}return{node:{type:Y.ordered?j.orderedList:j.unorderedList,start:Y.ordered?Y.start:void 0,items:p0},end:G}}var N$=new Set(["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]);function N9($,Z,J){let Q={};for(let[V,G]of Object.entries($)){let K=V,q=V.toLowerCase();if(q==="style"&&typeof G=="string"){let W={},z=[],H=0,F=0;for(let U=0;U<G.length;U++){let O=G.charCodeAt(U);O===V9?H++:O===G9?H--:O===M$&&H===0&&(z.push(G.slice(F,U)),F=U+1)}F<G.length&&z.push(G.slice(F));let D=!1;z.forEach(U=>{let O=U.indexOf(":");if(O===-1)return;let B=U.slice(0,O).trim(),_=U.slice(O+1).trim();if(B&&_){if(/url\s*\(\s*(javascript|vbscript|data:(?!image\/))/i.test(_)){D=!0;return}let A=B.indexOf("-")!==-1?B.replace(/-([a-z])/g,(f,I)=>I.toUpperCase()):B;W[A]=_}}),!D&&Object.keys(W).length>0&&(Q[K]=W)}else if((q==="href"||q==="src")&&J?.sanitizer){let W=J.sanitizer(G,Z,q);W!==null&&(Q[K]=W)}else if(G==="")Q[K]=!0;else if(G.length>=2&&G.charCodeAt(0)===P9&&G.charCodeAt(G.length-1)===G$){var X=G.slice(1,-1);if(X.length>0){var Y=X.charCodeAt(0);if(Y===H0||Y===P9)try{Q[K]=JSON.parse(X);continue}catch{}}if(X==="true"){Q[K]=!0;continue}if(X==="false"){Q[K]=!1;continue}if(J?.evalUnserializableExpressions)try{Q[K]=(0,eval)("("+X+")");continue}catch{}Q[K]=X}else Q[K]=G}return Q}function R9($,Z,J){let Q=Z.length;var X=Z.charCodeAt(0);X>=l&&X<=r&&(X+=K9);for(let V=J;V<=$.length-Q;V++){var Y=$.charCodeAt(V);if(Y>=l&&Y<=r&&(Y+=K9),Y!==X)continue;let G=!0;for(let K=1;K<Q;K++){let q=$.charCodeAt(V+K),W=Z.charCodeAt(K);if(q>=l&&q<=r&&(q+=K9),W>=l&&W<=r&&(W+=K9),q!==W){G=!1;break}}if(G)return V}return-1}function EZ($,Z,J){let Q=Z.length;var X=Z.charCodeAt(0);X>=l&&X<=r&&(X+=K9);for(let V=Math.min(J,$.length-Q);V>=0;V--){var Y=$.charCodeAt(V);if(Y>=l&&Y<=r&&(Y+=K9),Y!==X)continue;let G=!0;for(let K=1;K<Q;K++){let q=$.charCodeAt(V+K),W=Z.charCodeAt(K);if(q>=l&&q<=r&&(q+=K9),W>=l&&W<=r&&(W+=K9),q!==W){G=!1;break}}if(G)return V}return-1}var c$=-1;function T6($,Z,J){let Q=J.toLowerCase(),X="<"+Q,Y="</"+Q,V=1,G=Z,K=$.length;for(c$=-1;G<K&&V>0;){let z=R9($,X,G),H=R9($,Y,G);if(H===-1)return-1;if(z!==-1&&z<H){let F=b9($,z);F?(F.tag.toLowerCase()===Q&&!F.isClosing&&!F.selfClosing&&!r9(F.tag)&&V++,G=F.end):G=z+1}else{var q=H+Y.length,W=q<K?$.charCodeAt(q):62;if((W===p||W===P||W===R||W===h)&&(V--,V===0)){c$=H;let F=H+Y.length;for(;F<K&&$.charCodeAt(F)!==p;)F++;return F+1}G=H+1}}return-1}function x6($,Z,J,Q){if(Q.ignoreHTMLBlocks||Q.disableParsingRawHTML)return null;var X=F0($,Z);if(N0($,Z,X),V0>3&&!J.inHTML)return null;var Y=Z+X0;if($.charCodeAt(Y)!==$0)return null;var V=$.indexOf(">",Y+1);if(V!==-1&&V<X){var G=$.slice(Y+1,V);if(/^[a-zA-Z][a-zA-Z0-9+.-]*:/.test(G)||/^[^\s@]+@[^\s@]+$/.test(G))return null}var K=SZ($,Y);if(K>=1&&K<=5){var q=$.length;if(K===1){for(var W=$.length,z=0;z<d$.length;z++){var H=R9($,"</"+d$[z]+">",Y);H>=0&&H<W&&(W=H)}if(W<$.length){var F=$.indexOf(">",W);q=F>=0?s($,F+1):$.length}}else{var D=K===2?"-->":K===3?"?>":K===4?">":"]]>",U=$.indexOf(D,Y);U>=0&&(q=s($,U+D.length))}var O=$.slice(Y,q);if(K>=2)return{node:{type:j.htmlComment,text:O,raw:!0,endPos:q},end:q};var B="div",_=O.match(/^<\/?([a-zA-Z][a-zA-Z0-9-]*)/);_&&(B=_[1]);var A=b9($,Y),f={},I;A&&!A.isClosing&&(f=N9(A.attrs,B,Q),I=A.whitespaceBeforeAttrs+A.rawAttrs);var M=[],y=B.toLowerCase(),k="</"+y,b=R9(O,k,0),N=O,w="";if(A&&A.isClosing)for(N=O.slice(A.end-Y);N.length>0&&N.charCodeAt(N.length-1)===h;)N=N.slice(0,-1);else if(A&&!A.isClosing){var S=A.end-Y;if(b!==-1)for(N=O.slice(S),N.charCodeAt(0)===h&&(N=N.slice(1));N.length>0&&N.charCodeAt(N.length-1)===h;)N=N.slice(0,-1);else for(N=O;N.length>0&&N.charCodeAt(N.length-1)===h;)N=N.slice(0,-1);if(b!==-1){var E=O.slice(S,b);w=E.trim()}}var m=A?A.isClosing:!1;return{node:{type:j.htmlBlock,tag:B,attrs:f,d:I,children:M,a:N,text:w,e:!0,b:m,endPos:q,canInterruptParagraph:!0},end:q}}if(K===6||K===7){var T=A6($,Z),L=T<$.length?T:$.length,U0=$.slice(Y,L),C=T<$.length?s($,T):$.length,x=b9($,Y);if(x){var d=x.tag,A0=d.toLowerCase(),h0=x.isClosing;if(h0){var W0=$.slice(x.end,L);return{node:{type:j.htmlBlock,tag:d,attrs:{},children:[],a:W0,text:W0,e:!0,b:!0,endPos:L,canInterruptParagraph:K===6},end:C}}if(x.selfClosing||r9(d))return{node:{type:j.htmlBlock,tag:d,attrs:N9(x.attrs,d,Q),d:x.whitespaceBeforeAttrs+x.rawAttrs,children:[],a:"",text:"",e:!1,b:!1,endPos:x.end,canInterruptParagraph:K===6},end:s($,x.end)};var D0=J.c||0,g=$.slice(Y,L),Z0=-1,j0=-1;if(D0<10){for(var G0="</"+A0,a=x.end-Y,O0=1,I0=a;I0<g.length&&O0>0;){var v=R9(g,"<"+A0,I0),u=R9(g,G0,I0);if(u===-1)break;if(v!==-1&&v<u){var K0=v+A0.length+1;if(K0<g.length){var w0=g.charCodeAt(K0);(w0===P||w0===R||w0===h||w0===p||w0===_0)&&O0++}I0=v+1}else{var n=u+G0.length;if(n<g.length){var b0=g.charCodeAt(n);if((b0===p||b0===P||b0===R||b0===h)&&(O0--,O0===0)){Z0=u;for(var o=n;o<g.length&&g.charCodeAt(o)!==p;)o++;j0=o+1;break}}else if(O0--,O0===0){Z0=u,j0=g.length;break}I0=u+1}}var E0=!1;if(Z0===-1&&K===6&&!x.isClosing&&!bZ.has(A0)){var g0=$.slice(x.end),S0=R9(g0,G0,0);if(S0!==-1){var J0=g0.slice(0,S0);if(J0.indexOf(`

`)!==-1){for(var v9=x.end+S0,T0=v9+G0.length;T0<$.length&&$.charCodeAt(T0)!==p;)T0++;if(T0<$.length&&$.charCodeAt(T0)===p){var Z9=T0+1,s0=F0($,Z9);L=s0,C=s($,s0),g=$.slice(Y,L),U0=$.slice(Y,L),Z0=v9-Y,j0=Z9-Y,E0=!0}}}}}var z9=x.rawAttrs.indexOf(`
`)!==-1||x.whitespaceBeforeAttrs.indexOf(`
`)!==-1,l0=!1;if(Z0!==-1){var u9=g.slice(j0).trim();l0=u9.length===0}var p0=!1,J9=L,D9=C;if(Z0!==-1){var o0=Y+j0,x0=F0($,o0-1);if(o0<x0){for(var y0=o0;y0<x0&&($.charCodeAt(y0)===P||$.charCodeAt(y0)===R);)y0++;if(y0<x0&&$.charCodeAt(y0)===$0){var L9=b9($,y0);L9&&!L9.isClosing&&(p0=!0,J9=o0,D9=o0,l0=!0)}}if(!p0){var U9=s($,x0);if(U9<L){for(var B0=U9;B0<L&&($.charCodeAt(B0)===P||$.charCodeAt(B0)===R);)B0++;if(B0<L&&$.charCodeAt(B0)===$0){var B9=b9($,B0);B9&&(p0=!0,J9=x0,D9=U9,l0=!0)}}}if(!p0&&J.inHTML){p0=!0,J9=x0,D9=s($,x0);var k9=$.slice(o0,x0).trim();l0=k9.length===0}}var t0=[],f0="";if(Z0!==-1){f0=g.slice(x.end-Y,Z0);var d0=f0.trim();if(d0){var{inline:A9,inHTML:d6,c:c6}=J;J.inHTML=!0,J.c=D0+1;var l6=A0==="p";if(l6)J.inline=!0,t0=n0(d0,0,d0.length,J,Q);else{var o6=f0.indexOf(`

`)!==-1,r6=/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(d0),s$=/^<([a-z][^ >/\n\r]*) ?([^>]*?)>/im.test(d0),i6=o6||r6||J.inHTML&&s$;i6||s$?(J.inline=!1,t0=w9(f0,J,Q)):(J.inline=!0,t0=n0(d0,0,d0.length,J,Q))}J.inline=A9,J.inHTML=d6,J.c=c6}}var t$=!1;if(K===6&&Z0!==-1&&!J.inHTML&&!z9){var y$=f0,a6=/<[a-zA-Z][^>]*>/.test(y$),n6=/\n\n/.test(y$)||/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(y$);a6&&!n6&&(t$=!0)}var s6=J.inHTML||K===7||z9||!l0||t$;if(s6){var Q9;if(Z0!==-1&&p0){var e$=!1;if(J.inHTML&&j0<g.length){for(var O$=j0;O$<g.length&&g.charCodeAt(O$)!==h;)O$++;var L$=g.slice(j0,O$).trim();e$=L$.length>1&&L$.charCodeAt(0)===$0&&L$.charCodeAt(1)!==_0}Q9=e$?g.slice(x.end-Y):f0}else(K===7||J.inHTML)&&Z0!==-1?(Q9=g.slice(x.end-Y),Q9.charCodeAt(0)===h&&(Q9=Q9.slice(1))):p0?Q9=$.slice(Y,J9):z9?Q9=U0:(Q9=g.slice(x.end-Y),Q9.charCodeAt(0)===h&&(Q9=Q9.slice(1)));return{node:{type:j.htmlBlock,tag:d,attrs:N9(x.attrs,d,Q),d:x.whitespaceBeforeAttrs+x.rawAttrs,children:t0,a:Q9,text:Q9,e:!0,b:!1,endPos:J9,canInterruptParagraph:K===6},end:D9}}return{node:{type:j.htmlBlock,tag:d,attrs:N9(x.attrs,d,Q),d:x.whitespaceBeforeAttrs+x.rawAttrs,children:t0,a:E0?"":f0,text:f0,e:!1,b:!1,endPos:J9,canInterruptParagraph:K===6},end:D9}}var H$=U0.match(/^<(\/?)([a-zA-Z][a-zA-Z0-9-]*)/),t6=H$?H$[2]:"div",$6=H$?H$[1]==="/":!1,k$=U0;if($6){var Z6=U0.indexOf(">");Z6!==-1&&(k$=U0.slice(Z6+1))}return{node:{type:j.htmlBlock,tag:t6,attrs:{},children:[],a:k$,text:k$,e:!0,b:$6,endPos:L,canInterruptParagraph:K===6},end:C}}var m0=b9($,Y);if(!m0)return null;var E9=m0.tag,E$=E9.toLowerCase(),J6=E9.charCodeAt(0),D$=J6>=l&&J6<=r;if(!D$&&!N$.has(E$)&&!W$.has(E$)&&!E$.includes("-"))return null;if(m0.isClosing)return{node:{type:j.htmlSelfClosing,tag:E9,attrs:{},endPos:m0.end,b:!0,a:$.slice(Y,m0.end)},end:m0.end};var tZ=!0,p9=T6($,m0.end,E9),Y$=[];if(p9!==-1){var e6=c$,B$=$.slice(m0.end,e6),V$=B$.trim();if(V$){var $Z=B$.indexOf(`

`)!==-1,ZZ=/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(V$),JZ=/^<([a-z][^ >/\n\r]*) ?([^>]*?)>/im.test(V$),QZ=J.inline,XZ=J.inHTML,YZ=J.c;J.inHTML=!0,J.c=(J.c||0)+1,$Z||ZZ||JZ?(J.inline=!1,Y$=w9(B$,J,Q)):(J.inline=!0,Y$=n0(V$,0,V$.length,J,Q)),J.inline=QZ,J.inHTML=XZ,J.c=YZ}var VZ=F0($,p9),GZ=$.slice(p9,VZ).trim(),S$=GZ?p9:s($,p9),Q6=D$?$.slice(Y,p9):$.slice(Y,S$),KZ=D$?p9:S$;return{node:{type:j.htmlBlock,tag:E9,attrs:N9(m0.attrs,E9,Q),d:m0.whitespaceBeforeAttrs+m0.rawAttrs,children:Y$,a:Q6,text:D$?B$:Q6,e:!0,b:!1,endPos:KZ,canInterruptParagraph:!1},end:S$}}var a9=A6($,m0.end),qZ=a9<$.length?s($,a9):a9,f$=$.slice(m0.end,a9);if(f$.trim()){var{inline:FZ,inHTML:WZ,c:zZ}=J;J.inline=!1,J.inHTML=!0,J.c=(J.c||0)+1,Y$=w9(f$,J,Q),J.inline=FZ,J.inHTML=WZ,J.c=zZ}var UZ=$.slice(m0.end,a9);return{node:{type:j.htmlBlock,tag:E9,attrs:N9(m0.attrs,E9,Q),d:m0.whitespaceBeforeAttrs+m0.rawAttrs,children:Y$,a:UZ,text:f$,e:!0,b:!1,endPos:a9,canInterruptParagraph:!1},end:qZ}}function SZ($,Z){if($.charCodeAt(Z)!==$0)return 0;var J=Z+1,Q=$.length;if($.charCodeAt(J)===C0&&$.charCodeAt(J+1)===c&&$.charCodeAt(J+2)===c)return 2;if($.charCodeAt(J)===c9)return 3;if($.charCodeAt(J)===C0){var X=$.charCodeAt(J+1);if(X>=l&&X<=r)return 4;if($.slice(J+1,J+8)==="[CDATA[")return 5}for(var Y=$.charCodeAt(J)===_0,V=Y?J+1:J,G=V;G<Q;){var K=$.charCodeAt(G);if(K>=l&&K<=r||K>=q0&&K<=z0||K>=t&&K<=e||K===c)G++;else break}if(G===V)return 0;var q=$.slice(V,G);if(W$.has(q.toLowerCase())){if(Y)return 0;var W=$.charCodeAt(G);return W===P||W===R||W===p||W===h||G>=Q?1:0}if(N$.has(q.toLowerCase())){if(Y){for(var z=G;z<Q&&($.charCodeAt(z)===P||$.charCodeAt(z)===R);)z++;return z<Q&&$.charCodeAt(z)===p?6:0}var H=G<Q?$.charCodeAt(G):-1;return H===P||H===R||H===p||H===h||H===_0||H===-1?6:0}if(Y){for(var O=G;O<Q&&($.charCodeAt(O)===P||$.charCodeAt(O)===R);)O++;if(O<Q&&$.charCodeAt(O)===p){var B=F0($,Z),_=$.slice(O+1,B).trim();if(_==="")return 7}}else{var F=F0($,Z),D=b9($,Z);if(D&&D.end<=F){var U=$.slice(D.end,F).trim();if(U==="")return 7}}return 0}function I6($,Z,J){for(var Q=0,X=$.length;Q<X&&($.charCodeAt(Q)===P||$.charCodeAt(Q)===R);)Q++;for(;X>Q&&($.charCodeAt(X-1)===P||$.charCodeAt(X-1)===R);)X--;Q<X&&$.charCodeAt(Q)===L0&&Q++,X>Q&&$.charCodeAt(X-1)===L0&&(X-2<Q||$.charCodeAt(X-2)!==P0)&&X--;for(var Y=[],V=Q,G=!1,K=[],q=Q;q<X;){var W=$.charCodeAt(q);if(W===P0&&q+1<X){$.charCodeAt(q+1)===L0?(G||(G=!0,K=[]),K.push($.slice(V,q)),K.push("|"),q+=2,V=q):q+=2;continue}if(W===Q0){for(var z=0;q<X&&$.charCodeAt(q)===Q0;)z++,q++;for(var H=!1;q<X&&!H;){for(var F=0;q<X&&$.charCodeAt(q)===Q0;)F++,q++;F===z?H=!0:F===0&&q++}continue}if(W===L0){var D=G?(K.push($.slice(V,q)),K.join("")):$.slice(V,q);Y.push(D.trim()),q++,V=q,G=!1,K=[];continue}q++}var U=G?(K.push($.slice(V,X)),K.join("")):$.slice(V,X);return Y.push(U.trim()),Y.map(function(O){var B=O.indexOf("\\|")!==-1?O.replace(/\\\|/g,"|"):O;return n0(B,0,B.length,Z,J)})}function P6($,Z,J,Q){let X=F0($,Z);var Y=$.indexOf("|",Z);if(Y<0||Y>=X)return null;let V=s($,X);if(V>=$.length)return null;let G=F0($,V);if(!L6($,V,G))return null;let K=$.slice(Z,X),q=$.slice(V,G);for(var W=[],z=0,H=q.length;z<H&&(q.charCodeAt(z)===P||q.charCodeAt(z)===R);)z++;for(z<H&&q.charCodeAt(z)===L0&&z++;z<H;){for(;z<H&&(q.charCodeAt(z)===P||q.charCodeAt(z)===R);)z++;if(z>=H||q.charCodeAt(z)===L0)break;var F=q.charCodeAt(z)===u0;for(F&&z++;z<H&&q.charCodeAt(z)===c;)z++;var D=z<H&&q.charCodeAt(z)===u0;for(D&&z++,W.push(F&&D?"center":D?"right":F?"left":null);z<H&&(q.charCodeAt(z)===P||q.charCodeAt(z)===R);)z++;z<H&&q.charCodeAt(z)===L0&&z++}let U=I6(K,J,Q);if(W.length!==U.length)return null;let O=[],B=s($,G);for(;B<$.length;){let y=F0($,B),k=$.slice(B,y);if(q9($,B,y))break;if(N0($,B,y),V0<4){var _=$.charCodeAt(B+X0);if(_===p||_===O9||(_===c||_===M0||_===v0)&&m9($,B))break;if(_===Q0||_===R0){for(var A=B+X0,f=0;A<y&&$.charCodeAt(A)===_;)f++,A++;if(f>=3)break}}O.push(I6(k,J,Q)),B=s($,y)}if((Q.streaming||Q.optimizeForStreaming)&&O.length===0)return null;for(var I=U.length,M=0;M<O.length;M++)if(O[M].length<I)for(;O[M].length<I;)O[M].push([]);else O[M].length>I&&(O[M].length=I);return{node:{type:j.table,header:U,cells:O,align:W},end:B}}function fZ($,Z,J){var Q=F0($,Z);if(N0($,Z,Q),V0>3)return null;var X=Z+X0;if($.charCodeAt(X)!==H0)return null;if(X+1<$.length&&$.charCodeAt(X+1)===X9){var Y=hZ($,X,J);return Y||null}J.refs||(J.refs={});var V=E6($,X,J.refs);return V===null?null:{node:{type:j.refCollection},end:V}}function hZ($,Z,J){var Q=$.length;if($.charCodeAt(Z)!==H0||Z+1>=Q||$.charCodeAt(Z+1)!==X9)return null;for(var X=Z+2,Y=X;X<Q&&$.charCodeAt(X)!==i0;){if($.charCodeAt(X)===h)return null;X++}if(X>=Q)return null;var V=("^"+$.slice(Y,X)).toLowerCase();if(X++,X>=Q||$.charCodeAt(X)!==u0)return null;for(X++;X<Q&&($.charCodeAt(X)===P||$.charCodeAt(X)===R);)X++;if(X<Q&&$.charCodeAt(X)===h)for(X++;X<Q&&($.charCodeAt(X)===P||$.charCodeAt(X)===R);)X++;var G=$.indexOf(`
`,X);G<0&&(G=Q);for(var K=$.slice(X,G).trim(),q=G<Q?G+1:Q;q<Q;){var W=F0($,q);if(N0($,q,W),V0>=2&&!q9($,q,W))K+=`
`+$.slice(q,W),q=s($,W);else if(q9($,q,W)){var z=s($,W);if(z<Q){var H=F0($,z);if(N0($,z,H),V0>=2){K+=`
`,q=s($,W);continue}}break}else break}return J.refs[V]||(J.refs[V]={target:K,title:void 0}),{node:{type:j.footnote},end:q}}function gZ($,Z,J,Q){let X=Z,Y=0,V=0,G=-1;for(;X<$.length;){let w=G>=0?G:F0($,X);if(G=-1,q9($,X,w))break;if(N0($,X,w),V0<4&&V>0&&!J.f){let E=$.charCodeAt(X+X0);if(E===r0||E===c){let m=X+X0;for(;m<w&&$.charCodeAt(m)===E;)m++;for(;m<w&&($.charCodeAt(m)===P||$.charCodeAt(m)===R);)m++;if(m>=w){Y=E===r0?1:2,X=s($,w);break}}}V=w;let S=s($,w);if(S<$.length){if($.charCodeAt(S)===e9){var K=F0($,S);X=s($,K),V=K;continue}let E=F0($,S);if(G=E,N0($,S,E),V0<4){let m=$.charCodeAt(S+X0);if(m===p){X=S;break}if(m===O9&&h6($,S,J,Q)){X=S;break}if(m===Q0||m===R0){for(var q=S+X0,W=0;q<E&&$.charCodeAt(q)===m;)W++,q++;if(W>=3){X=S;break}}if(m===$0){var z=S+X0+1,H=z<E?$.charCodeAt(z):0,F=H===C0||H===c9;if(!F&&H===_0){for(var D=z+1,U=D;U<E&&($.charCodeAt(U)>=l&&$.charCodeAt(U)<=r||$.charCodeAt(U)>=q0&&$.charCodeAt(U)<=z0||$.charCodeAt(U)>=t&&$.charCodeAt(U)<=e||$.charCodeAt(U)===c);)U++;U>D&&(F=N$.has($.slice(D,U).toLowerCase()))}else if(!F){for(var O=z;O<E&&($.charCodeAt(O)>=l&&$.charCodeAt(O)<=r||$.charCodeAt(O)>=q0&&$.charCodeAt(O)<=z0||$.charCodeAt(O)>=t&&$.charCodeAt(O)<=e||$.charCodeAt(O)===c);)O++;if(O>z){var B=$.slice(z,O).toLowerCase();F=N$.has(B)||W$.has(B)}}if(F&&x6($,S,J,Q)){X=S;break}}if(m===c||m===M0||m===I9){let T=S+X0+1;if(T<E&&($.charCodeAt(T)===P||$.charCodeAt(T)===R)){var _=F$($,T,E);if(_<E&&!m9($,S)){X=S;break}}}if(m>=t&&m<=e){let T=S+X0;for(;T<E&&$.charCodeAt(T)>=t&&$.charCodeAt(T)<=e;)T++;if(T<E&&($.charCodeAt(T)===Y9||$.charCodeAt(T)===G9)&&T-(S+X0)===1&&$.charCodeAt(S+X0)===49){var A=T+1;if(A<E&&($.charCodeAt(A)===P||$.charCodeAt(A)===R)){var f=F$($,A,E);if(f<E){X=S;break}}}}if(m===L0){let T=s($,E);if(T<$.length){let L=F0($,T);if(L6($,T,L)){X=S;break}}}if((m===c||m===M0||m===v0)&&m9($,S)){if(m!==c){X=S;break}let T=0,L=S+X0;for(;L<E&&$.charCodeAt(L)===c;)T++,L++;for(;L<E&&($.charCodeAt(L)===P||$.charCodeAt(L)===R);)L++;if(L<E){X=S;break}}}}X=s($,w)}for(var I=Y?V:X;I>Z&&($.charCodeAt(I-1)===h||$.charCodeAt(I-1)===j9||$.charCodeAt(I-1)===P||$.charCodeAt(I-1)===R);)I--;for(var M=Z;M<I&&($.charCodeAt(M)===P||$.charCodeAt(M)===R);)M++;if(M>=I)return null;for(var y=!1,k=M;k<I;k++)if($.charCodeAt(k)===e9){y=!0;break}var b=y?$.slice(M,I).replace(/\u001E/g,""):$.slice(M,I);if(!b)return null;let N=TZ(b,0,b.length,J,Q);if(Y){let S=(Q?.slugify||$9)(b);return{node:{type:j.heading,level:Y,children:N,id:S},end:X}}return{node:{type:j.paragraph,children:N},end:X}}function TZ($,Z,J,Q,X){var Y=$.indexOf(`
`,Z);if(Y<0||Y>=J)return n0($,Z,J,Q,X);for(var V="",G=Z,K=Z;K<J;){var q=$.charCodeAt(K);if(q===Q0){var W=R$($,K,J);if(W>K){for(var z=!1,H=K;H<W;H++)if($.charCodeAt(H)===h){z=!0;break}z&&(V+=$.slice(G,K),V+=$.slice(K,W).replace(/\n/g," "),G=W),K=W;continue}}if(q===$0){var F=m6($,K,J);if(F>K){K=F;continue}}if(q===h){var D=!1,U=0;if(K>Z&&$.charCodeAt(K-1)===P0)D=!0,U=1;else{for(var O=0,B=K-1;B>=Z&&$.charCodeAt(B)===P;)O++,B--;O>=2&&(D=!0,U=O)}for(D?(V+=$.slice(G,K-U),V+=""):V+=$.slice(G,K+1),K++;K<J&&$.charCodeAt(K)===P;)K++;G=K;continue}K++}return G<J&&(V+=$.slice(G,J)),n0(V,0,V.length,Q,X)}function xZ($,Z,J){if($.charCodeAt(Z)!==Q0)return null;let Q=y9($,Z,J,96),X=Z+Q;for(;X<J;){let Y=$.indexOf("`",X);if(Y<0||Y>=J)return null;let V=y9($,Y,J,96);if(V===Q){let G=$.slice(Z+Q,Y);return G=G.replace(/\n/g," "),G.length>0&&G[0]===" "&&G[G.length-1]===" "&&G.trim().length>0&&(G=G.slice(1,-1)),{node:{type:j.codeInline,text:G},end:Y+V}}X=Y+V}return null}function R$($,Z,J){if($.charCodeAt(Z)!==Q0)return Z;let Q=y9($,Z,J,96),X=Z+Q;for(;X<J;){let Y=$.indexOf("`",X);if(Y<0||Y>=J)return Z;let V=y9($,Y,J,96);if(V===Q)return Y+V;X=Y+V}return Z}function m6($,Z,J){if($.charCodeAt(Z)!==$0)return Z;if(Z+1<J&&$.charCodeAt(Z+1)===_0){let q=Z+2;for(;q<J&&$.charCodeAt(q)!==p;)q++;return q<J?q+1:Z}if(Z+3<J&&$.charCodeAt(Z+1)===C0&&$.charCodeAt(Z+2)===c&&$.charCodeAt(Z+3)===c){let q=$.indexOf("-->",Z+4);return q>=0?q+3:Z}let Q=Z+1,X=Q;for(;Q<J;){let q=$.charCodeAt(Q);if(q>=l&&q<=r||q>=q0&&q<=z0||q>=t&&q<=e||q===c)Q++;else break}if(Q===X)return Z;let Y=$.slice(X,Q).toLowerCase(),V=!1;for(;Q<J;){let q=$.charCodeAt(Q);if(q===p){Q++;break}if(q===_0&&Q+1<J&&$.charCodeAt(Q+1)===p){Q+=2,V=!0;break}if(q===e0||q===_9){var G=q;for(Q++;Q<J&&$.charCodeAt(Q)!==G;)Q++;Q<J&&Q++;continue}if(q===h)return Z;Q++}if(V||r9(Y))return Q;let K=1;for(;Q<J&&K>0;)if($.charCodeAt(Q)===$0)if(Q+1<J&&$.charCodeAt(Q+1)===_0){let q=Q+2,W=q;for(;W<J&&($.charCodeAt(W)>=l&&$.charCodeAt(W)<=r||$.charCodeAt(W)>=q0&&$.charCodeAt(W)<=z0);)W++;if($.slice(q,W).toLowerCase()===Y){for(;W<J&&$.charCodeAt(W)!==p;)W++;if(W<J&&W++,K--,K===0)return W}Q=W}else{let q=Q+1,W=q;for(;W<J&&($.charCodeAt(W)>=l&&$.charCodeAt(W)<=r||$.charCodeAt(W)>=q0&&$.charCodeAt(W)<=z0);)W++;$.slice(q,W).toLowerCase()===Y&&K++,Q++}else Q++;return Q}function mZ($,Z,J,Q,X){if($.charCodeAt(Z)!==R0||Z+1>=J||$.charCodeAt(Z+1)!==R0)return null;let Y=Z+2;for(;Y+1<J;){let V=$.charCodeAt(Y);if(V===Q0){let G=R$($,Y,J);if(G>Y){Y=G;continue}}if(V===R0&&$.charCodeAt(Y+1)===R0){let G=$.slice(Z+2,Y),K=n0(G,0,G.length,Q,X);return{node:{type:j.textFormatted,tag:"del",children:K},end:Y+2}}V===P0&&Y+1<J&&Y++,Y++}return null}function CZ($,Z,J,Q,X){if($.charCodeAt(Z)!==r0||Z+1>=J||$.charCodeAt(Z+1)!==r0)return null;let Y=Z+2;for(;Y+1<J;){let V=$.charCodeAt(Y);if(V===Q0){let G=R$($,Y,J);if(G>Y){Y=G;continue}}if(V===r0&&$.charCodeAt(Y+1)===r0&&Y>Z+2){let G=$.slice(Z+2,Y),K=n0(G,0,G.length,Q,X);return{node:{type:j.textFormatted,tag:"mark",children:K},end:Y+2}}V===P0&&Y+1<J&&Y++,Y++}return null}var uZ=/[\p{P}\p{S}]/u;function N6($,Z,J){return $<l9?!!(o$($)&Y0):uZ.test(Z[J])}function b6($,Z,J){return $<l9?!!(o$($)&Q$):/\p{Zs}/u.test(Z[J])}function pZ($,Z,J){var Q=$.charCodeAt(Z);if(Q!==M0&&Q!==v0)return null;var X=y9($,Z,J,Q);if(X===0)return null;var Y=Z>0?$.charCodeAt(Z-1):32,V=Z+X<J?$.charCodeAt(Z+X):32,G=b6(Y,$,Z-1),K=b6(V,$,Z+X),q=Z>0?N6(Y,$,Z-1):!1,W=Z+X<J?N6(V,$,Z+X):!1,z=!K&&(!W||G||q),H=!G&&(!q||K||W),F,D;return Q===M0?(F=z,D=H):(F=z&&(!H||q),D=H&&(!z||W)),{len:X,canOpen:F,canClose:D}}function dZ($,Z,J,Q){if(Z.length!==0){for(var X=[],Y=0;Y<12;Y++)X[Y]=-1;for(var V=0;V<Z.length;){var G=Z[V];if(!G.active||!G.canClose){V++;continue}for(var K=G.ch===M0?0:1,q=K*6+G.len%3*2+(G.canOpen?1:0),W=X[q]!==void 0?X[q]:-1,z=-1,H=V-1;H>W;H--){var F=Z[H];if(!(!F.active||F.ch!==G.ch||!F.canOpen)&&!((G.canOpen||F.canClose)&&(F.len+G.len)%3===0&&F.len%3!==0)){z=H;break}}if(z<0){X[q]=V-1,!G.canOpen&&(G.active=!1),V++;continue}var D=Z[z],U=D.len>=2&&G.len>=2,O=U?2:1;D.len-=O,G.len-=O;var B=$[D.idx],_=$[G.idx];B.text=B.text.slice(0,B.text.length-O),_.text=_.text.slice(O);var A=D.idx+1,f=G.idx,I=$.slice(A,f),M={type:j.textFormatted,tag:U?"strong":"em",children:I};$.splice(A,f-A,M);for(var y=f-A-1,k=0;k<Z.length;k++)Z[k].idx>D.idx&&(Z[k].idx-=y);for(var b=z+1;b<V;b++)Z[b].active=!1;if(D.len===0&&(D.active=!1,B.text==="")){$.splice(D.idx,1);for(var N=0;N<Z.length;N++)Z[N].idx>D.idx?Z[N].idx--:Z[N].idx===D.idx&&(Z[N].idx=-1)}if(G.len===0){G.active=!1;var w=G.idx;if(_.text===""){$.splice(w,1);for(var S=0;S<Z.length;S++)Z[S].idx>w?Z[S].idx--:Z[S].idx===w&&(Z[S].idx=-1)}}else continue;V++}for(var E=0,m=0;m<$.length;m++){var T=$[m];if(T.type===j.text){var L=T;if(L.text==="")continue;if(E>0&&$[E-1].type===j.text){$[E-1].text+=L.text;continue}}$[E++]=T}$.length=E}}function R6($,Z,J,Q,X){let Y=$.charCodeAt(Z)===C0,V=Y?Z+1:Z;if($.charCodeAt(V)!==H0)return null;var G=$.indexOf("]",V+1);if(G<0||G>=J)return null;for(var K=V+1,q=-1,W=1;K<J&&W>0;){var z=$.charCodeAt(K);if(z===P0&&K+1<J){K+=2;continue}if(z===Q0){var H=R$($,K,J);if(H>K){K=H;continue}}if(z===$0){var F=C6($,K,J);if(F){K=F.end;continue}var D=m6($,K,J);if(D>K){K=D;continue}}z===H0?W++:z===i0&&W--,K++}if(W!==0)return null;var U=K-1,O=$.slice(V+1,U),B=K<J?$.charCodeAt(K):0,_=!1;if(B===V9){var A=!0;for(K++;K<J&&($.charCodeAt(K)===P||$.charCodeAt(K)===h);)K++;var f="",I=K;if(K<J&&$.charCodeAt(K)===$0){for(K++,I=K;I<J&&$.charCodeAt(I)!==p;){if($.charCodeAt(I)===P0&&I+1<J){I+=2;continue}if($.charCodeAt(I)===h){A=!1;break}I++}A&&(I>=J||$.charCodeAt(I)!==p)&&(A=!1),A&&(f=$.slice(K,I),I++)}else if(A){for(var M=0;I<J;){var y=$.charCodeAt(I);if(y===P0&&I+1<J){I+=2;continue}if(y===V9)M++;else if(y===G9){if(M===0)break;M--}else if(y===P||y===h)break;I++}f=$.slice(K,I)}if(A){for(K=I;K<J&&($.charCodeAt(K)===P||$.charCodeAt(K)===h);)K++;var k;if(K<J){var b=$.charCodeAt(K);if(b===e0||b===_9||b===V9){var N=b===V9?41:b;K++;for(var w=K;K<J&&$.charCodeAt(K)!==N;)$.charCodeAt(K)===P0&&K+1<J&&K++,K++;K>=J?A=!1:(k=$.slice(w,K),K++)}}if(A){for(;K<J&&($.charCodeAt(K)===P||$.charCodeAt(K)===h);)K++;(K>=J||$.charCodeAt(K)!==G9)&&(A=!1)}}if(A){K++,f=J$(f),k!==void 0&&(k=h9(J$(k)));var S=X?.sanitizer||$$,E=S(f,Y?"img":"a",Y?"src":"href"),m=E===null?null:f;if(Y){var T=n0(O,0,O.length,Q,X),L=b$(T);return{node:{type:j.image,target:m,alt:L,title:k},end:K}}else{var U0=Q.inAnchor;Q.inAnchor=!0;var C=U0?[{type:j.text,text:O}]:n0(O,0,O.length,Q,X);return Q.inAnchor=U0,!Q.inAnchor&&l$(C)?null:{node:{type:j.link,target:m,title:k,children:C},end:K}}}else K=U+1,_=!0}var x="",d=K;if(!_&&B===H0){var A0=K+1;d=A0;for(var h0=!1;d<J&&$.charCodeAt(d)!==i0;){if($.charCodeAt(d)===P0&&d+1<J){d+=2;continue}if($.charCodeAt(d)===H0){h0=!0;break}d++}if(h0||d>=J)return null;var W0=$.slice(A0,d);if(W0.trim())x=I$(W0);else{if(v6(O))return null;x=I$(O)}d=d+1}else{if(v6(O))return null;x=I$(O)}var D0=Q.refs[x];if(!D0)return null;if(Y)return{node:{type:j.image,target:D0.target,alt:b$(n0(O,0,O.length,Q,X)),title:D0.title},end:d};var g=Q.inAnchor;Q.inAnchor=!0;var C=g?[{type:j.text,text:O}]:n0(O,0,O.length,Q,X);return Q.inAnchor=g,!Q.inAnchor&&l$(C)?null:{node:{type:j.link,target:D0.target,title:D0.title,children:C},end:d}}function C6($,Z,J){if($.charCodeAt(Z)!==$0)return null;for(var Q=Z+1;Q<J;){var X=$.charCodeAt(Q);if(X===p)break;if(X===P||X===h||X===j9||X===$0)return null;Q++}if(Q>=J||$.charCodeAt(Q)!==p)return null;var Y=$.slice(Z+1,Q),V=Y.match(/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^\x00-\x20]*)$/);return V?{node:{type:j.link,target:Y,children:[{type:j.text,text:Y}]},end:Q+1}:Y.indexOf("@")!==-1&&/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(Y)?{node:{type:j.link,target:"mailto:"+Y,children:[{type:j.text,text:Y}]},end:Q+1}:null}function cZ($,Z,J,Q){if($.charCodeAt(Z)!==H0||Z+1>=J||$.charCodeAt(Z+1)!==X9)return null;let X=Z+2;for(;X<J&&$.charCodeAt(X)!==i0&&$.charCodeAt(X)!==h;)X++;if(X>=J||$.charCodeAt(X)!==i0)return null;let Y=$.slice(Z+2,X);return Y?{node:{type:j.footnoteReference,target:"#"+$9(Y),text:Y},end:X+1}:null}function lZ($,Z,J,Q){if(Q.disableBareUrls)return null;var X="",Y=!1,V=$.charCodeAt(Z);if(V===t9||V===72?Z+8<=J&&$.charCodeAt(Z+1)===j$&&$.charCodeAt(Z+2)===j$&&$.charCodeAt(Z+3)===g$&&($.charCodeAt(Z+4)===Y6&&$.charCodeAt(Z+5)===u0&&$.charCodeAt(Z+6)===_0&&$.charCodeAt(Z+7)===_0?X="https://":$.charCodeAt(Z+4)===u0&&$.charCodeAt(Z+5)===_0&&$.charCodeAt(Z+6)===_0&&(X="http://")):V===S9||V===70?Z+6<=J&&$.charCodeAt(Z+1)===j$&&$.charCodeAt(Z+2)===g$&&$.charCodeAt(Z+3)===u0&&$.charCodeAt(Z+4)===_0&&$.charCodeAt(Z+5)===_0&&(X="ftp://"):(V===f9||V===87)&&Z+4<=J&&$.charCodeAt(Z+1)===f9&&$.charCodeAt(Z+2)===f9&&$.charCodeAt(Z+3)===Y9&&(X="www.",Y=!0),!X)return null;let G=Z+X.length;for(;G<J;){let M=$.charCodeAt(G);if(M===P||M===h||M===R||M===j9||M===$0||M===p)break;G++}for(var K=0,q=0,W=Z;W<G;W++){var z=$.charCodeAt(W);z===V9?K++:z===G9&&q++}let H=G;for(;H>Z+X.length;){let M=$.charCodeAt(H-1);if(M===Y9||M===T$||M===u0||M===C0||M===c9||M===G9){if(M===G9){if(K>=q)break;q--}H--}else if(M===M$){for(var F=H-2;F>Z&&($.charCodeAt(F)>=l&&$.charCodeAt(F)<=r||$.charCodeAt(F)>=q0&&$.charCodeAt(F)<=z0||$.charCodeAt(F)>=t&&$.charCodeAt(F)<=e);)F--;F>=Z&&$.charCodeAt(F)===d9?H=F:H--}else break}if(H<=Z+X.length)return null;var D=Z+(Y?4:X.length),U=$.indexOf("/",D);if((U<0||U>H)&&(U=H),Y&&$.indexOf(".",D)===-1)return null;for(var O=-1,B=-1,_=U-1;_>=D;_--)if($.charCodeAt(_)===Y9)if(O<0)O=_;else{B=_;break}for(var A=B>=0?B+1:D,_=A;_<U;_++)if($.charCodeAt(_)===v0)return null;var f=$.slice(Z,H),I=Y?"http://"+f:f;return{node:{type:j.link,target:I,children:[{type:j.text,text:f}]},end:H}}function oZ($,Z,J,Q){if(Q.disableBareUrls)return null;for(var X=Z,Y=X;X<J;){var V=$.charCodeAt(X);if(V>=l&&V<=r||V>=q0&&V<=z0||V>=t&&V<=e||V===Y9||V===C0||V===O9||V===36||V===n9||V===d9||V===_9||V===M0||V===I9||V===_0||V===r0||V===c9||V===X9||V===v0||V===Q0||V===P9||V===L0||V===G$||V===R0||V===c)X++;else break}if(X===Y||X>=J||$.charCodeAt(X)!==s9)return null;X++;for(var G=X,K=-1,q=X;X<J;){var V=$.charCodeAt(X);if(V>=l&&V<=r||V>=q0&&V<=z0||V>=t&&V<=e)X++;else if((V===c||V===v0)&&X>G)X++;else if(V===Y9){if(X===G)break;var W=$.charCodeAt(X-1);if(W===c||W===v0||X-q>63)break;if(X+1<J){var z=$.charCodeAt(X+1);if(z>=l&&z<=r||z>=q0&&z<=z0||z>=t&&z<=e)K=X,q=X+1,X++;else break}else break}else break}if(X-q>63||K<0)return null;var H=$.charCodeAt(X-1);if(!(H>=l&&H<=r||H>=q0&&H<=z0||H>=t&&H<=e)||X<=K+1)return null;for(var F=-1,D=K-1;D>=G;D--)if($.charCodeAt(D)===Y9){F=D;break}for(var U=F>=0?F+1:G,D=U;D<X;D++)if($.charCodeAt(D)===v0)return null;var O=$.slice(Z,X);return{node:{type:j.link,target:"mailto:"+O,children:[{type:j.text,text:O}]},end:X}}function l$($){for(var Z=0;Z<$.length;Z++)if($[Z].type===j.link||"children"in $[Z]&&Array.isArray($[Z].children)&&l$($[Z].children))return!0;return!1}function b$($){for(var Z="",J=0;J<$.length;J++){var Q=$[J];Q.type===j.text?Z+=Q.text:Q.type===j.breakLine?Z+=" ":Q.type===j.codeInline?Z+=Q.text:"children"in Q&&Array.isArray(Q.children)?Z+=b$(Q.children):Q.type===j.image?Z+=Q.alt||"":Q.type===j.link&&(Z+=b$(Q.children))}return Z}function i9($){let Z=$.includes("&")?h9($):$;return{type:j.text,text:Z}}function rZ($,Z,J,Q,X){if($.charCodeAt(Z)!==$0)return null;var Y=Z+1;if(Y>=J)return null;var V=$.charCodeAt(Y);if(V===C0&&Y+1<J&&$.charCodeAt(Y+1)===c&&Y+2<J&&$.charCodeAt(Y+2)===c){var G=Y+3;if(G<J&&$.charCodeAt(G)===p)return{node:{type:j.htmlComment,text:"",endsWithGreaterThan:!0},end:G+1};if(G+1<J&&$.charCodeAt(G)===c&&$.charCodeAt(G+1)===p)return{node:{type:j.htmlComment,text:"-",endsWithGreaterThan:!0},end:G+2};var K=$.indexOf("-->",G);return K!==-1&&K<=J-3?{node:{type:j.htmlComment,text:$.slice(Z+4,K)},end:K+3}:null}if(V===c9){var q=$.indexOf("?>",Y+1);return q!==-1&&q<J?{node:{type:j.htmlSelfClosing,tag:"?",attrs:{},a:$.slice(Z,q+2)},end:q+2}:null}if(V===C0&&Y+1<J){var W=$.charCodeAt(Y+1);if(W===H0&&$.slice(Y+1,Y+8)==="[CDATA["){var z=$.indexOf("]]>",Y+8);return z!==-1&&z<J?{node:{type:j.htmlSelfClosing,tag:"![CDATA[",attrs:{},a:$.slice(Z,z+3)},end:z+3}:null}if(W>=l&&W<=r){var H=$.indexOf(">",Y+2);return H!==-1&&H<J?{node:{type:j.htmlSelfClosing,tag:"!"+$.slice(Y+1,H),attrs:{},a:$.slice(Z,H+1)},end:H+1}:null}}if(V===_0){var F=Y+1;if(F>=J)return null;var D=$.charCodeAt(F);if(!(D>=l&&D<=r||D>=q0&&D<=z0))return null;for(F++;F<J;){var U=$.charCodeAt(F);if(U>=l&&U<=r||U>=q0&&U<=z0||U>=t&&U<=e||U===c)F++;else break}for(;F<J&&($.charCodeAt(F)===P||$.charCodeAt(F)===R||$.charCodeAt(F)===h);)F++;if(F<J&&$.charCodeAt(F)===p){var O=$.slice(Y+1,F).trim();return{node:{type:j.htmlSelfClosing,tag:O,attrs:{},a:$.slice(Z,F+1),b:!0},end:F+1}}return null}if(!(V>=l&&V<=r||V>=q0&&V<=z0))return null;var B=b9($,Z);if(!B)return null;var _=B.tag,A=_.toLowerCase(),f=B.selfClosing;if(f||r9(_))return{node:{type:j.htmlSelfClosing,tag:_,attrs:N9(B.attrs,_,X),a:$.slice(Z,B.end)},end:B.end};var I=W$.has(A),M=T6($.slice(0,J),B.end,_);if(M===-1)return{node:{type:j.htmlSelfClosing,tag:_,attrs:N9(B.attrs,_,X),a:$.slice(Z,B.end)},end:B.end};var y=EZ($,"</"+A,M),k=$.slice(B.end,y),b=[];if(I)k.trim()&&(b=[{type:j.text,text:k}]);else{var N=k.trim();if(N){var{inAnchor:w,inline:S}=Q;A==="a"&&(Q.inAnchor=!0);var E=N.indexOf(`

`)!==-1||/^#{1,6}\s/.test(N);E?(Q.inline=!1,b=w9(N,Q,X)):b=n0(N,0,N.length,Q,X),Q.inAnchor=w,Q.inline=S}}return{node:{type:j.htmlBlock,tag:_,attrs:N9(B.attrs,_,X),d:B.rawAttrs,children:b,text:k,e:!1},end:M}}var iZ=200,Z$=0;function n0($,Z,J,Q,X){if(Z$++,Z$>iZ)return Z$--,[{type:j.text,text:$.slice(Z,J)}];let Y=Q;if(X.streaming||X.optimizeForStreaming){let n=function(o,E0){for(var g0=1,S0=E0+1;S0<o.length;S0++){var J0=o.charCodeAt(S0);if(J0===H0)g0++;else if(J0===i0&&(g0--,g0===0))return S0}return-1},v=$.slice(Z,J),u=v;for(var V=0,G=0,K=0,q=0,W=0,z=-1,H=-1,F=-1,D=-1,U=-1,O=0;O<v.length;O++){var B=v.charCodeAt(O);B===M0?O+1<v.length&&v.charCodeAt(O+1)===M0?(V++,z=O,O++):(G++,H=O):B===v0?O+1<v.length&&v.charCodeAt(O+1)===v0?(K++,F=O,O++):(q++,D=O):B===R0&&O+1<v.length&&v.charCodeAt(O+1)===R0&&(W++,U=O,O++)}var _=[];W%2===1&&U>=0&&_.push([U,2]),K%2===1&&F>=0&&_.push([F,2]),q%2===1&&D>=0&&_.push([D,1]),V%2===1&&z>=0&&_.push([z,2]),G%2===1&&H>=0&&_.push([H,1]),_.sort(function(o,E0){return E0[0]-o[0]});for(var A=0;A<_.length;A++){var f=_[A][0],I=_[A][1];v=v.slice(0,f)+v.slice(f+I)}let K0=0,w0=-1;for(let o=0;o<v.length;o++)v.charCodeAt(o)===Q0&&(K0++,w0=o);if(K0%2===1&&w0!==-1){let o=!1,E0=-1,g0=0;for(;g0<v.length;)v.charCodeAt(g0)===Q0&&(o?(o=!1,E0=-1):(E0=g0,o=!0)),g0++;o&&E0!==-1&&(v=v.slice(0,E0))}for(var M=!0;M;){M=!1;for(var y=-1,k=-1,b=-1,N=!1,w=0;w<v.length;w++){var S=v.charCodeAt(w);if(S===H0&&(w===0||v.charCodeAt(w-1)!==P0)){var E=w>0&&v.charCodeAt(w-1)===C0,m=E?w-1:w,T=n(v,w);if(T===-1)y=m,N=E,k=w+1,b=v.length;else{var L=T+1;if(L>=v.length)y=m,N=E,k=w+1,b=T;else if(v.charCodeAt(L)===V9){var U0=v.indexOf(")",L+1);U0===-1?(y=m,N=E,k=w+1,b=T,w=v.length):w=U0}else if(v.charCodeAt(L)===H0){var C=v.indexOf("]",L+1);C===-1?(y=m,N=E,k=w+1,b=T,w=v.length):w=C}else w=T}}}if(y>=0){var x=N?"":v.slice(k,b);v=v.slice(0,y)+x,M=!0}}let b0=v.match(/<([A-Z][A-Za-z0-9]*)(?:\s[^>]*)?>([^<]*)$/);if(b0&&b0.index!==void 0){for(var d=!1,A0=0,h0=0;h0<b0.index;h0++)v.charCodeAt(h0)===Q0&&A0++;if(d=A0%2===1,!d){let o=b0[1];R9(v,"</"+o,0)===-1&&(v=v.replace(/<[A-Z][A-Za-z0-9]*(?:\s[^>]*)?>([^<]*)$/,"$1"))}}v!==u&&($=$.slice(0,Z)+v,J=Z+v.length)}let W0=[];var D0=[];let g=Z;var Z0=X.disableAutoLink||X.disableBareUrls||Y.inAnchor?-1:$.indexOf("@",Z);for(Z0>=J&&(Z0=-1);Z<J;){let v=$.charCodeAt(Z),u=null;if(v===Q0){if(u=xZ($,Z,J),!u){var j0=y9($,Z,J,Q0);Z+=j0-1}}else if(v===M0||v===v0){var G0=pZ($,Z,J);if(G0){if(G0.canOpen||G0.canClose){Z>g&&W0.push(i9($.slice(g,Z)));var a=$.slice(Z,Z+G0.len),O0=i9(a);D0.push({idx:W0.length,ch:v,len:G0.len,canOpen:G0.canOpen,canClose:G0.canClose,active:!0}),W0.push(O0),Z+=G0.len,g=Z;continue}Z+=G0.len-1}}else v===R0?u=mZ($,Z,J,Y,X):v===r0?u=CZ($,Z,J,Y,X):v===H0?(Z+1<J&&$.charCodeAt(Z+1)===X9&&(u=cZ($,Z,J,Y)),u||(u=R6($,Z,J,Y,X))):v===C0&&Z+1<J&&$.charCodeAt(Z+1)===H0?u=R6($,Z,J,Y,X):v===$0?(u=C6($,Z,J),!u&&!X.disableParsingRawHTML&&!X.ignoreHTMLBlocks&&(u=rZ($,Z,J,Y,X))):(v===t9||v===f9||v===S9)&&!Y.inAnchor&&!X.disableAutoLink&&(Z===0||$.charCodeAt(Z-1)!==$0)&&(u=lZ($,Z,J,X));if(!u&&Z0>=0&&Z0-Z<=64&&!Y.inAnchor&&!X.disableAutoLink&&!X.disableBareUrls&&(v>=l&&v<=r||v>=q0&&v<=z0||v>=t&&v<=e)&&(u=oZ($,Z,J,X),!u&&Z>=Z0&&(Z0=$.indexOf("@",Z+1),Z0>=J&&(Z0=-1))),v===x$){Z>g&&W0.push(i9($.slice(g,Z))),W0.push({type:j.breakLine}),Z++,g=Z;continue}if(u)Z>g&&W0.push(i9($.slice(g,Z))),W0.push(u.node),Z=u.end,g=Z;else{if(v===P0&&Z+1<J){let K0=$.charCodeAt(Z+1);if(o$(K0)&Y0){Z>g&&W0.push(i9($.slice(g,Z))),W0.push(i9($[Z+1])),Z+=2,g=Z;continue}}if(Z++,Z0<0||Z0-Z>64)for(;Z<J;){var I0=$.charCodeAt(Z);if(I0<l9&&!w6[I0])Z++;else break}}}if(J>g){let v=$.slice(g,J);(X.streaming||X.optimizeForStreaming)&&(v=v.replace(/\*\*([^*]+)$/,"$1"),v.match(/\*[^*]+$/)&&(v=v.replace(/\*([^*]+)$/,"$1")),v=v.replace(/__([^_]+)$/,"$1"),v.match(/_[^_]+$/)&&(v=v.replace(/_([^_]+)$/,"$1")),v=v.replace(/~~([^~]+)$/,"$1"),v=v.replace(/\[([^\]]+)$/,"$1"),v=v.replace(/\[([^\]]+)\]\([^)]*$/,"$1")),v&&W0.push(i9(v))}return D0.length>0&&dZ(W0,D0,Q,X),Z$--,W0}var aZ=500;function w9($,Z,J){var Q=Z.g||0;if(Q>aZ)return[{type:j.text,text:$}];Z.g=Q+1;let X=Z;if(J.streaming||J.optimizeForStreaming){var Y=$.length;Y>0&&$.charCodeAt(Y-1)===h&&Y--;for(var V=Y;V>0&&$.charCodeAt(V-1)!==h;)V--;if(V>0&&$.charCodeAt(V)===L0){for(var G=!0,K=V;K<Y;K++){var q=$.charCodeAt(K);if(q!==P&&q!==R&&q!==c&&q!==u0&&q!==L0){G=!1;break}}if(G){for(var W=V-1;W>0&&$.charCodeAt(W-1)!==h;)W--;$.charCodeAt(W)===L0&&($=$.slice(0,W).trimEnd())}}var z=$.trim(),H=z.lastIndexOf(`
`),F=H===-1?z:z.slice(H+1);if(F.length>0&&F.charCodeAt(0)===L0){for(var D=!1,U=!1,O=1;O<F.length;O++){var B=F.charCodeAt(O);B===L0&&(D=!0),B===c&&(U=!0)}D&&U&&($=H===-1?"":$.slice(0,$.lastIndexOf(F)).trimEnd())}for(var _=-1,A=-1,f=-1,I=$.length-1;I>=0;I--)if($.charCodeAt(I)===$0){var M=I+1<$.length?$.charCodeAt(I+1):0;if(M>=l&&M<=r||M>=q0&&M<=z0){for(var y=I+2;y<$.length;){var k=$.charCodeAt(y);if(k>=l&&k<=r||k>=q0&&k<=z0||k>=t&&k<=e)y++;else break}for(var b=y;b<$.length&&$.charCodeAt(b)!==p;)b++;if(b<$.length){for(var N=!1,w=b+1;w<$.length;w++)if($.charCodeAt(w)===$0){N=!0;break}N||(_=I,A=y,f=b+1)}}break}if(_>=0){for(var S=0,E=0;E<_;E++)$.charCodeAt(E)===Q0&&S++;if(S%2===0){var m=$.slice(_+1,A);R9($,"</"+m,0)===-1&&($=$.slice(0,_)+$.slice(f))}}var T=$.length;if(T>0){for(var L=$.lastIndexOf(`
`),U0=L===-1?0:L+1,C=T,x=U0,d=0;x<C&&$.charCodeAt(x)===P&&d<3;)x++,d++;if(x<C){var A0=$.charCodeAt(x),h0=!1;if(A0===M0||A0===c||A0===I9){var W0=x+1;if(W0>=C||$.charCodeAt(W0)===P||$.charCodeAt(W0)===R){for(var D0=W0;D0<C&&($.charCodeAt(D0)===P||$.charCodeAt(D0)===R);)D0++;D0>=C&&(h0=!0)}}else if(A0>=t&&A0<=e){for(var g=x;g<C&&$.charCodeAt(g)>=t&&$.charCodeAt(g)<=e;)g++;if(g<C&&($.charCodeAt(g)===Y9||$.charCodeAt(g)===G9)){var Z0=g+1;if(Z0>=C||$.charCodeAt(Z0)===P||$.charCodeAt(Z0)===R){for(var j0=Z0;j0<C&&($.charCodeAt(j0)===P||$.charCodeAt(j0)===R);)j0++;j0>=C&&(h0=!0)}}}h0&&($=$.slice(0,U0).trimEnd())}}}if(Z.inline)return n0($,0,$.length,Z,J);let G0=[],a=0,O0=$.length;if(a===0&&$.startsWith("---")){let n=O6($);if(n&&n.hasValidYaml){if(J.preserveFrontmatter!==!1){let b0=$.slice(0,n.endPos).trimEnd();G0.push({type:j.frontmatter,text:b0})}a=n.endPos}}for(;a<O0;){for(var I0=$.indexOf(`
`,a),v=I0<0?O0:I0;a<O0&&q9($,a,v);)a=v<O0?v+1:v,a<O0&&(I0=$.indexOf(`
`,a),v=I0<0?O0:I0);if(a>=O0)break;$.charCodeAt(a),N0($,a,v);let n=null;if($.charCodeAt(a)!==e9&&V0>=4&&!Z.inHTML)n=yZ($,a);else if($.charCodeAt(a)!==e9){let b0=a+X0,o=$.charCodeAt(b0);o===O9?n=h6($,a,Z,J):o===p?n=LZ($,a,Z,J):o===Q0||o===R0?n=wZ($,a,Z):o===c||o===M0||o===v0?(n=m9($,a),!n&&(n=_6($,a,Z,J))):o===I9||o>=t&&o<=e?n=_6($,a,Z,J):o===$0?n=x6($,a,Z,J):o===L0?n=P6($,a,Z,J):o===H0&&(n=fZ($,a,Z))}if(!n){for(var u=!1,K0=a;K0<v;K0++)if($.charCodeAt(K0)===L0){u=!0;break}u&&(n=P6($,a,Z,J))}if(n||(n=gZ($,a,Z,J)),n)n.node.type!==j.refCollection&&G0.push(n.node),a=n.end;else{var w0=$.indexOf(`
`,a);a=w0<0?O0:w0+1}}return Z.g=Q,G0}function r$($,Z){Z$=0,$.charCodeAt(0)===65279&&($=$.slice(1)),$=u$($);let J={inline:!1,inAnchor:!1,inHTML:!1,inList:!1,inBlockQuote:!1,refs:{}},Q={...Z,slugify:Z?.slugify?Y=>Z.slugify(Y,$9):$9,sanitizer:Z?.sanitizer||$$,tagfilter:Z?.tagfilter!==!1};k6($,J.refs,Q);let X=w9($,J,Q);return J.refs&&Object.keys(J.refs).length>0?[{type:j.refCollection,refs:J.refs},...X]:X}function WJ($,Z,J,Q){var X=b9($,Z);return X?{tagName:X.tag,tagLower:X.tag.toLowerCase(),attrs:X.rawAttrs,whitespaceBeforeAttrs:X.whitespaceBeforeAttrs,isSelfClosing:X.selfClosing,hasSpaceBeforeSlash:X.hasSpaceBeforeSlash,isClosing:X.isClosing,hasNewline:X.whitespaceBeforeAttrs.includes(`
`)||X.rawAttrs.includes(`
`),endPos:X.end}:null}function u6($,Z,J){Z$=0,$=u$($),!Z.refs&&(Z.refs={}),k6($,Z.refs,J);let Q=w9($,Z,J);return Z.refs&&Object.keys(Z.refs).length>0?[{type:j.refCollection,refs:Z.refs},...Q]:Q}var X$=D6;function M9($){if(!$)return $;var Z=$.indexOf("&"),J=$.indexOf("<");J!==-1&&(Z===-1||J<Z)&&(Z=J);var Q=$.indexOf(">");Q!==-1&&(Z===-1||Q<Z)&&(Z=Q);var X=$.indexOf('"');if(X!==-1&&(Z===-1||X<Z)&&(Z=X),Z===-1)return $;for(var Y=$.slice(0,Z),V=Z,G=$.length;Z<G;){var K=$.charCodeAt(Z);K<=62&&(K===d9?(Z>V&&(Y+=$.slice(V,Z)),Y+="&amp;",V=Z+1):K===$0?(Z>V&&(Y+=$.slice(V,Z)),Y+="&lt;",V=Z+1):K===p?(Z>V&&(Y+=$.slice(V,Z)),Y+="&gt;",V=Z+1):K===e0&&(Z>V&&(Y+=$.slice(V,Z)),Y+="&quot;",V=Z+1)),Z++}return V<G&&(Y+=$.slice(V)),Y}function i$($){for(var Z=!1,J=0,Q=$.length;J<Q;){var X=$.charCodeAt(J);if(X===d9||X===$0||X===p||X===e0){Z=!0;break}J++}return Z?$.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&(?!([a-zA-Z0-9]+|#[0-9]+|#x[0-9a-fA-F]+);)/g,"&amp;"):$}function W9($){var Z="";for(var J in $){var Q=$[J];if(Q!=null)if(Z+=" ",Q===!0)Z+=J;else if(Q==="")Z+=J+'=""';else if(J==="style"&&typeof Q=="object"&&Q!==null){var X="",Y=!0;for(var V in Q){var G=Q[V];if(G!=null){Y?Y=!1:X+="; ";for(var K="",q=0;q<V.length;q++){var W=V.charCodeAt(q);W>=l&&W<=r?K+="-"+String.fromCharCode(W+K9):K+=V[q]}X+=K+": "+G}}X&&(Z+='style="'+i$(X)+'"')}else typeof Q=="string"?Z+=J+'="'+i$(Q)+'"':typeof Q=="number"&&(Z+=J+'="'+Q+'"')}return Z}var U$={};function a$($,Z){return $.type===j.footnote||$.type===j.ref||$.type===j.frontmatter&&!Z}function p6($,Z){if(!X$(Z))return $||U$;var J=$?{...$}:{};for(var Q in Z)J[Q]=Z[Q];return J}function z$($,Z,J,Q){if(!J.hasOverrides)return!Q||!X$(Q)?"<"+$+">"+Z+"</"+$+">":"<"+$+W9(Q)+">"+Z+"</"+$+">";var X=g9($,J.overrides),Y=T9($,J.overrides);if(!Q||!X$(Q))return"<"+X+W9(Y)+">"+Z+"</"+X+">";var V={...Y};for(var G in Q)V[G]=Q[G];return"<"+X+W9(V)+">"+Z+"</"+X+">"}function F9($,Z){var J="";if(Z.renderRule)for(var Q=0;Q<$.length;Q++)J+=n$($[Q],{key:Q},Z);else for(var Q=0;Q<$.length;Q++){var X=$[Q];X.type===j.text?X.text&&(J+=M9(X.text)):J+=w$(X,Z)}return J}function n$($,Z,J){return!$||typeof $!="object"?"":J.renderRule?J.renderRule(function(){return $.type===j.ref||$.type===j.refCollection||a$($,J.preserveFrontmatter)?"":w$($,J)},$,function(Q){return F9(Q,J)},Z):$.type===j.ref||$.type===j.refCollection||a$($,J.preserveFrontmatter)?"":w$($,J)}function w$($,Z){switch($.type){case j.blockQuote:{var J=$.children?F9($.children,Z):"";return $.alert?(J="<header>"+M9($.alert)+"</header>"+J,z$("blockquote",J,Z,{class:"markdown-alert-"+Z.slug($.alert.toLowerCase(),$9)})):z$("blockquote",J,Z)}case j.breakLine:return`<br />
`;case j.breakThematic:return"<hr />";case j.frontmatter:return"<pre>"+M9($.text)+"</pre>";case j.codeBlock:{var Q=$.attrs||{};if($.lang){Q={...Q};var X=h9($.lang),Y=Q.class||Q.className||"";Q.class=Y?Y+" language-"+X:"language-"+X,delete Q.className}var V=W9(Q),G=$.text||"";return"<pre><code"+V+">"+M9(G)+"</code></pre>"}case j.codeInline:return"<code>"+M9($.text||"")+"</code>";case j.footnoteReference:{var K=Z.sanitize($.target||"","a","href")||"",q=M9($.text||"");return'<a href="'+M9(K)+'"><sup>'+q+"</sup></a>"}case j.gfmTask:return"<input"+($.completed?' checked=""':"")+' disabled="" type="checkbox">';case j.heading:{var W=$.level||1,z=$.id?.trim()?{id:$.id}:void 0;return z$("h"+W,$.children?F9($.children,Z):"",Z,z)}case j.htmlComment:{var H=$;return H.raw?H.text:H.endsWithGreaterThan?"<!--"+$.text+">":"<!--"+$.text+"-->"}case j.htmlBlock:{var F=$,D=F.tag||"div",U=Z.hasOverrides?g9(D,Z.overrides):D,O=Z.hasOverrides?T9(D,Z.overrides):U$,B;if(F.d!==void 0){var _=F.d,A=_.length>0&&_.charCodeAt(0)>P;B=(A?" ":"")+_+(X$(O)?" "+W9(O).trim():"")}else B=W9(p6(F.attrs,O));if(Z.tagfilter&&_$(U))return F.b?"&lt;/"+U+">":"&lt;"+U+B+">";if(F.a){if(F.e){var d=Z.tagfilter?q$(F.a):F.a;if(F.b)return"</"+U+">"+d;var f=U.toLowerCase(),I=y6(f);if(I){for(var M=F.a.length,y=0;y<M&&F.a.charCodeAt(y)===P;)y++;if(y<M&&F.a.charCodeAt(y)===$0){var k=F.a.indexOf(">",y);if(k!==-1){var b=F.a.slice(y,k+1);if(b.charCodeAt(1)>=q0&&b.charCodeAt(1)<=z0){for(var N=1,w=N;w<b.length&&b.charCodeAt(w)>=q0&&b.charCodeAt(w)<=z0;)w++;var S=b.slice(N,w).toLowerCase();if(S===f){var E=F.a.slice(k+1);return b+(Z.tagfilter?q$(E):E)}}}}var m="</"+f+">",T=F.a.indexOf(m)!==-1;return T?"<"+U+B+">"+d:"<"+U+B+">"+d+"</"+U+">"}var L=F.a.trim();if(L.length>0&&L.charCodeAt(0)===$0){var U0=L.charCodeAt(1);if(U0>=q0&&U0<=z0||U0>=l&&U0<=r){for(var N=1,w=N;w<L.length;){var C=L.charCodeAt(w);if(C>=q0&&C<=z0||C>=l&&C<=r||C>=t&&C<=e||C===c)w++;else break}var S=L.slice(N,w).toLowerCase();if(S===f)return d}}for(var x=0;x<d.length&&d.charCodeAt(x)===P;)x++;return"<"+U+B+">"+(x>0?d.slice(x):L?d:"")}var d=Z.tagfilter?q$(F.a):F.a;return"<"+U+B+">"+d+"</"+U+">"}if(F.d&&F.d.indexOf(`
`)!==-1&&F.a){var A0=Z.tagfilter?q$(F.a):F.a;return"<"+U+B+">"+A0+"</"+U+">"}if(r9(U))return"<"+U+B+">";var J=F.children?F9(F.children,Z):"";if(F.b)return"</"+U+">"+J;for(var h0=!1,W0=0;W0<J.length;W0++){var D0=J.charCodeAt(W0);if(D0!==P&&D0!==R&&D0!==h&&D0!==13){h0=!0;break}}return h0?"<"+U+B+">"+J+"</"+U+">":"<"+U+B+">"+J}case j.htmlSelfClosing:{var g=$,Z0=g.tag||"div",j0=Z.hasOverrides?g9(Z0,Z.overrides):Z0;if(g.a)return Z.tagfilter&&_$(j0)?g.a.replace(/^</,"&lt;"):g.a;if(g.b)return"</"+j0+">";var G0=Z.hasOverrides?T9(Z0,Z.overrides):U$,a=p6(g.attrs,G0),O0=W9(a);return Z.tagfilter&&_$(j0)?"&lt;"+j0+O0+" />":"<"+j0+O0+" />"}case j.image:{var I0=Z.hasOverrides?g9("img",Z.overrides):"img",v=Z.hasOverrides?T9("img",Z.overrides):U$,u=Z.sanitize($.target||"","img","src")||"",K0={...v,alt:$.alt||""};return $.title&&(K0.title=$.title),"<"+I0+' src="'+M9(u)+'"'+W9(K0)+" />"}case j.link:{var w0=Z.hasOverrides?g9("a",Z.overrides):"a",n=Z.hasOverrides?T9("a",Z.overrides):U$,b0=X$(n)?{...n}:{};if($.target!=null){var o=p$(h9($.target)),E0=Z.sanitize(o,"a","href");E0!==null&&(b0.href=E0===o?E0:p$(E0))}return $.title&&(b0.title=h9($.title)),"<"+w0+W9(b0)+">"+($.children?F9($.children,Z):"")+"</"+w0+">"}case j.table:{for(var g0=$,S0=g0.align||[],J0="",v9=g0.header||[],T0=0;T0<v9.length;T0++){var Z9=S0[T0];J0+="<th"+(Z9?' align="'+Z9+'"':"")+">"+F9(v9[T0],Z)+"</th>"}for(var s0="",z9=g0.cells||[],l0=0;l0<z9.length;l0++){var u9=z9[l0]||[];s0+="<tr>";for(var p0=0;p0<u9.length;p0++){var Z9=S0[p0];s0+="<td"+(Z9?' align="'+Z9+'"':"")+">"+F9(u9[p0],Z)+"</td>"}s0+="</tr>"}if(Z.hasOverrides){var J9=g9("table",Z.overrides),D9=W9(T9("table",Z.overrides));return"<"+J9+D9+"><thead><tr>"+J0+"</tr></thead>"+(s0?"<tbody>"+s0+"</tbody>":"")+"</"+J9+">"}return"<table><thead><tr>"+J0+"</tr></thead>"+(s0?"<tbody>"+s0+"</tbody>":"")+"</table>"}case j.text:return M9($.text||"");case j.textFormatted:return z$($.tag||"strong",$.children?F9($.children,Z):"",Z);case j.orderedList:case j.unorderedList:{for(var o0="",x0=$.items||[],y0=0;y0<x0.length;y0++)o0+="<li>"+F9(x0[y0],Z)+"</li>";var L9=$.type===j.orderedList?"ol":"ul",U9=$.type===j.orderedList&&$.start!=null&&$.start!==1?{start:$.start}:void 0;return z$(L9,o0,Z,U9)}case j.paragraph:{if(Z.forceInline)return $.children?F9($.children,Z):"";for(var J=$.children?F9($.children,Z):"",B0="",B9=0,k9=0,t0=!1,f0=0,d0=0;(d0=J.indexOf(` 
`,k9))!==-1;){for(var A9=k9;A9<d0;A9++){var C=J.charCodeAt(A9);C===$0?(t0=!0,f0=0):C===p?(t0=!1,f0=0):t0&&C===e0&&f0++}t0&&f0%2===1?k9=d0+2:(B0+=J.slice(B9,d0)+`
`,B9=d0+2,k9=B9)}if(B9>0&&(B9<J.length&&(B0+=J.slice(B9)),J=B0),!Z.hasOverrides)return"<p>"+J+"</p>";var B=W9(T9("p",Z.overrides)),U=g9("p",Z.overrides);return"<"+U+B+">"+J+"</"+U+">"}default:return""}}function sZ($,Z={}){for(var J=Z.sanitizer||$$,Q=Z.slugify||$9,X=Z.refs||{},Y=Z.overrides||{},V={},G=[],K=!1,q=0;q<$.length;q++){var W=$[q];if(W.type===j.refCollection&&!K){V=W.refs||{},K=!0;continue}a$(W,!!Z.preserveFrontmatter)||G.push(W)}for(var z in V)X[z]=V[z];var H={sanitize:J,slug:Q,refs:X,overrides:Y,hasOverrides:X$(Y),preserveFrontmatter:!!Z.preserveFrontmatter,tagfilter:!!Z.tagfilter,forceInline:!!Z.forceInline,renderRule:Z.renderRule},F="";if(Array.isArray($))if(H.renderRule)for(var D=0;D<G.length;D++)F+=n$(G[D],{key:D,refs:X},H);else for(var D=0;D<G.length;D++)F+=w$(G[D],H);else F=n$($,{refs:X},H);var U="";for(var z in X)if(z.charCodeAt(0)===X9){U||(U="<footer>");for(var O=z.slice(1),B=u6(X[z].target,{inline:!0,refs:X},{overrides:Y,sanitizer:J,slugify:function(d){return Q(d,$9)},tagfilter:Z.tagfilter!==!1}),_=[],A=0;A<B.length;A++)B[A].type!==j.refCollection&&_.push(B[A]);var f={sanitize:J,slug:Q,refs:{},overrides:Y,hasOverrides:H.hasOverrides,preserveFrontmatter:H.preserveFrontmatter,tagfilter:H.tagfilter,forceInline:!0,renderRule:H.renderRule},I=F9(_,f);U+='<div id="'+i$(Q(O,$9))+'">'+M9(O)+": "+I+"</div>"}if(U&&(U+="</footer>"),Z.wrapper===null)return F+U;var M=G.length>1,y=Z.wrapper!=null,k=y&&typeof Z.wrapper=="string",b=Z.forceWrapper||Z.forceInline&&y||M&&y;if(!b)return F+U;var N=F;if((Z.forceInline||Z.forceWrapper&&k&&!Z.wrapperWasAutoSet)&&!M&&G.length===1&&G[0].type===j.paragraph){var w=G[0];if(w.children){var S={sanitize:J,slug:Q,refs:{},overrides:Y,hasOverrides:H.hasOverrides,preserveFrontmatter:H.preserveFrontmatter,tagfilter:H.tagfilter,forceInline:!0,renderRule:H.renderRule};N=F9(w.children,S)}}var E=typeof Z.wrapper=="string"?Z.wrapper:Z.forceInline?"span":"div",m="";if(Z.wrapperProps){var T={};for(var L in Z.wrapperProps){var U0=Z.wrapperProps[L];if(U0!=null){var C=J(String(U0),E,L);C!==null&&(T[L]=C)}}m=W9(T)}return"<"+E+m+">"+N+U+"</"+E+">"}function OJ($,Z){var J=Z?.forceInline||!1,Q={...Z,overrides:Z?.overrides,sanitizer:Z?.sanitizer,slugify:Z?.slugify?function(W){return Z.slugify(W,$9)}:$9,tagfilter:Z?.tagfilter!==!1},X=r$($,{...Q,forceInline:J}),Y={...Z,forceInline:J},V=!1;if(Z?.wrapper===void 0){for(var G=0,K=0;K<X.length;K++){var q=X[K];q.type!==j.refCollection&&q.type!==j.footnote&&q.type!==j.ref&&(q.type!==j.frontmatter||!Z?.preserveFrontmatter)&&G++}G>1||Z?.forceWrapper?(Y.wrapper="div",V=!0):J&&G>0&&(Y.wrapper="span",V=!0)}return Y.wrapperWasAutoSet=V,sZ(X,Y)}export{$9 as slugify,$$ as sanitizer,r$ as parser,OJ as compiler,sZ as astToHTML,j as RuleType};
