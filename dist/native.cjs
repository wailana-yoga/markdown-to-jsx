var UZ=Object.create,{getPrototypeOf:OZ,defineProperty:$$,getOwnPropertyNames:Z6,getOwnPropertyDescriptor:HZ}=Object,J6=Object.prototype.hasOwnProperty,DZ=($,J,Z)=>{Z=$!=null?UZ(OZ($)):{};let Q=J||!$||!$.h?$$(Z,"default",{value:$,enumerable:!0}):Z;for(let X of Z6($))J6.call(Q,X)||$$(Q,X,{get:()=>$[X],enumerable:!0});return Q},$6=new WeakMap,jZ=$=>{var J=$6.get($),Z;return J||(J=$$({},"__esModule",{value:!0}),($&&typeof $=="object"||typeof $=="function")&&Z6($).map(Q=>!J6.call(J,Q)&&$$(J,Q,{get:()=>$[Q],enumerable:!(Z=HZ($,Q))||Z.enumerable})),$6.set($,J),J)},BZ=($,J)=>{for(var Z in J)$$($,Z,{get:J[Z],enumerable:!0,configurable:!0,set:Q=>J[Z]=()=>Q})},GJ={};BZ(GJ,{slugify:()=>i0,sanitizer:()=>w9,parser:()=>h6,default:()=>VJ,compiler:()=>C6,astToNative:()=>m6,RuleType:()=>_,MarkdownProvider:()=>KJ,MarkdownContext:()=>o$,Markdown:()=>u6}),module.exports=jZ(GJ);var W9=DZ(require("react")),d=require("react-native"),P=32,N=9,F9=13,x=10,$0=96,I0=126,W0=91,r0=94,u=62,X9=35,Q6=36,d9=37,p=45,m0=61,M0=92,H0=42,D0=95,G0=60,c9=64,C0=93,g0=33,q$=38,x0=58,k$=70,N9=102,l9=104,b9=119,W$=116,S$=112,X6=115,Y6=160,K6=12,E$=44,z$=59,g9=63,n0=46,B0=47,O9=39,q9=34,H9=43,R0=124,D9=123,Z$=125,s0=40,t0=41,o9=30,g$=31,t=48,e=57,r=65,n=90,z0=97,j0=122,x9=128,Y9=32,MZ={blockQuote:0,breakLine:1,breakThematic:2,codeBlock:3,codeInline:4,footnote:5,footnoteReference:6,frontmatter:7,gfmTask:8,heading:9,htmlBlock:10,htmlComment:11,htmlSelfClosing:12,image:13,link:14,orderedList:15,paragraph:16,ref:17,refCollection:18,table:19,text:20,textFormatted:21,unorderedList:22},_=MZ,T$=require("markdown-to-jsx/entities");function U6($){if(!V6($,"---"))return null;let J=3;for(;J<$.length&&($[J]===" "||$[J]==="	");)J++;if(J<$.length&&$[J]==="\r"&&J++,J>=$.length||$[J]!==`
`)return null;J++;let Z=!1;for(;J<$.length;){let Q=J;for(;J<$.length&&$[J]!==`
`&&$[J]!=="\r";)J++;if(J>=$.length)break;let X=J;if($[J]==="\r"&&J++,J<$.length&&$[J]===`
`&&J++,V6($,"---",Q))return{endPos:J,hasValidYaml:Z};let Y=$.indexOf(":",Q);Y!==-1&&Y<X&&(Z=!0)}return null}var AZ=/&([a-zA-Z0-9]+|#[0-9]{1,7}|#x[0-9a-fA-F]{1,6});/gi,vZ={class:"className",for:"htmlFor",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",autocomplete:"autoComplete",autofocus:"autoFocus",autoplay:"autoPlay",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",classid:"classId",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",crossorigin:"crossOrigin",enctype:"encType",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",inputmode:"inputMode",keyparams:"keyParams",keytype:"keyType",marginheight:"marginHeight",marginwidth:"marginWidth",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",novalidate:"noValidate",radiogroup:"radioGroup",readonly:"readOnly",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",usemap:"useMap",viewbox:"viewBox"};function R9($){var J={};for(var Z in $){var Q=Z.toLowerCase(),X=vZ[Q];if(X)J[X]=$[Z];else{var Y=Z.indexOf(":");Y!==-1?J[Z.slice(0,Y)+Z[Y+1].toUpperCase()+Z.slice(Y+2)]=$[Z]:J[Z]=$[Z]}}return J}var O6=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s|^<(div|p|h[1-6]|ul|ol|li|blockquote|pre|table|thead|tbody|tr|td|th|dl|dt|dd|hr|address|article|aside|details|dialog|figure|figcaption|footer|form|header|main|menu|nav|section|summary|textarea|fieldset|legend|center|dir|hgroup|marquee|search|output|template)\b)/i;function H$($){return $.indexOf("&")===-1?$:$.replace(AZ,(J,Z)=>{var Q=T$.decodeEntity(Z);if(Q)return Q;if(Z[0]==="#"){var X=Z[1]==="x"||Z[1]==="X"?parseInt(Z.slice(2),16):parseInt(Z.slice(1),10);return X===0||X>=55296&&X<=57343||X>1114111?"\uFFFD":X<=65535?String.fromCharCode(X):String.fromCharCode(55296+(X-65536>>10),56320+(X-65536&1023))}return J})}var G6=/(javascript|vbscript|data(?!:image)):/i;function w9($){if(G6.test($))return null;if($.indexOf("%")===-1)return $;try{let J=decodeURIComponent($).replace(/[^A-Za-z0-9/:]/g,"");if(G6.test(J))return null}catch{return null}return $}var T0={},u0,w0;for(u0=[192,193,194,195,196,197,224,225,226,227,228,229,230,198],w0=0;w0<u0.length;w0++)T0[u0[w0]]="a";for(T0[231]=T0[199]="c",T0[240]=T0[208]="d",u0=[200,201,202,203,233,232,234,235],w0=0;w0<u0.length;w0++)T0[u0[w0]]="e";for(u0=[207,239,206,238,205,237,204,236],w0=0;w0<u0.length;w0++)T0[u0[w0]]="i";for(T0[209]=T0[241]="n",u0=[248,216,339,338,213,245,212,244,211,243,210,242],w0=0;w0<u0.length;w0++)T0[u0[w0]]="o";for(u0=[220,252,219,251,218,250,217,249],w0=0;w0<u0.length;w0++)T0[u0[w0]]="u";T0[376]=T0[255]=T0[221]=T0[253]="y";function _Z($){return $<x9&&(RZ[$]&(f$|H6))!==0}function i0($){for(var J="",Z=-1,Q=0;Q<$.length;Q++){var X=$.charCodeAt(Q);if(_Z(X))X>=r&&X<=n?(Z>=0&&(J+=$.slice(Z,Q),Z=-1),J+=String.fromCharCode(X+Y9)):Z<0&&(Z=Q);else if(X===P||X===p)Z>=0&&(J+=$.slice(Z,Q),Z=-1),J+="-";else{Z>=0&&(J+=$.slice(Z,Q),Z=-1);var Y=T0[X];Y&&(J+=Y)}}return Z>=0&&(J+=$.slice(Z)),J}function V6($,J,Z){return $.startsWith(J,Z)}var F6=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr","circle","ellipse","line","path","polygon","polyline","rect","use","stop","animate","set"]);function T9($){let J=$.toLowerCase();if(F6.has(J))return!0;let Z=J.indexOf(":");return Z!==-1?(J=J.slice(Z+1),F6.has(J)):!1}var J$=1,U$=2,f$=4,H6=8,q6=16,W6=32,IZ=64,z6=1,PZ=2,NZ=3,bZ=4,RZ=(function(){let $=new Uint8Array(128),J;for($[N]=J$|W6,$[x]=J$|q6,$[K6]=J$,$[F9]=J$|q6,$[P]=J$|W6,J=g0;J<=B0;J++)$[J]=U$;for(J=x0;J<=c9;J++)$[J]=U$;for(J=W0;J<=$0;J++)$[J]=U$;for(J=D9;J<=I0;J++)$[J]=U$;for(J=t;J<=e;J++)$[J]=H6;for(J=r;J<=n;J++)$[J]=f$|IZ;for(J=z0;J<=j0;J++)$[J]=f$;return $})(),zJ=(function(){let $=new Uint8Array(128);return $[M0]=PZ,$[W0]=bZ,$[H0]=$[D0]=$[I0]=$[m0]=NZ,$[$0]=$[G0]=$[c9]=$[C0]=$[x]=$[P]=$[g0]=z6,$[N9]=$[l9]=$[b9]=z6,$})(),f9=[];function h$($){var J=$.indexOf("\r"),Z=$.indexOf("\0");if(J===-1&&Z===-1)return $;var Q=$.length;f9.length=0;var X=0,Y=0;for(J===-1?Y=Z:Z===-1?Y=J:Y=J<Z?J:Z;Y<Q;Y++){var F=$.charCodeAt(Y);F===F9?(X<Y&&f9.push($.slice(X,Y)),Y+1<Q&&$.charCodeAt(Y+1)===x&&Y++,f9.push(`
`),X=Y+1):F===0&&(X<Y&&f9.push($.slice(X,Y)),f9.push("\uFFFD"),X=Y+1)}return X<Q&&f9.push($.slice(X)),f9.join("")}function UJ($){if(!$)return!1;for(var J in $)return!0;return!1}function r9($,J,Z){for(var Q=$,X=J.split("."),Y=0;Y<X.length&&(Q=Q?.[X[Y]],Q!==void 0);)Y++;return Q||Z}function D6($){for(var J=!1,Z=0;Z<$.length;Z++){var Q=$.charCodeAt(Z);if(Q<=P||Q===q9||Q===d9||Q===G0||Q===u||Q===W0||Q===M0||Q===C0||Q===r0||Q===$0||Q>=123){J=!0;break}}if(!J)return $;for(var X="",Z=0;Z<$.length;Z++){var Q=$.charCodeAt(Z);if(Q===d9&&Z+2<$.length){var Y=$.charCodeAt(Z+1),F=$.charCodeAt(Z+2);if((Y>=t&&Y<=e||Y>=r&&Y<=k$||Y>=z0&&Y<=N9)&&(F>=t&&F<=e||F>=r&&F<=k$||F>=z0&&F<=N9)){X+=$[Z]+$[Z+1]+$[Z+2],Z+=2;continue}}X+=encodeURI($[Z])}return X}function OJ(...$){return $.filter(Boolean).join(" ")}function HJ($,J){if(!J)return $;let Z=r9(J,$,void 0);return typeof Z=="string"?Z:typeof Z=="object"&&Z.component?Z.component:$}function DJ($,J){if(!J)return{};let Z=r9(J,$,void 0);return typeof Z=="object"&&Z.props?Z.props:{}}var wZ=new Set(["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"]),O$=/<(\/?)(title|textarea|style|xmp|iframe|noembed|noframes|script|plaintext)(\s|>|\/)/gi;function m$($){return wZ.has($.toLowerCase())}function jJ($){return O$.lastIndex=0,O$.test($)}function C$($){return O$.lastIndex=0,$.replace(O$,function(J,Z,Q,X){return"&lt;"+Z+Q+X})}var MJ=/^<([a-zA-Z][a-zA-Z0-9-]*)\s[^>]*>/,AJ=/^<[A-Z]/,u$=["script","pre","style","textarea"],X$=new Set(u$),yZ=/<(?:pre|script|style|textarea)\b/i,LZ=new Set(["table","thead","tbody","tfoot","tr","td","th"]),R6=new Uint8Array(128);(function(){for(var $=[$0,H0,D0,I0,m0,W0,g0,G0,M0,g$,l9,b9,N9],J=0;J<$.length;J++)R6[$[J]]=1})();var B6=/([a-zA-Z_][a-zA-Z0-9_-]*)=(?:"([^"]*)"|'([^']*)')/g;function c$($){return X$.has($)}function vJ($){return yZ.test($)}function w6($,J,Z){for(var Q=J,X=Z;Q<X&&($.charCodeAt(Q)===P||$.charCodeAt(Q)===N);)Q++;if(Q>=X)return!1;$.charCodeAt(Q)===R0&&Q++;for(var Y=0;Q<X;){for(;Q<X&&($.charCodeAt(Q)===P||$.charCodeAt(Q)===N);)Q++;if(Q>=X)break;if($.charCodeAt(Q)===R0&&Y>0){for(var F=Q+1;F<X&&($.charCodeAt(F)===P||$.charCodeAt(F)===N);)F++;if(F>=X)return!0}if($.charCodeAt(Q)===x0&&Q++,Q>=X||$.charCodeAt(Q)!==p)return!1;for(;Q<X&&$.charCodeAt(Q)===p;)Q++;for(Q<X&&$.charCodeAt(Q)===x0&&Q++,Y++;Q<X&&($.charCodeAt(Q)===P||$.charCodeAt(Q)===N);)Q++;if(Q<X)if($.charCodeAt(Q)===R0)Q++;else return!1}return Y>0}function B9($,J){if($.charCodeAt(J)!==G0)return null;let Z=J+1,Q=$.length,X=!1;$.charCodeAt(Z)===B0&&(Z++,X=!0);let Y=Z,F=$.charCodeAt(Z);if(!(F>=z0&&F<=j0||F>=r&&F<=n))return null;for(;Z<Q&&($.charCodeAt(Z)>=z0&&$.charCodeAt(Z)<=j0||$.charCodeAt(Z)>=r&&$.charCodeAt(Z)<=n||$.charCodeAt(Z)>=t&&$.charCodeAt(Z)<=e||$.charCodeAt(Z)===p);)Z++;let V=$.slice(Y,Z);if(!V)return null;let G=Z;for(;Z<Q&&($.charCodeAt(Z)===P||$.charCodeAt(Z)===N||$.charCodeAt(Z)===x);)Z++;let K=$.slice(G,Z);if(Z===G&&Z<Q){var q=$.charCodeAt(Z);if(q!==u&&q!==B0)return null}let W=Z,O={},U=!1;for(;Z<Q;){let L=$.charCodeAt(Z);if(L===u){let y=$.slice(W,Z);return{tag:V,attrs:O,selfClosing:!1,end:Z+1,rawAttrs:y,whitespaceBeforeAttrs:K,isClosing:X,hasSpaceBeforeSlash:U}}if(L===P||L===N||L===x){Z++;continue}if(L===B0&&Z+1<Q&&$.charCodeAt(Z+1)===u){let y=$.slice(W,Z);return U=Z>W&&$.charCodeAt(Z-1)===P,{tag:V,attrs:O,selfClosing:!0,end:Z+2,rawAttrs:y,whitespaceBeforeAttrs:K,isClosing:X,hasSpaceBeforeSlash:U}}var j=Z,H=$.charCodeAt(Z);if(!(H>=z0&&H<=j0||H>=r&&H<=n||H===D0||H===x0))return null;for(Z++;Z<Q;){var z=$.charCodeAt(Z);if(z>=z0&&z<=j0||z>=r&&z<=n||z>=t&&z<=e||z===D0||z===n0||z===x0||z===p)Z++;else break}for(var D=$.slice(j,Z);Z<Q&&($.charCodeAt(Z)===P||$.charCodeAt(Z)===N);)Z++;if($.charCodeAt(Z)!==m0){O[D]="";continue}for(Z++;Z<Q&&($.charCodeAt(Z)===P||$.charCodeAt(Z)===N);)Z++;var A=$.charCodeAt(Z);if(A===q9||A===O9){Z++;for(var B=Z;Z<Q&&$.charCodeAt(Z)!==A;)Z++;if(Z>=Q)return null;if(O[D]=$.slice(B,Z),Z++,Z<Q){var k=$.charCodeAt(Z);if(k!==P&&k!==N&&k!==x&&k!==u&&k!==B0)return null}}else if(A===D9){var I=1,B=Z;for(Z++;Z<Q&&I>0;){var z=$.charCodeAt(Z);z===D9?I++:z===Z$&&I--,Z++}O[D]=$.slice(B,Z)}else{for(var B=Z;Z<Q;){var v=$.charCodeAt(Z);if(v===P||v===N||v===u||v===x||v===q9||v===O9||v===m0||v===G0||v===$0)break;Z++}if(Z===B)return null;O[D]=$.slice(B,Z)}}return null}function A$($,J,Z){for(var Q=0,X=$.length,Y=!1;Q<X;){for(var F=$.indexOf(`
`,Q),V=F<0?X:F,G=Q,K=0;G<V&&K<4;)if($.charCodeAt(G)===P)K++,G++;else if($.charCodeAt(G)===N)K+=4,G++;else break;if(G>=V){Y=!1,Q=F<0?X:F+1;continue}if(K<4){var q=$.charCodeAt(G);if(q===$0||q===I0){for(var W=q,O=0,U=G;U<V&&$.charCodeAt(U)===W;)O++,U++;if(O>=3){Y=!1;for(var j=F<0?X:F+1;j<X;){for(var H=j,z=0;H<X&&z<4;){var D=$.charCodeAt(H);if(D===P)z++,H++;else if(D===N)z+=4,H++;else break}if(z<4&&H<X&&$.charCodeAt(H)===W){for(var A=0;H<X&&$.charCodeAt(H)===W;)A++,H++;if(A>=O){for(;H<X&&($.charCodeAt(H)===P||$.charCodeAt(H)===N);)H++;if(H>=X||$.charCodeAt(H)===x){Q=H>=X?X:H+1;break}}}for(;j<X&&$.charCodeAt(j)!==x;)j++;j<X&&j++}j>=X&&(Q=X);continue}}}for(var B=G;B<V&&$.charCodeAt(B)===u;){B++,B<V&&$.charCodeAt(B)===P&&B++;for(var k=0;B<V&&k<4;)if($.charCodeAt(B)===P)k++,B++;else if($.charCodeAt(B)===N)k+=4,B++;else break;if(k>=4)break;Y=!1}if(!Y&&K<4&&B<V&&$.charCodeAt(B)===W0&&!(B+1<X&&$.charCodeAt(B+1)===r0)){var I=y6($,B,J);if(I){Q=I,Y=!1;continue}}var v=$.charCodeAt(G);if(v===X9&&K<4)Y=!1;else if(K<4&&(v===p||v===H0||v===D0)){for(var L=G,y=0;L<V;){var R=$.charCodeAt(L);if(R===v)y++;else if(R!==P&&R!==N)break;L++}Y=!(y>=3&&L>=V)}else Y=!0;Q=F<0?X:F+1}}function y6($,J,Z){let Q=$.length;if($.charCodeAt(J)!==W0)return null;let X=J+1<Q&&$.charCodeAt(J+1)===r0,Y=J+1;for(;Y<Q;){var F=$.charCodeAt(Y);if(F===C0){Y++;break}if(F===W0)return null;F===M0&&Y+1<Q&&Y++,Y++}if(Y>Q||$.charCodeAt(Y-1)!==C0)return null;let V=$.slice(J+1,Y-1);if(V.length>999)return null;let G=D$(V);if(!G||Y>=Q||$.charCodeAt(Y)!==x0)return null;Y++;let K=!1;for(;Y<Q;){let E=$.charCodeAt(Y);if(E===P||E===N)Y++;else if(E===x&&!K)K=!0,Y++;else break}if(X){let E=$.indexOf(`
`,Y),h=E<0?Q:E,T=$.slice(Y,h).trim();return Z[G]={target:T,title:void 0},E<0?Q:E+1}var q;if(Y<Q&&$.charCodeAt(Y)===G0){Y++;for(var W=Y;Y<Q&&$.charCodeAt(Y)!==u&&$.charCodeAt(Y)!==x;)$.charCodeAt(Y)===M0&&Y+1<Q&&Y++,Y++;if(Y>=Q||$.charCodeAt(Y)!==u)return null;q=$.slice(W,Y),Y++;for(var O=$.indexOf(`
`,Y),U=O<0?Q:O,j=Y;j<U&&($.charCodeAt(j)===P||$.charCodeAt(j)===N);)j++;if(j<U){if(j===Y)return null;var H=$.charCodeAt(j);if(H!==q9&&H!==O9&&H!==s0)return null}}else{for(var W=Y,z=0;Y<Q;){var F=$.charCodeAt(Y);if(F===s0)z++;else if(F===t0){if(z===0)break;z--}else{if(F===P||F===N||F===x)break;F===M0&&Y+1<Q&&Y++}Y++}if(q=$.slice(W,Y),!q)return null}for(;Y<Q&&($.charCodeAt(Y)===P||$.charCodeAt(Y)===N);)Y++;var D=$.indexOf(`
`,Y),A=D<0?Q:D,B,k=!1,I=Y,v=Y;if(Y===A&&Y<Q)for(v=Y+1;v<Q&&($.charCodeAt(v)===P||$.charCodeAt(v)===N);)v++;if(v<Q){var L=$.charCodeAt(v);if(L===q9||L===O9||L===s0){for(var y=L===s0?41:L,R=v+1,b=R;R<Q;){var w=$.charCodeAt(R);if(w===y){for(var S=R+1;S<Q&&($.charCodeAt(S)===P||$.charCodeAt(S)===N);)S++;(S>=Q||$.charCodeAt(S)===x)&&(B=$.slice(b,R),k=!0,I=S<Q?S+1:Q);break}if(w===M0&&R+1<Q){R+=2;continue}if(w===x&&R+1<Q&&$.charCodeAt(R+1)===x)break;R++}if(!k&&v===Y)return null}}if(k)return Z[G]||(Z[G]={target:a9(q),title:B!==void 0?H$(a9(B)):B}),I;for(;Y<A&&($.charCodeAt(Y)===P||$.charCodeAt(Y)===N);)Y++;return Y<A?null:(Z[G]||(Z[G]={target:a9(q),title:B}),D<0?Q:D+1)}var n9=1,L6=2,J0=4,k6=8,kZ=16,K9=32,k9=64,c=new Uint8Array(128);c[P]=n9,c[N]=n9,c[x]=n9|L6,c[F9]=n9|L6,c[X9]=K9|J0,c[u]=K9|J0,c[p]=K9|k9|J0,c[H9]=K9|J0,c[H0]=K9|k9|J0,c[D0]=K9|k9|J0,c[$0]=K9|k9|J0,c[I0]=K9|k9|J0,c[G0]=K9|k9|J0,c[W0]=k9|J0,c[g0]=k9|J0,c[R0]=K9|J0;for(let $=t;$<=e;$++)c[$]=kZ|K9;for(let $=r;$<=n;$++)c[$]=k6;for(let $=z0;$<=j0;$++)c[$]=k6;c[M0]=J0,c[C0]=J0,c[s0]=J0,c[t0]=J0,c[x0]=J0,c[q9]=J0,c[O9]=J0,c[q$]=J0,c[m0]=J0,c[Q6]=J0,c[d9]=J0,c[E$]=J0,c[n0]=J0,c[B0]=J0,c[z$]=J0,c[g9]=J0,c[c9]=J0,c[r0]=J0,c[D9]=J0,c[Z$]=J0;function M6($){if($.indexOf("[")<0&&$.indexOf("]")<0)return!1;for(var J=0;J<$.length;J++){if($.charCodeAt(J)===M0){J++;continue}if($.charCodeAt(J)===W0||$.charCodeAt(J)===C0)return!0}return!1}function D$($){var J=$.replace(/\s+/g," ").trim();return J.indexOf("\u1E9E")!==-1?J.replace(/\u1E9E/g,"ss").toLowerCase():J.toLowerCase()}function l$($){return $<x9?c[$]:$===Y6?n9:0}function a9($){return $.replace(/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,"$1")}function K0($,J){var Z=$.indexOf(`
`,J);return Z<0?$.length:Z}function i($,J){let Z=K0($,J);return Z<$.length?Z+1:Z}function Q$($,J,Z){for(;J<Z;){let Q=$.charCodeAt(J);if(Q!==P&&Q!==N)break;J++}return J}function A6($,J){let Z=i($,J);for(;Z<$.length;){let Q=K0($,Z);if(e0($,Z,Q))return Z;Z=i($,Z)}return $.length}function v9($,J,Z,Q){let X=0;for(;J+X<Z&&$.charCodeAt(J+X)===Q;)X++;return X}var X0=0,Z0=0;function A0($,J,Z){for(X0=0,Z0=0;J+Z0<Z;){let Q=$.charCodeAt(J+Z0);if(Q===N)X0+=4-X0%4;else if(Q===P)X0++;else break;Z0++}}function e0($,J,Z){return Q$($,J,Z)>=Z}function S6($,J,Z,Q){let X=K0($,J);if(A0($,J,X),X0>3)return null;let Y=J+Z0;if($.charCodeAt(Y)!==X9)return null;let F=v9($,Y,X,35);if(F<1||F>6||(Y+=F,Y<X&&$.charCodeAt(Y)!==P&&$.charCodeAt(Y)!==N))return null;Y=Q$($,Y,X);for(var V=X;V>Y&&$.charCodeAt(V-1)===P;)V--;for(var G=V;V>Y&&$.charCodeAt(V-1)===X9;)V--;if(V<G)if(V===Y||$.charCodeAt(V-1)===P)for(;V>Y&&$.charCodeAt(V-1)===P;)V--;else V=G;let K=$.slice(Y,V),q=p0(K,0,K.length,Z,Q),O=(Q?.slugify||i0)(K);return{node:{type:_.heading,level:F,children:q,id:O},end:i($,X)}}function L9($,J){let Z=K0($,J);if(A0($,J,Z),X0>3)return null;let Q=J+Z0,X=$.charCodeAt(Q);if(X!==p&&X!==H0&&X!==D0)return null;let Y=0;for(;Q<Z;){let F=$.charCodeAt(Q);if(F===X)Y++;else if(F!==P&&F!==N)return null;Q++}return Y<3?null:{node:{type:_.breakThematic},end:i($,Z)}}function SZ($,J,Z){let Q=K0($,J);if(A0($,J,Q),X0>3)return null;let X=X0,Y=Z0,F=J+Z0,V=$.charCodeAt(F);if(V!==$0&&V!==I0)return null;let G=v9($,F,Q,V);if(G<3)return null;F+=G;let K=Q$($,F,Q),q=Q;if(V===$0){for(let R=K;R<Q;R++)if($.charCodeAt(R)===$0)return null}for(;q>K&&($.charCodeAt(q-1)===P||$.charCodeAt(q-1)===N);)q--;let W=$.slice(K,q),O="",U="",j=W.indexOf(" ");j===-1?O=W:(O=W.slice(0,j),U=W.slice(j+1).trim()),O=a9(O);var H=void 0;if(U){B6.lastIndex=0;for(var z;(z=B6.exec(U))!==null;)H||(H={}),H[z[1]]=z[2]!==void 0?z[2]:z[3]}let D=i($,Q),A=D,B=$.length;for(;A<$.length;){let R=K0($,A);if(A0($,A,R),X0<4){let b=A+Z0;var k=v9($,b,R,V);if(k>=G){let w=b+k;if(e0($,w,R)){B=i($,R);break}}}A=i($,R)}var I;if(X===0)I=A>D&&$.charCodeAt(A-1)===x?$.slice(D,A-1):$.slice(D,A);else{I="";for(var v=D;v<A;){var L=K0($,v);A0($,v,L);var y=Math.min(Z0,X);I+=$.slice(v+y,L)+`
`,v=i($,L)}I.length>0&&I.charCodeAt(I.length-1)===x&&(I=I.slice(0,-1))}return{node:{type:_.codeBlock,lang:O||void 0,text:I,infoString:U||void 0,attrs:H},end:B}}function EZ($,J){let Z=K0($,J);if(A0($,J,Z),X0<4)return null;let Q="",X=J;for(;X<$.length;){let U=K0($,X);if(A0($,X,U),e0($,X,U)){for(var Y=0,F=i($,U);F<$.length;){var V=K0($,F);if(e0($,F,V)){Y++,F=i($,V);continue}if(A0($,F,V),X0>=4){for(var G=0;G<=Y;G++)Q+=`
`;X=F;break}break}if(X!==F)break;continue}if(X0<4)break;let j=0,H=0;var K=0;for(let z=X;z<U&&H<4;z++){if($.charCodeAt(z)===N){var q=4-H%4;H+q>4&&(K=H+q-4),H+=q}else H++;j++}var W="";if(K>0)for(var O=0;O<K;O++)W+=" ";W+=$.slice(X+j,U),Q+=W+`
`,X=i($,U)}for(;Q.length>0&&Q.charCodeAt(Q.length-1)===x;)Q=Q.slice(0,-1);for(;Q.length>0&&Q.charCodeAt(Q.length-1)===x;)Q=Q.slice(0,-1);return Q?{node:{type:_.codeBlock,text:Q},end:X}:null}function gZ($,J,Z,Q){let X=K0($,J);if(A0($,J,X),X0>3)return null;let Y=J+Z0;if($.charCodeAt(Y)!==u)return null;let F="",V=J,G,K=!1,q=!1,W=!1;for(;V<$.length;){let g=K0($,V);A0($,V,g);let P0=V+Z0;if($.charCodeAt(P0)===u){let l=P0+1;var O=X0+1,U=!1;if(l<g){var j=$.charCodeAt(l);j===P?(l++,O++,U=!0):j===N&&(U=!0)}for(var H="",z=!1,D=l;D<g;D++)if($.charCodeAt(D)===N){z=!0;break}if(z){var A=O;if(U&&l<g&&$.charCodeAt(l)===N){for(var B=4-A%4,k=0;k<B-1;k++)H+=" ";A+=B,l++}for(var I=l;I<g;I++)if($.charCodeAt(I)===N){for(var v=4-A%4,L=0;L<v;L++)H+=" ";A+=v}else H+=$[I],A++}else H=$.slice(l,g);if(!F&&!G){let m=H.match(/^\[!([A-Za-z]+)\]\s*$/);if(m){G=m[1].toUpperCase(),V=i($,g);continue}}F+=H+`
`;var y=H.trimStart();y.startsWith("```")||y.startsWith("~~~")?W=!W:H.startsWith("    ")||H.startsWith("	")?W=!0:y.length>0&&!W&&(W=!1),q=y.length>0,V=i($,g)}else if(F&&!e0($,V,g)&&q){if(X0<4){var R=V+Z0,b=R<g?$.charCodeAt(R):0;if(b===X9||b===u||b===$0||b===I0||b===G0||(b===p||b===H0||b===D0)&&L9($,V)||(b===p||b===H0||b===H9)&&R+1<g&&($.charCodeAt(R+1)===P||$.charCodeAt(R+1)===N))break;if(b>=t&&b<=e){for(var w=R;w<g&&$.charCodeAt(w)>=t&&$.charCodeAt(w)<=e;)w++;if(w<g&&($.charCodeAt(w)===n0||$.charCodeAt(w)===t0))break}}if(W)break;F+=$.slice(V,g)+`
`,K=!0,V=i($,g)}else break}if(!F&&!G)return null;var{inBlockQuote:S,f:E}=Z;Z.inBlockQuote=!0,K&&(Z.f=!0);let h=A9(F||"",Z,Q);Z.inBlockQuote=S,Z.f=E;let T={type:_.blockQuote,children:h};return G&&(T.alert=G),{node:T,end:V}}function E6($,J,Z){for(var Q=0,X=J;X<Z;X++)$.charCodeAt(X)===N?Q+=4-Q%4:Q++;return Q}function y9($,J,Z){if(A0($,J,Z),X0>3)return null;var Q=J+Z0;if(Q>=Z)return null;var X=$.charCodeAt(Q),Y=X0,F=Q;if(X===p||X===H0||X===H9){if(F=Q+1,F<Z&&$.charCodeAt(F)!==P&&$.charCodeAt(F)!==N&&$.charCodeAt(F)!==x)return null}else if(X>=t&&X<=e){for(var V=Q;V<Z&&V-Q<9;){var G=$.charCodeAt(V);if(G<t||G>e)break;V++}if(V>Q&&V<Z){var K=$.charCodeAt(V);if(K===n0||K===t0){if(F=V+1,F<Z&&$.charCodeAt(F)!==P&&$.charCodeAt(F)!==N&&$.charCodeAt(F)!==x)return null}else return null}else return null}else return null;var q=F,W=E6($,J,F),O=0,U=q,j=W;if(q>=Z)return{ordered:X>=t&&X<=e,marker:X>=t&&X<=e?$[V]:$[Q],start:X>=t&&X<=e?parseInt($.slice(Q,V),10):void 0,contentStart:q,contentCol:W+1,markerCol:Y,isEmpty:!0};for(;U<Z&&($.charCodeAt(U)===P||$.charCodeAt(U)===N);){if($.charCodeAt(U)===N){var H=4-j%4;j+=H}else j++;U++,O++}var z=U>=Z,D=j-W;return z||D>4?(j=W+1,U=q+1,O=1):O===0&&(j=W+1,U=q,O=1),{ordered:X>=t&&X<=e,marker:X>=t&&X<=e?$[V]:$[Q],start:X>=t&&X<=e?parseInt($.slice(Q,V),10):void 0,contentStart:U,contentCol:j,markerCol:Y,isEmpty:z}}var j$=0;function xZ($,J,Z,Q){var X=0,Y=J;for(j$=0;Y<Z&&X<Q;){var F=$.charCodeAt(Y);if(F===N){var V=4-X%4;if(X+V>Q){j$=X+V-Q,Y++,X=Q;break}X+=V}else if(F===P)X++;else break;Y++}return Y}function v6($,J,Z,Q){var X=K0($,J),Y=y9($,J,X);if(!Y)return null;var F=[],V=J,G=Y.contentCol,K="",q=Y.isEmpty,W=!1,O=!1;if(!Y.isEmpty){for(var U=!1,j=Y.contentStart;j<X;j++)if($.charCodeAt(j)===N){U=!0;break}if(U){var H="",z=E6($,J,Y.contentStart),D=z-Y.contentCol;if(D>0)for(var A=0;A<D;A++)H+=" ";for(var B=Y.contentStart;B<X;B++)if($.charCodeAt(B)===N){for(var k=4-z%4,I=0;I<k;I++)H+=" ";z+=k}else H+=$[B],z++;K=H+`
`}else K=$.slice(Y.contentStart,X)+`
`}for(V=i($,X);V<$.length;){var v=K0($,V);A0($,V,v);var L=$.charCodeAt(V+Z0);if(X0<G&&(L===p||L===H0||L===D0)&&X0<=3&&L9($,V))break;var y=y9($,V,v);if(y&&y.ordered===Y.ordered&&y.marker===Y.marker&&y.markerCol<G){F.push({contentCol:G,raw:K,hasBlankAfter:W,isEmpty:q}),W&&(O=!0),G=y.contentCol,q=y.isEmpty,W=!1,K=y.isEmpty?"":$.slice(y.contentStart,v)+`
`,V=i($,v);continue}if(e0($,V,v)){K+=`
`,V=i($,v);for(var R=!1,b=0;b<K.length;b++){var w=K.charCodeAt(b);if(w!==x&&w!==F9&&w!==P&&w!==N){R=!0;break}}if(q&&!R)if(V<$.length){var S=K0($,V),E=y9($,V,S);if(!E||E.ordered!==Y.ordered||E.marker!==Y.marker)break;W=!0}else break;if(V<$.length){var h=K0($,V);A0($,V,h);var T=$.charCodeAt(V+Z0);if((T===p||T===H0||T===D0)&&X0<=3&&L9($,V))break;var g=y9($,V,h);if(g&&g.ordered===Y.ordered&&g.marker===Y.marker&&g.markerCol<G){W=!0;continue}if(!e0($,V,h)&&X0<G)break}continue}if(X0>=G){var P0=xZ($,V,v,G);if(j$>0){for(var l="",m=G,Q0=0;Q0<j$;Q0++)l+=" ",m++;for(var v0=P0;v0<v;v0++)if($.charCodeAt(v0)===N){for(var h0=4-m%4,U0=0;U0<h0;U0++)l+=" ";m+=h0}else l+=$[v0],m++;K+=l+`
`}else K+=$.slice(P0,v)+`
`;V=i($,v);continue}for(var N0=!1,f=0;f<K.length;f++){var Y0=K.charCodeAt(f);if(Y0!==x&&Y0!==F9&&Y0!==P&&Y0!==N){N0=!0;break}}if(!W&&N0&&!q){var y0=V+Z0,V0=$.charCodeAt(y0),a=V0===X9||V0===u||V0===G0||V0===$0||V0===I0||(V0===p||V0===H0||V0===D0||V0===H9)&&(L9($,V)!==null||y9($,V,v)!==null)||V0>=t&&V0<=e&&y9($,V,v)!==null;if(!a){K+=""+$.slice(y0,v)+`
`,V=i($,v);continue}}break}if(F.push({contentCol:G,raw:K,hasBlankAfter:W,isEmpty:q}),F.length===0)return null;var O0=O;if(!O0)for(var b0=0;b0<F.length;b0++){if(F[b0].hasBlankAfter&&b0<F.length-1){O0=!0;break}if(!F[b0].isEmpty){for(var M=F[b0].raw,C=M.length,q0=0,L0=!1,s=!1,k0=!1,o=!1,d0=0,c0=0,f0=-1;q0<C;){var F0=M.indexOf(`
`,q0);if(F0<0&&(F0=C),o){A0(M,q0,F0);for(var m9=M.slice(q0+Z0,F0),$9=0;$9<m9.length&&m9.charCodeAt($9)===d0;)$9++;$9>=c0&&m9.slice($9).trim()===""&&(o=!1),q0=F0<C?F0+1:C;continue}if(e0(M,q0,F0)){f0>=0?k0=!0:L0&&(s=!0),q0=F0<C?F0+1:C;continue}if(A0(M,q0,F0),f0>=0){if(X0>=f0){q0=F0<C?F0+1:C;continue}var S9=y9(M,q0,F0);if(S9&&S9.markerCol<f0&&S9.contentCol<=f0){q0=F0<C?F0+1:C;continue}if(S9){q0=F0<C?F0+1:C;continue}f0=-1,k0&&(s=!0,k0=!1)}var C9=M.slice(q0+Z0,F0),_9=C9.charCodeAt(0);if((_9===$0||_9===I0)&&X0<=3){for(var J9=0;J9<C9.length&&C9.charCodeAt(J9)===_9;)J9++;if(J9>=3){if(s&&L0){O0=!0;break}o=!0,d0=_9,c0=J9,L0=!0,q0=F0<C?F0+1:C;continue}}var Y$=X0<=3?y9(M,q0,F0):null;if(Y$&&L0){if(s){O0=!0;break}f0=Y$.contentCol,k0=!1,q0=F0<C?F0+1:C,L0=!0;continue}if(s){O0=!0;break}L0=!0,q0=F0<C?F0+1:C}if(O0)break}}for(var Q9=[],G9=0;G9<F.length;G9++){for(var I9=F[G9],Z9=I9.raw,l0=Z9.length;l0>0&&Z9.charCodeAt(l0-1)===x;)l0--;var S0=l0<Z9.length?Z9.slice(0,l0):Z9,u9=null;if(S0.length>=3&&S0.charCodeAt(0)===W0){var z9=S0[1];(z9===" "||z9==="x"||z9==="X")&&S0.charCodeAt(2)===C0&&(u9={type:_.gfmTask,completed:z9==="x"||z9==="X"},S0=S0.slice(3))}var _0;if(I9.isEmpty&&S0.trim()==="")_0=[];else if(O0){var I$=Z.inList;Z.inList=!0,_0=A9(S0,Z,Q),Z.inList=I$}else{var P$=Z.inList;if(Z.inList=!0,_0=A9(S0,Z,Q),Z.inList=P$,_0.length===1&&_0[0].type===_.paragraph)_0=_0[0].children;else{for(var U9=[],o0=0;o0<_0.length;o0++)if(_0[o0].type===_.paragraph)for(var V9=_0[o0].children,s9=0;s9<V9.length;s9++)U9.push(V9[s9]);else U9.push(_0[o0]);_0=U9}}u9?Q9.push([u9,{type:_.text,text:" "},..._0]):Q9.push(_0)}return{node:{type:Y.ordered?_.orderedList:_.unorderedList,start:Y.ordered?Y.start:void 0,items:Q9},end:V}}var B$=new Set(["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]);function j9($,J,Z){let Q={};for(let[F,V]of Object.entries($)){let G=F,K=F.toLowerCase();if(K==="style"&&typeof V=="string"){let q={},W=[],O=0,U=0;for(let H=0;H<V.length;H++){let z=V.charCodeAt(H);z===s0?O++:z===t0?O--:z===z$&&O===0&&(W.push(V.slice(U,H)),U=H+1)}U<V.length&&W.push(V.slice(U));let j=!1;W.forEach(H=>{let z=H.indexOf(":");if(z===-1)return;let D=H.slice(0,z).trim(),A=H.slice(z+1).trim();if(D&&A){if(/url\s*\(\s*(javascript|vbscript|data:(?!image\/))/i.test(A)){j=!0;return}let B=D.indexOf("-")!==-1?D.replace(/-([a-z])/g,(k,I)=>I.toUpperCase()):D;q[B]=A}}),!j&&Object.keys(q).length>0&&(Q[G]=q)}else if((K==="href"||K==="src")&&Z?.sanitizer){let q=Z.sanitizer(V,J,K);q!==null&&(Q[G]=q)}else if(V==="")Q[G]=!0;else if(V.length>=2&&V.charCodeAt(0)===D9&&V.charCodeAt(V.length-1)===Z$){var X=V.slice(1,-1);if(X.length>0){var Y=X.charCodeAt(0);if(Y===W0||Y===D9)try{Q[G]=JSON.parse(X);continue}catch{}}if(X==="true"){Q[G]=!0;continue}if(X==="false"){Q[G]=!1;continue}if(Z?.evalUnserializableExpressions)try{Q[G]=(0,eval)("("+X+")");continue}catch{}Q[G]=X}else Q[G]=V}return Q}function M9($,J,Z){let Q=J.length;var X=J.charCodeAt(0);X>=r&&X<=n&&(X+=Y9);for(let F=Z;F<=$.length-Q;F++){var Y=$.charCodeAt(F);if(Y>=r&&Y<=n&&(Y+=Y9),Y!==X)continue;let V=!0;for(let G=1;G<Q;G++){let K=$.charCodeAt(F+G),q=J.charCodeAt(G);if(K>=r&&K<=n&&(K+=Y9),q>=r&&q<=n&&(q+=Y9),K!==q){V=!1;break}}if(V)return F}return-1}function fZ($,J,Z){let Q=J.length;var X=J.charCodeAt(0);X>=r&&X<=n&&(X+=Y9);for(let F=Math.min(Z,$.length-Q);F>=0;F--){var Y=$.charCodeAt(F);if(Y>=r&&Y<=n&&(Y+=Y9),Y!==X)continue;let V=!0;for(let G=1;G<Q;G++){let K=$.charCodeAt(F+G),q=J.charCodeAt(G);if(K>=r&&K<=n&&(K+=Y9),q>=r&&q<=n&&(q+=Y9),K!==q){V=!1;break}}if(V)return F}return-1}var p$=-1;function g6($,J,Z){let Q=Z.toLowerCase(),X="<"+Q,Y="</"+Q,F=1,V=J,G=$.length;for(p$=-1;V<G&&F>0;){let W=M9($,X,V),O=M9($,Y,V);if(O===-1)return-1;if(W!==-1&&W<O){let U=B9($,W);U?(U.tag.toLowerCase()===Q&&!U.isClosing&&!U.selfClosing&&!T9(U.tag)&&F++,V=U.end):V=W+1}else{var K=O+Y.length,q=K<G?$.charCodeAt(K):62;if((q===u||q===P||q===N||q===x)&&(F--,F===0)){p$=O;let U=O+Y.length;for(;U<G&&$.charCodeAt(U)!==u;)U++;return U+1}V=O+1}}return-1}function x6($,J,Z,Q){if(Q.ignoreHTMLBlocks||Q.disableParsingRawHTML)return null;var X=K0($,J);if(A0($,J,X),X0>3&&!Z.inHTML)return null;var Y=J+Z0;if($.charCodeAt(Y)!==G0)return null;var F=$.indexOf(">",Y+1);if(F!==-1&&F<X){var V=$.slice(Y+1,F);if(/^[a-zA-Z][a-zA-Z0-9+.-]*:/.test(V)||/^[^\s@]+@[^\s@]+$/.test(V))return null}var G=TZ($,Y);if(G>=1&&G<=5){var K=$.length;if(G===1){for(var q=$.length,W=0;W<u$.length;W++){var O=M9($,"</"+u$[W]+">",Y);O>=0&&O<q&&(q=O)}if(q<$.length){var U=$.indexOf(">",q);K=U>=0?i($,U+1):$.length}}else{var j=G===2?"-->":G===3?"?>":G===4?">":"]]>",H=$.indexOf(j,Y);H>=0&&(K=i($,H+j.length))}var z=$.slice(Y,K);if(G>=2)return{node:{type:_.htmlComment,text:z,raw:!0,endPos:K},end:K};var D="div",A=z.match(/^<\/?([a-zA-Z][a-zA-Z0-9-]*)/);A&&(D=A[1]);var B=B9($,Y),k={},I;B&&!B.isClosing&&(k=j9(B.attrs,D,Q),I=B.whitespaceBeforeAttrs+B.rawAttrs);var v=[],L=D.toLowerCase(),y="</"+L,R=M9(z,y,0),b=z,w="";if(B&&B.isClosing)for(b=z.slice(B.end-Y);b.length>0&&b.charCodeAt(b.length-1)===x;)b=b.slice(0,-1);else if(B&&!B.isClosing){var S=B.end-Y;if(R!==-1)for(b=z.slice(S),b.charCodeAt(0)===x&&(b=b.slice(1));b.length>0&&b.charCodeAt(b.length-1)===x;)b=b.slice(0,-1);else for(b=z;b.length>0&&b.charCodeAt(b.length-1)===x;)b=b.slice(0,-1);if(R!==-1){var E=z.slice(S,R);w=E.trim()}}var h=B?B.isClosing:!1;return{node:{type:_.htmlBlock,tag:D,attrs:k,e:I,children:v,a:b,text:w,d:!0,c:h,endPos:K,canInterruptParagraph:!0},end:K}}if(G===6||G===7){var T=A6($,J),g=T<$.length?T:$.length,P0=$.slice(Y,g),l=T<$.length?i($,T):$.length,m=B9($,Y);if(m){var Q0=m.tag,v0=Q0.toLowerCase(),h0=m.isClosing;if(h0){var U0=$.slice(m.end,g);return{node:{type:_.htmlBlock,tag:Q0,attrs:{},children:[],a:U0,text:U0,d:!0,c:!0,endPos:g,canInterruptParagraph:G===6},end:l}}if(m.selfClosing||T9(Q0))return{node:{type:_.htmlBlock,tag:Q0,attrs:j9(m.attrs,Q0,Q),e:m.whitespaceBeforeAttrs+m.rawAttrs,children:[],a:"",text:"",d:!1,c:!1,endPos:m.end,canInterruptParagraph:G===6},end:i($,m.end)};var N0=Z.b||0,f=$.slice(Y,g),Y0=-1,y0=-1;if(N0<10){for(var V0="</"+v0,a=m.end-Y,O0=1,b0=a;b0<f.length&&O0>0;){var M=M9(f,"<"+v0,b0),C=M9(f,V0,b0);if(C===-1)break;if(M!==-1&&M<C){var q0=M+v0.length+1;if(q0<f.length){var L0=f.charCodeAt(q0);(L0===P||L0===N||L0===x||L0===u||L0===B0)&&O0++}b0=M+1}else{var s=C+V0.length;if(s<f.length){var k0=f.charCodeAt(s);if((k0===u||k0===P||k0===N||k0===x)&&(O0--,O0===0)){Y0=C;for(var o=s;o<f.length&&f.charCodeAt(o)!==u;)o++;y0=o+1;break}}else if(O0--,O0===0){Y0=C,y0=f.length;break}b0=C+1}}var d0=!1;if(Y0===-1&&G===6&&!m.isClosing&&!LZ.has(v0)){var c0=$.slice(m.end),f0=M9(c0,V0,0);if(f0!==-1){var F0=c0.slice(0,f0);if(F0.indexOf(`

`)!==-1){for(var m9=m.end+f0,$9=m9+V0.length;$9<$.length&&$.charCodeAt($9)!==u;)$9++;if($9<$.length&&$.charCodeAt($9)===u){var S9=$9+1,C9=K0($,S9);g=C9,l=i($,C9),f=$.slice(Y,g),P0=$.slice(Y,g),Y0=m9-Y,y0=S9-Y,d0=!0}}}}}var _9=m.rawAttrs.indexOf(`
`)!==-1||m.whitespaceBeforeAttrs.indexOf(`
`)!==-1,J9=!1;if(Y0!==-1){var Y$=f.slice(y0).trim();J9=Y$.length===0}var Q9=!1,G9=g,I9=l;if(Y0!==-1){var Z9=Y+y0,l0=K0($,Z9-1);if(Z9<l0){for(var S0=Z9;S0<l0&&($.charCodeAt(S0)===P||$.charCodeAt(S0)===N);)S0++;if(S0<l0&&$.charCodeAt(S0)===G0){var u9=B9($,S0);u9&&!u9.isClosing&&(Q9=!0,G9=Z9,I9=Z9,J9=!0)}}if(!Q9){var z9=i($,l0);if(z9<g){for(var _0=z9;_0<g&&($.charCodeAt(_0)===P||$.charCodeAt(_0)===N);)_0++;if(_0<g&&$.charCodeAt(_0)===G0){var I$=B9($,_0);I$&&(Q9=!0,G9=l0,I9=z9,J9=!0)}}}if(!Q9&&Z.inHTML){Q9=!0,G9=l0,I9=i($,l0);var P$=$.slice(Z9,l0).trim();J9=P$.length===0}}var U9=[],o0="";if(Y0!==-1){o0=f.slice(m.end-Y,Y0);var V9=o0.trim();if(V9){var{inline:s9,inHTML:p6,b:d6}=Z;Z.inHTML=!0,Z.b=N0+1;var c6=v0==="p";if(c6)Z.inline=!0,U9=p0(V9,0,V9.length,Z,Q);else{var l6=o0.indexOf(`

`)!==-1,o6=/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(V9),r$=/^<([a-z][^ >/\n\r]*) ?([^>]*?)>/im.test(V9),r6=l6||o6||Z.inHTML&&r$;r6||r$?(Z.inline=!1,U9=A9(o0,Z,Q)):(Z.inline=!0,U9=p0(V9,0,V9.length,Z,Q))}Z.inline=s9,Z.inHTML=p6,Z.b=d6}}var i$=!1;if(G===6&&Y0!==-1&&!Z.inHTML&&!_9){var N$=o0,i6=/<[a-zA-Z][^>]*>/.test(N$),a6=/\n\n/.test(N$)||/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(N$);i6&&!a6&&(i$=!0)}var n6=Z.inHTML||G===7||_9||!J9||i$;if(n6){var a0;if(Y0!==-1&&Q9){var a$=!1;if(Z.inHTML&&y0<f.length){for(var K$=y0;K$<f.length&&f.charCodeAt(K$)!==x;)K$++;var b$=f.slice(y0,K$).trim();a$=b$.length>1&&b$.charCodeAt(0)===G0&&b$.charCodeAt(1)!==B0}a0=a$?f.slice(m.end-Y):o0}else(G===7||Z.inHTML)&&Y0!==-1?(a0=f.slice(m.end-Y),a0.charCodeAt(0)===x&&(a0=a0.slice(1))):Q9?a0=$.slice(Y,G9):_9?a0=P0:(a0=f.slice(m.end-Y),a0.charCodeAt(0)===x&&(a0=a0.slice(1)));return{node:{type:_.htmlBlock,tag:Q0,attrs:j9(m.attrs,Q0,Q),e:m.whitespaceBeforeAttrs+m.rawAttrs,children:U9,a:a0,text:a0,d:!0,c:!1,endPos:G9,canInterruptParagraph:G===6},end:I9}}return{node:{type:_.htmlBlock,tag:Q0,attrs:j9(m.attrs,Q0,Q),e:m.whitespaceBeforeAttrs+m.rawAttrs,children:U9,a:d0?"":o0,text:o0,d:!1,c:!1,endPos:G9,canInterruptParagraph:G===6},end:I9}}var G$=P0.match(/^<(\/?)([a-zA-Z][a-zA-Z0-9-]*)/),s6=G$?G$[2]:"div",n$=G$?G$[1]==="/":!1,R$=P0;if(n$){var s$=P0.indexOf(">");s$!==-1&&(R$=P0.slice(s$+1))}return{node:{type:_.htmlBlock,tag:s6,attrs:{},children:[],a:R$,text:R$,d:!0,c:n$,endPos:g,canInterruptParagraph:G===6},end:l}}var E0=B9($,Y);if(!E0)return null;var P9=E0.tag,w$=P9.toLowerCase(),t$=P9.charCodeAt(0),V$=t$>=r&&t$<=n;if(!V$&&!B$.has(w$)&&!X$.has(w$)&&!w$.includes("-"))return null;if(E0.isClosing)return{node:{type:_.htmlSelfClosing,tag:P9,attrs:{},endPos:E0.end,c:!0,a:$.slice(Y,E0.end)},end:E0.end};var FJ=!0,E9=g6($,E0.end,P9),t9=[];if(E9!==-1){var t6=p$,F$=$.slice(E0.end,t6),e9=F$.trim();if(e9){var e6=F$.indexOf(`

`)!==-1,$Z=/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(e9),ZZ=/^<([a-z][^ >/\n\r]*) ?([^>]*?)>/im.test(e9),JZ=Z.inline,QZ=Z.inHTML,XZ=Z.b;Z.inHTML=!0,Z.b=(Z.b||0)+1,e6||$Z||ZZ?(Z.inline=!1,t9=A9(F$,Z,Q)):(Z.inline=!0,t9=p0(e9,0,e9.length,Z,Q)),Z.inline=JZ,Z.inHTML=QZ,Z.b=XZ}var YZ=K0($,E9),KZ=$.slice(E9,YZ).trim(),y$=KZ?E9:i($,E9),e$=V$?$.slice(Y,E9):$.slice(Y,y$),GZ=V$?E9:y$;return{node:{type:_.htmlBlock,tag:P9,attrs:j9(E0.attrs,P9,Q),e:E0.whitespaceBeforeAttrs+E0.rawAttrs,children:t9,a:e$,text:V$?F$:e$,d:!0,c:!1,endPos:GZ,canInterruptParagraph:!1},end:y$}}var p9=A6($,E0.end),VZ=p9<$.length?i($,p9):p9,L$=$.slice(E0.end,p9);if(L$.trim()){var{inline:FZ,inHTML:qZ,b:WZ}=Z;Z.inline=!1,Z.inHTML=!0,Z.b=(Z.b||0)+1,t9=A9(L$,Z,Q),Z.inline=FZ,Z.inHTML=qZ,Z.b=WZ}var zZ=$.slice(E0.end,p9);return{node:{type:_.htmlBlock,tag:P9,attrs:j9(E0.attrs,P9,Q),e:E0.whitespaceBeforeAttrs+E0.rawAttrs,children:t9,a:zZ,text:L$,d:!0,c:!1,endPos:p9,canInterruptParagraph:!1},end:VZ}}function TZ($,J){if($.charCodeAt(J)!==G0)return 0;var Z=J+1,Q=$.length;if($.charCodeAt(Z)===g0&&$.charCodeAt(Z+1)===p&&$.charCodeAt(Z+2)===p)return 2;if($.charCodeAt(Z)===g9)return 3;if($.charCodeAt(Z)===g0){var X=$.charCodeAt(Z+1);if(X>=r&&X<=n)return 4;if($.slice(Z+1,Z+8)==="[CDATA[")return 5}for(var Y=$.charCodeAt(Z)===B0,F=Y?Z+1:Z,V=F;V<Q;){var G=$.charCodeAt(V);if(G>=r&&G<=n||G>=z0&&G<=j0||G>=t&&G<=e||G===p)V++;else break}if(V===F)return 0;var K=$.slice(F,V);if(X$.has(K.toLowerCase())){if(Y)return 0;var q=$.charCodeAt(V);return q===P||q===N||q===u||q===x||V>=Q?1:0}if(B$.has(K.toLowerCase())){if(Y){for(var W=V;W<Q&&($.charCodeAt(W)===P||$.charCodeAt(W)===N);)W++;return W<Q&&$.charCodeAt(W)===u?6:0}var O=V<Q?$.charCodeAt(V):-1;return O===P||O===N||O===u||O===x||O===B0||O===-1?6:0}if(Y){for(var z=V;z<Q&&($.charCodeAt(z)===P||$.charCodeAt(z)===N);)z++;if(z<Q&&$.charCodeAt(z)===u){var D=K0($,J),A=$.slice(z+1,D).trim();if(A==="")return 7}}else{var U=K0($,J),j=B9($,J);if(j&&j.end<=U){var H=$.slice(j.end,U).trim();if(H==="")return 7}}return 0}function _6($,J,Z){for(var Q=0,X=$.length;Q<X&&($.charCodeAt(Q)===P||$.charCodeAt(Q)===N);)Q++;for(;X>Q&&($.charCodeAt(X-1)===P||$.charCodeAt(X-1)===N);)X--;Q<X&&$.charCodeAt(Q)===R0&&Q++,X>Q&&$.charCodeAt(X-1)===R0&&(X-2<Q||$.charCodeAt(X-2)!==M0)&&X--;for(var Y=[],F=Q,V=!1,G=[],K=Q;K<X;){var q=$.charCodeAt(K);if(q===M0&&K+1<X){$.charCodeAt(K+1)===R0?(V||(V=!0,G=[]),G.push($.slice(F,K)),G.push("|"),K+=2,F=K):K+=2;continue}if(q===$0){for(var W=0;K<X&&$.charCodeAt(K)===$0;)W++,K++;for(var O=!1;K<X&&!O;){for(var U=0;K<X&&$.charCodeAt(K)===$0;)U++,K++;U===W?O=!0:U===0&&K++}continue}if(q===R0){var j=V?(G.push($.slice(F,K)),G.join("")):$.slice(F,K);Y.push(j.trim()),K++,F=K,V=!1,G=[];continue}K++}var H=V?(G.push($.slice(F,X)),G.join("")):$.slice(F,X);return Y.push(H.trim()),Y.map(function(z){var D=z.indexOf("\\|")!==-1?z.replace(/\\\|/g,"|"):z;return p0(D,0,D.length,J,Z)})}function I6($,J,Z,Q){let X=K0($,J);var Y=$.indexOf("|",J);if(Y<0||Y>=X)return null;let F=i($,X);if(F>=$.length)return null;let V=K0($,F);if(!w6($,F,V))return null;let G=$.slice(J,X),K=$.slice(F,V);for(var q=[],W=0,O=K.length;W<O&&(K.charCodeAt(W)===P||K.charCodeAt(W)===N);)W++;for(W<O&&K.charCodeAt(W)===R0&&W++;W<O;){for(;W<O&&(K.charCodeAt(W)===P||K.charCodeAt(W)===N);)W++;if(W>=O||K.charCodeAt(W)===R0)break;var U=K.charCodeAt(W)===x0;for(U&&W++;W<O&&K.charCodeAt(W)===p;)W++;var j=W<O&&K.charCodeAt(W)===x0;for(j&&W++,q.push(U&&j?"center":j?"right":U?"left":null);W<O&&(K.charCodeAt(W)===P||K.charCodeAt(W)===N);)W++;W<O&&K.charCodeAt(W)===R0&&W++}let H=_6(G,Z,Q);if(q.length!==H.length)return null;let z=[],D=i($,V);for(;D<$.length;){let L=K0($,D),y=$.slice(D,L);if(e0($,D,L))break;if(A0($,D,L),X0<4){var A=$.charCodeAt(D+Z0);if(A===u||A===X9||(A===p||A===H0||A===D0)&&L9($,D))break;if(A===$0||A===I0){for(var B=D+Z0,k=0;B<L&&$.charCodeAt(B)===A;)k++,B++;if(k>=3)break}}z.push(_6(y,Z,Q)),D=i($,L)}if((Q.streaming||Q.optimizeForStreaming)&&z.length===0)return null;for(var I=H.length,v=0;v<z.length;v++)if(z[v].length<I)for(;z[v].length<I;)z[v].push([]);else z[v].length>I&&(z[v].length=I);return{node:{type:_.table,header:H,cells:z,align:q},end:D}}function hZ($,J,Z){var Q=K0($,J);if(A0($,J,Q),X0>3)return null;var X=J+Z0;if($.charCodeAt(X)!==W0)return null;if(X+1<$.length&&$.charCodeAt(X+1)===r0){var Y=mZ($,X,Z);return Y||null}Z.refs||(Z.refs={});var F=y6($,X,Z.refs);return F===null?null:{node:{type:_.refCollection},end:F}}function mZ($,J,Z){var Q=$.length;if($.charCodeAt(J)!==W0||J+1>=Q||$.charCodeAt(J+1)!==r0)return null;for(var X=J+2,Y=X;X<Q&&$.charCodeAt(X)!==C0;){if($.charCodeAt(X)===x)return null;X++}if(X>=Q)return null;var F=("^"+$.slice(Y,X)).toLowerCase();if(X++,X>=Q||$.charCodeAt(X)!==x0)return null;for(X++;X<Q&&($.charCodeAt(X)===P||$.charCodeAt(X)===N);)X++;if(X<Q&&$.charCodeAt(X)===x)for(X++;X<Q&&($.charCodeAt(X)===P||$.charCodeAt(X)===N);)X++;var V=$.indexOf(`
`,X);V<0&&(V=Q);for(var G=$.slice(X,V).trim(),K=V<Q?V+1:Q;K<Q;){var q=K0($,K);if(A0($,K,q),X0>=2&&!e0($,K,q))G+=`
`+$.slice(K,q),K=i($,q);else if(e0($,K,q)){var W=i($,q);if(W<Q){var O=K0($,W);if(A0($,W,O),X0>=2){G+=`
`,K=i($,q);continue}}break}else break}return Z.refs[F]||(Z.refs[F]={target:G,title:void 0}),{node:{type:_.footnote},end:K}}function CZ($,J,Z,Q){let X=J,Y=0,F=0,V=-1;for(;X<$.length;){let w=V>=0?V:K0($,X);if(V=-1,e0($,X,w))break;if(A0($,X,w),X0<4&&F>0&&!Z.f){let E=$.charCodeAt(X+Z0);if(E===m0||E===p){let h=X+Z0;for(;h<w&&$.charCodeAt(h)===E;)h++;for(;h<w&&($.charCodeAt(h)===P||$.charCodeAt(h)===N);)h++;if(h>=w){Y=E===m0?1:2,X=i($,w);break}}}F=w;let S=i($,w);if(S<$.length){if($.charCodeAt(S)===o9){var G=K0($,S);X=i($,G),F=G;continue}let E=K0($,S);if(V=E,A0($,S,E),X0<4){let h=$.charCodeAt(S+Z0);if(h===u){X=S;break}if(h===X9&&S6($,S,Z,Q)){X=S;break}if(h===$0||h===I0){for(var K=S+Z0,q=0;K<E&&$.charCodeAt(K)===h;)q++,K++;if(q>=3){X=S;break}}if(h===G0){var W=S+Z0+1,O=W<E?$.charCodeAt(W):0,U=O===g0||O===g9;if(!U&&O===B0){for(var j=W+1,H=j;H<E&&($.charCodeAt(H)>=r&&$.charCodeAt(H)<=n||$.charCodeAt(H)>=z0&&$.charCodeAt(H)<=j0||$.charCodeAt(H)>=t&&$.charCodeAt(H)<=e||$.charCodeAt(H)===p);)H++;H>j&&(U=B$.has($.slice(j,H).toLowerCase()))}else if(!U){for(var z=W;z<E&&($.charCodeAt(z)>=r&&$.charCodeAt(z)<=n||$.charCodeAt(z)>=z0&&$.charCodeAt(z)<=j0||$.charCodeAt(z)>=t&&$.charCodeAt(z)<=e||$.charCodeAt(z)===p);)z++;if(z>W){var D=$.slice(W,z).toLowerCase();U=B$.has(D)||X$.has(D)}}if(U&&x6($,S,Z,Q)){X=S;break}}if(h===p||h===H0||h===H9){let T=S+Z0+1;if(T<E&&($.charCodeAt(T)===P||$.charCodeAt(T)===N)){var A=Q$($,T,E);if(A<E&&!L9($,S)){X=S;break}}}if(h>=t&&h<=e){let T=S+Z0;for(;T<E&&$.charCodeAt(T)>=t&&$.charCodeAt(T)<=e;)T++;if(T<E&&($.charCodeAt(T)===n0||$.charCodeAt(T)===t0)&&T-(S+Z0)===1&&$.charCodeAt(S+Z0)===49){var B=T+1;if(B<E&&($.charCodeAt(B)===P||$.charCodeAt(B)===N)){var k=Q$($,B,E);if(k<E){X=S;break}}}}if(h===R0){let T=i($,E);if(T<$.length){let g=K0($,T);if(w6($,T,g)){X=S;break}}}if((h===p||h===H0||h===D0)&&L9($,S)){if(h!==p){X=S;break}let T=0,g=S+Z0;for(;g<E&&$.charCodeAt(g)===p;)T++,g++;for(;g<E&&($.charCodeAt(g)===P||$.charCodeAt(g)===N);)g++;if(g<E){X=S;break}}}}X=i($,w)}for(var I=Y?F:X;I>J&&($.charCodeAt(I-1)===x||$.charCodeAt(I-1)===F9||$.charCodeAt(I-1)===P||$.charCodeAt(I-1)===N);)I--;for(var v=J;v<I&&($.charCodeAt(v)===P||$.charCodeAt(v)===N);)v++;if(v>=I)return null;for(var L=!1,y=v;y<I;y++)if($.charCodeAt(y)===o9){L=!0;break}var R=L?$.slice(v,I).replace(/\u001E/g,""):$.slice(v,I);if(!R)return null;let b=uZ(R,0,R.length,Z,Q);if(Y){let S=(Q?.slugify||i0)(R);return{node:{type:_.heading,level:Y,children:b,id:S},end:X}}return{node:{type:_.paragraph,children:b},end:X}}function uZ($,J,Z,Q,X){var Y=$.indexOf(`
`,J);if(Y<0||Y>=Z)return p0($,J,Z,Q,X);for(var F="",V=J,G=J;G<Z;){var K=$.charCodeAt(G);if(K===$0){var q=v$($,G,Z);if(q>G){for(var W=!1,O=G;O<q;O++)if($.charCodeAt(O)===x){W=!0;break}W&&(F+=$.slice(V,G),F+=$.slice(G,q).replace(/\n/g," "),V=q),G=q;continue}}if(K===G0){var U=f6($,G,Z);if(U>G){G=U;continue}}if(K===x){var j=!1,H=0;if(G>J&&$.charCodeAt(G-1)===M0)j=!0,H=1;else{for(var z=0,D=G-1;D>=J&&$.charCodeAt(D)===P;)z++,D--;z>=2&&(j=!0,H=z)}for(j?(F+=$.slice(V,G-H),F+=""):F+=$.slice(V,G+1),G++;G<Z&&$.charCodeAt(G)===P;)G++;V=G;continue}G++}return V<Z&&(F+=$.slice(V,Z)),p0(F,0,F.length,Q,X)}function pZ($,J,Z){if($.charCodeAt(J)!==$0)return null;let Q=v9($,J,Z,96),X=J+Q;for(;X<Z;){let Y=$.indexOf("`",X);if(Y<0||Y>=Z)return null;let F=v9($,Y,Z,96);if(F===Q){let V=$.slice(J+Q,Y);return V=V.replace(/\n/g," "),V.length>0&&V[0]===" "&&V[V.length-1]===" "&&V.trim().length>0&&(V=V.slice(1,-1)),{node:{type:_.codeInline,text:V},end:Y+F}}X=Y+F}return null}function v$($,J,Z){if($.charCodeAt(J)!==$0)return J;let Q=v9($,J,Z,96),X=J+Q;for(;X<Z;){let Y=$.indexOf("`",X);if(Y<0||Y>=Z)return J;let F=v9($,Y,Z,96);if(F===Q)return Y+F;X=Y+F}return J}function f6($,J,Z){if($.charCodeAt(J)!==G0)return J;if(J+1<Z&&$.charCodeAt(J+1)===B0){let K=J+2;for(;K<Z&&$.charCodeAt(K)!==u;)K++;return K<Z?K+1:J}if(J+3<Z&&$.charCodeAt(J+1)===g0&&$.charCodeAt(J+2)===p&&$.charCodeAt(J+3)===p){let K=$.indexOf("-->",J+4);return K>=0?K+3:J}let Q=J+1,X=Q;for(;Q<Z;){let K=$.charCodeAt(Q);if(K>=r&&K<=n||K>=z0&&K<=j0||K>=t&&K<=e||K===p)Q++;else break}if(Q===X)return J;let Y=$.slice(X,Q).toLowerCase(),F=!1;for(;Q<Z;){let K=$.charCodeAt(Q);if(K===u){Q++;break}if(K===B0&&Q+1<Z&&$.charCodeAt(Q+1)===u){Q+=2,F=!0;break}if(K===q9||K===O9){var V=K;for(Q++;Q<Z&&$.charCodeAt(Q)!==V;)Q++;Q<Z&&Q++;continue}if(K===x)return J;Q++}if(F||T9(Y))return Q;let G=1;for(;Q<Z&&G>0;)if($.charCodeAt(Q)===G0)if(Q+1<Z&&$.charCodeAt(Q+1)===B0){let K=Q+2,q=K;for(;q<Z&&($.charCodeAt(q)>=r&&$.charCodeAt(q)<=n||$.charCodeAt(q)>=z0&&$.charCodeAt(q)<=j0);)q++;if($.slice(K,q).toLowerCase()===Y){for(;q<Z&&$.charCodeAt(q)!==u;)q++;if(q<Z&&q++,G--,G===0)return q}Q=q}else{let K=Q+1,q=K;for(;q<Z&&($.charCodeAt(q)>=r&&$.charCodeAt(q)<=n||$.charCodeAt(q)>=z0&&$.charCodeAt(q)<=j0);)q++;$.slice(K,q).toLowerCase()===Y&&G++,Q++}else Q++;return Q}function dZ($,J,Z,Q,X){if($.charCodeAt(J)!==I0||J+1>=Z||$.charCodeAt(J+1)!==I0)return null;let Y=J+2;for(;Y+1<Z;){let F=$.charCodeAt(Y);if(F===$0){let V=v$($,Y,Z);if(V>Y){Y=V;continue}}if(F===I0&&$.charCodeAt(Y+1)===I0){let V=$.slice(J+2,Y),G=p0(V,0,V.length,Q,X);return{node:{type:_.textFormatted,tag:"del",children:G},end:Y+2}}F===M0&&Y+1<Z&&Y++,Y++}return null}function cZ($,J,Z,Q,X){if($.charCodeAt(J)!==m0||J+1>=Z||$.charCodeAt(J+1)!==m0)return null;let Y=J+2;for(;Y+1<Z;){let F=$.charCodeAt(Y);if(F===$0){let V=v$($,Y,Z);if(V>Y){Y=V;continue}}if(F===m0&&$.charCodeAt(Y+1)===m0&&Y>J+2){let V=$.slice(J+2,Y),G=p0(V,0,V.length,Q,X);return{node:{type:_.textFormatted,tag:"mark",children:G},end:Y+2}}F===M0&&Y+1<Z&&Y++,Y++}return null}var lZ=/[\p{P}\p{S}]/u;function P6($,J,Z){return $<x9?!!(l$($)&J0):lZ.test(J[Z])}function N6($,J,Z){return $<x9?!!(l$($)&n9):/\p{Zs}/u.test(J[Z])}function oZ($,J,Z){var Q=$.charCodeAt(J);if(Q!==H0&&Q!==D0)return null;var X=v9($,J,Z,Q);if(X===0)return null;var Y=J>0?$.charCodeAt(J-1):32,F=J+X<Z?$.charCodeAt(J+X):32,V=N6(Y,$,J-1),G=N6(F,$,J+X),K=J>0?P6(Y,$,J-1):!1,q=J+X<Z?P6(F,$,J+X):!1,W=!G&&(!q||V||K),O=!V&&(!K||G||q),U,j;return Q===H0?(U=W,j=O):(U=W&&(!O||K),j=O&&(!W||q)),{len:X,canOpen:U,canClose:j}}function rZ($,J,Z,Q){if(J.length!==0){for(var X=[],Y=0;Y<12;Y++)X[Y]=-1;for(var F=0;F<J.length;){var V=J[F];if(!V.active||!V.canClose){F++;continue}for(var G=V.ch===H0?0:1,K=G*6+V.len%3*2+(V.canOpen?1:0),q=X[K]!==void 0?X[K]:-1,W=-1,O=F-1;O>q;O--){var U=J[O];if(!(!U.active||U.ch!==V.ch||!U.canOpen)&&!((V.canOpen||U.canClose)&&(U.len+V.len)%3===0&&U.len%3!==0)){W=O;break}}if(W<0){X[K]=F-1,!V.canOpen&&(V.active=!1),F++;continue}var j=J[W],H=j.len>=2&&V.len>=2,z=H?2:1;j.len-=z,V.len-=z;var D=$[j.idx],A=$[V.idx];D.text=D.text.slice(0,D.text.length-z),A.text=A.text.slice(z);var B=j.idx+1,k=V.idx,I=$.slice(B,k),v={type:_.textFormatted,tag:H?"strong":"em",children:I};$.splice(B,k-B,v);for(var L=k-B-1,y=0;y<J.length;y++)J[y].idx>j.idx&&(J[y].idx-=L);for(var R=W+1;R<F;R++)J[R].active=!1;if(j.len===0&&(j.active=!1,D.text==="")){$.splice(j.idx,1);for(var b=0;b<J.length;b++)J[b].idx>j.idx?J[b].idx--:J[b].idx===j.idx&&(J[b].idx=-1)}if(V.len===0){V.active=!1;var w=V.idx;if(A.text===""){$.splice(w,1);for(var S=0;S<J.length;S++)J[S].idx>w?J[S].idx--:J[S].idx===w&&(J[S].idx=-1)}}else continue;F++}for(var E=0,h=0;h<$.length;h++){var T=$[h];if(T.type===_.text){var g=T;if(g.text==="")continue;if(E>0&&$[E-1].type===_.text){$[E-1].text+=g.text;continue}}$[E++]=T}$.length=E}}function b6($,J,Z,Q,X){let Y=$.charCodeAt(J)===g0,F=Y?J+1:J;if($.charCodeAt(F)!==W0)return null;var V=$.indexOf("]",F+1);if(V<0||V>=Z)return null;for(var G=F+1,K=-1,q=1;G<Z&&q>0;){var W=$.charCodeAt(G);if(W===M0&&G+1<Z){G+=2;continue}if(W===$0){var O=v$($,G,Z);if(O>G){G=O;continue}}if(W===G0){var U=T6($,G,Z);if(U){G=U.end;continue}var j=f6($,G,Z);if(j>G){G=j;continue}}W===W0?q++:W===C0&&q--,G++}if(q!==0)return null;var H=G-1,z=$.slice(F+1,H),D=G<Z?$.charCodeAt(G):0,A=!1;if(D===s0){var B=!0;for(G++;G<Z&&($.charCodeAt(G)===P||$.charCodeAt(G)===x);)G++;var k="",I=G;if(G<Z&&$.charCodeAt(G)===G0){for(G++,I=G;I<Z&&$.charCodeAt(I)!==u;){if($.charCodeAt(I)===M0&&I+1<Z){I+=2;continue}if($.charCodeAt(I)===x){B=!1;break}I++}B&&(I>=Z||$.charCodeAt(I)!==u)&&(B=!1),B&&(k=$.slice(G,I),I++)}else if(B){for(var v=0;I<Z;){var L=$.charCodeAt(I);if(L===M0&&I+1<Z){I+=2;continue}if(L===s0)v++;else if(L===t0){if(v===0)break;v--}else if(L===P||L===x)break;I++}k=$.slice(G,I)}if(B){for(G=I;G<Z&&($.charCodeAt(G)===P||$.charCodeAt(G)===x);)G++;var y;if(G<Z){var R=$.charCodeAt(G);if(R===q9||R===O9||R===s0){var b=R===s0?41:R;G++;for(var w=G;G<Z&&$.charCodeAt(G)!==b;)$.charCodeAt(G)===M0&&G+1<Z&&G++,G++;G>=Z?B=!1:(y=$.slice(w,G),G++)}}if(B){for(;G<Z&&($.charCodeAt(G)===P||$.charCodeAt(G)===x);)G++;(G>=Z||$.charCodeAt(G)!==t0)&&(B=!1)}}if(B){G++,k=a9(k),y!==void 0&&(y=H$(a9(y)));var S=X?.sanitizer||w9,E=S(k,Y?"img":"a",Y?"src":"href"),h=E===null?null:k;if(Y){var T=p0(z,0,z.length,Q,X),g=M$(T);return{node:{type:_.image,target:h,alt:g,title:y},end:G}}else{var P0=Q.inAnchor;Q.inAnchor=!0;var l=P0?[{type:_.text,text:z}]:p0(z,0,z.length,Q,X);return Q.inAnchor=P0,!Q.inAnchor&&d$(l)?null:{node:{type:_.link,target:h,title:y,children:l},end:G}}}else G=H+1,A=!0}var m="",Q0=G;if(!A&&D===W0){var v0=G+1;Q0=v0;for(var h0=!1;Q0<Z&&$.charCodeAt(Q0)!==C0;){if($.charCodeAt(Q0)===M0&&Q0+1<Z){Q0+=2;continue}if($.charCodeAt(Q0)===W0){h0=!0;break}Q0++}if(h0||Q0>=Z)return null;var U0=$.slice(v0,Q0);if(U0.trim())m=D$(U0);else{if(M6(z))return null;m=D$(z)}Q0=Q0+1}else{if(M6(z))return null;m=D$(z)}var N0=Q.refs[m];if(!N0)return null;if(Y)return{node:{type:_.image,target:N0.target,alt:M$(p0(z,0,z.length,Q,X)),title:N0.title},end:Q0};var f=Q.inAnchor;Q.inAnchor=!0;var l=f?[{type:_.text,text:z}]:p0(z,0,z.length,Q,X);return Q.inAnchor=f,!Q.inAnchor&&d$(l)?null:{node:{type:_.link,target:N0.target,title:N0.title,children:l},end:Q0}}function T6($,J,Z){if($.charCodeAt(J)!==G0)return null;for(var Q=J+1;Q<Z;){var X=$.charCodeAt(Q);if(X===u)break;if(X===P||X===x||X===F9||X===G0)return null;Q++}if(Q>=Z||$.charCodeAt(Q)!==u)return null;var Y=$.slice(J+1,Q),F=Y.match(/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^\x00-\x20]*)$/);return F?{node:{type:_.link,target:Y,children:[{type:_.text,text:Y}]},end:Q+1}:Y.indexOf("@")!==-1&&/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(Y)?{node:{type:_.link,target:"mailto:"+Y,children:[{type:_.text,text:Y}]},end:Q+1}:null}function iZ($,J,Z,Q){if($.charCodeAt(J)!==W0||J+1>=Z||$.charCodeAt(J+1)!==r0)return null;let X=J+2;for(;X<Z&&$.charCodeAt(X)!==C0&&$.charCodeAt(X)!==x;)X++;if(X>=Z||$.charCodeAt(X)!==C0)return null;let Y=$.slice(J+2,X);return Y?{node:{type:_.footnoteReference,target:"#"+i0(Y),text:Y},end:X+1}:null}function aZ($,J,Z,Q){if(Q.disableBareUrls)return null;var X="",Y=!1,F=$.charCodeAt(J);if(F===l9||F===72?J+8<=Z&&$.charCodeAt(J+1)===W$&&$.charCodeAt(J+2)===W$&&$.charCodeAt(J+3)===S$&&($.charCodeAt(J+4)===X6&&$.charCodeAt(J+5)===x0&&$.charCodeAt(J+6)===B0&&$.charCodeAt(J+7)===B0?X="https://":$.charCodeAt(J+4)===x0&&$.charCodeAt(J+5)===B0&&$.charCodeAt(J+6)===B0&&(X="http://")):F===N9||F===70?J+6<=Z&&$.charCodeAt(J+1)===W$&&$.charCodeAt(J+2)===S$&&$.charCodeAt(J+3)===x0&&$.charCodeAt(J+4)===B0&&$.charCodeAt(J+5)===B0&&(X="ftp://"):(F===b9||F===87)&&J+4<=Z&&$.charCodeAt(J+1)===b9&&$.charCodeAt(J+2)===b9&&$.charCodeAt(J+3)===n0&&(X="www.",Y=!0),!X)return null;let V=J+X.length;for(;V<Z;){let v=$.charCodeAt(V);if(v===P||v===x||v===N||v===F9||v===G0||v===u)break;V++}for(var G=0,K=0,q=J;q<V;q++){var W=$.charCodeAt(q);W===s0?G++:W===t0&&K++}let O=V;for(;O>J+X.length;){let v=$.charCodeAt(O-1);if(v===n0||v===E$||v===x0||v===g0||v===g9||v===t0){if(v===t0){if(G>=K)break;K--}O--}else if(v===z$){for(var U=O-2;U>J&&($.charCodeAt(U)>=r&&$.charCodeAt(U)<=n||$.charCodeAt(U)>=z0&&$.charCodeAt(U)<=j0||$.charCodeAt(U)>=t&&$.charCodeAt(U)<=e);)U--;U>=J&&$.charCodeAt(U)===q$?O=U:O--}else break}if(O<=J+X.length)return null;var j=J+(Y?4:X.length),H=$.indexOf("/",j);if((H<0||H>O)&&(H=O),Y&&$.indexOf(".",j)===-1)return null;for(var z=-1,D=-1,A=H-1;A>=j;A--)if($.charCodeAt(A)===n0)if(z<0)z=A;else{D=A;break}for(var B=D>=0?D+1:j,A=B;A<H;A++)if($.charCodeAt(A)===D0)return null;var k=$.slice(J,O),I=Y?"http://"+k:k;return{node:{type:_.link,target:I,children:[{type:_.text,text:k}]},end:O}}function nZ($,J,Z,Q){if(Q.disableBareUrls)return null;for(var X=J,Y=X;X<Z;){var F=$.charCodeAt(X);if(F>=r&&F<=n||F>=z0&&F<=j0||F>=t&&F<=e||F===n0||F===g0||F===X9||F===36||F===d9||F===q$||F===O9||F===H0||F===H9||F===B0||F===m0||F===g9||F===r0||F===D0||F===$0||F===D9||F===R0||F===Z$||F===I0||F===p)X++;else break}if(X===Y||X>=Z||$.charCodeAt(X)!==c9)return null;X++;for(var V=X,G=-1,K=X;X<Z;){var F=$.charCodeAt(X);if(F>=r&&F<=n||F>=z0&&F<=j0||F>=t&&F<=e)X++;else if((F===p||F===D0)&&X>V)X++;else if(F===n0){if(X===V)break;var q=$.charCodeAt(X-1);if(q===p||q===D0||X-K>63)break;if(X+1<Z){var W=$.charCodeAt(X+1);if(W>=r&&W<=n||W>=z0&&W<=j0||W>=t&&W<=e)G=X,K=X+1,X++;else break}else break}else break}if(X-K>63||G<0)return null;var O=$.charCodeAt(X-1);if(!(O>=r&&O<=n||O>=z0&&O<=j0||O>=t&&O<=e)||X<=G+1)return null;for(var U=-1,j=G-1;j>=V;j--)if($.charCodeAt(j)===n0){U=j;break}for(var H=U>=0?U+1:V,j=H;j<X;j++)if($.charCodeAt(j)===D0)return null;var z=$.slice(J,X);return{node:{type:_.link,target:"mailto:"+z,children:[{type:_.text,text:z}]},end:X}}function d$($){for(var J=0;J<$.length;J++)if($[J].type===_.link||"children"in $[J]&&Array.isArray($[J].children)&&d$($[J].children))return!0;return!1}function M$($){for(var J="",Z=0;Z<$.length;Z++){var Q=$[Z];Q.type===_.text?J+=Q.text:Q.type===_.breakLine?J+=" ":Q.type===_.codeInline?J+=Q.text:"children"in Q&&Array.isArray(Q.children)?J+=M$(Q.children):Q.type===_.image?J+=Q.alt||"":Q.type===_.link&&(J+=M$(Q.children))}return J}function h9($){let J=$.includes("&")?H$($):$;return{type:_.text,text:J}}function sZ($,J,Z,Q,X){if($.charCodeAt(J)!==G0)return null;var Y=J+1;if(Y>=Z)return null;var F=$.charCodeAt(Y);if(F===g0&&Y+1<Z&&$.charCodeAt(Y+1)===p&&Y+2<Z&&$.charCodeAt(Y+2)===p){var V=Y+3;if(V<Z&&$.charCodeAt(V)===u)return{node:{type:_.htmlComment,text:"",endsWithGreaterThan:!0},end:V+1};if(V+1<Z&&$.charCodeAt(V)===p&&$.charCodeAt(V+1)===u)return{node:{type:_.htmlComment,text:"-",endsWithGreaterThan:!0},end:V+2};var G=$.indexOf("-->",V);return G!==-1&&G<=Z-3?{node:{type:_.htmlComment,text:$.slice(J+4,G)},end:G+3}:null}if(F===g9){var K=$.indexOf("?>",Y+1);return K!==-1&&K<Z?{node:{type:_.htmlSelfClosing,tag:"?",attrs:{},a:$.slice(J,K+2)},end:K+2}:null}if(F===g0&&Y+1<Z){var q=$.charCodeAt(Y+1);if(q===W0&&$.slice(Y+1,Y+8)==="[CDATA["){var W=$.indexOf("]]>",Y+8);return W!==-1&&W<Z?{node:{type:_.htmlSelfClosing,tag:"![CDATA[",attrs:{},a:$.slice(J,W+3)},end:W+3}:null}if(q>=r&&q<=n){var O=$.indexOf(">",Y+2);return O!==-1&&O<Z?{node:{type:_.htmlSelfClosing,tag:"!"+$.slice(Y+1,O),attrs:{},a:$.slice(J,O+1)},end:O+1}:null}}if(F===B0){var U=Y+1;if(U>=Z)return null;var j=$.charCodeAt(U);if(!(j>=r&&j<=n||j>=z0&&j<=j0))return null;for(U++;U<Z;){var H=$.charCodeAt(U);if(H>=r&&H<=n||H>=z0&&H<=j0||H>=t&&H<=e||H===p)U++;else break}for(;U<Z&&($.charCodeAt(U)===P||$.charCodeAt(U)===N||$.charCodeAt(U)===x);)U++;if(U<Z&&$.charCodeAt(U)===u){var z=$.slice(Y+1,U).trim();return{node:{type:_.htmlSelfClosing,tag:z,attrs:{},a:$.slice(J,U+1),c:!0},end:U+1}}return null}if(!(F>=r&&F<=n||F>=z0&&F<=j0))return null;var D=B9($,J);if(!D)return null;var A=D.tag,B=A.toLowerCase(),k=D.selfClosing;if(k||T9(A))return{node:{type:_.htmlSelfClosing,tag:A,attrs:j9(D.attrs,A,X),a:$.slice(J,D.end)},end:D.end};var I=X$.has(B),v=g6($.slice(0,Z),D.end,A);if(v===-1)return{node:{type:_.htmlSelfClosing,tag:A,attrs:j9(D.attrs,A,X),a:$.slice(J,D.end)},end:D.end};var L=fZ($,"</"+B,v),y=$.slice(D.end,L),R=[];if(I)y.trim()&&(R=[{type:_.text,text:y}]);else{var b=y.trim();if(b){var{inAnchor:w,inline:S}=Q;B==="a"&&(Q.inAnchor=!0);var E=b.indexOf(`

`)!==-1||/^#{1,6}\s/.test(b);E?(Q.inline=!1,R=A9(b,Q,X)):R=p0(b,0,b.length,Q,X),Q.inAnchor=w,Q.inline=S}}return{node:{type:_.htmlBlock,tag:A,attrs:j9(D.attrs,A,X),e:D.rawAttrs,children:R,text:y,d:!1},end:v}}var tZ=200,i9=0;function p0($,J,Z,Q,X){if(i9++,i9>tZ)return i9--,[{type:_.text,text:$.slice(J,Z)}];let Y=Q;if(X.streaming||X.optimizeForStreaming){let s=function(o,d0){for(var c0=1,f0=d0+1;f0<o.length;f0++){var F0=o.charCodeAt(f0);if(F0===W0)c0++;else if(F0===C0&&(c0--,c0===0))return f0}return-1},M=$.slice(J,Z),C=M;for(var F=0,V=0,G=0,K=0,q=0,W=-1,O=-1,U=-1,j=-1,H=-1,z=0;z<M.length;z++){var D=M.charCodeAt(z);D===H0?z+1<M.length&&M.charCodeAt(z+1)===H0?(F++,W=z,z++):(V++,O=z):D===D0?z+1<M.length&&M.charCodeAt(z+1)===D0?(G++,U=z,z++):(K++,j=z):D===I0&&z+1<M.length&&M.charCodeAt(z+1)===I0&&(q++,H=z,z++)}var A=[];q%2===1&&H>=0&&A.push([H,2]),G%2===1&&U>=0&&A.push([U,2]),K%2===1&&j>=0&&A.push([j,1]),F%2===1&&W>=0&&A.push([W,2]),V%2===1&&O>=0&&A.push([O,1]),A.sort(function(o,d0){return d0[0]-o[0]});for(var B=0;B<A.length;B++){var k=A[B][0],I=A[B][1];M=M.slice(0,k)+M.slice(k+I)}let q0=0,L0=-1;for(let o=0;o<M.length;o++)M.charCodeAt(o)===$0&&(q0++,L0=o);if(q0%2===1&&L0!==-1){let o=!1,d0=-1,c0=0;for(;c0<M.length;)M.charCodeAt(c0)===$0&&(o?(o=!1,d0=-1):(d0=c0,o=!0)),c0++;o&&d0!==-1&&(M=M.slice(0,d0))}for(var v=!0;v;){v=!1;for(var L=-1,y=-1,R=-1,b=!1,w=0;w<M.length;w++){var S=M.charCodeAt(w);if(S===W0&&(w===0||M.charCodeAt(w-1)!==M0)){var E=w>0&&M.charCodeAt(w-1)===g0,h=E?w-1:w,T=s(M,w);if(T===-1)L=h,b=E,y=w+1,R=M.length;else{var g=T+1;if(g>=M.length)L=h,b=E,y=w+1,R=T;else if(M.charCodeAt(g)===s0){var P0=M.indexOf(")",g+1);P0===-1?(L=h,b=E,y=w+1,R=T,w=M.length):w=P0}else if(M.charCodeAt(g)===W0){var l=M.indexOf("]",g+1);l===-1?(L=h,b=E,y=w+1,R=T,w=M.length):w=l}else w=T}}}if(L>=0){var m=b?"":M.slice(y,R);M=M.slice(0,L)+m,v=!0}}let k0=M.match(/<([A-Z][A-Za-z0-9]*)(?:\s[^>]*)?>([^<]*)$/);if(k0&&k0.index!==void 0){for(var Q0=!1,v0=0,h0=0;h0<k0.index;h0++)M.charCodeAt(h0)===$0&&v0++;if(Q0=v0%2===1,!Q0){let o=k0[1];M9(M,"</"+o,0)===-1&&(M=M.replace(/<[A-Z][A-Za-z0-9]*(?:\s[^>]*)?>([^<]*)$/,"$1"))}}M!==C&&($=$.slice(0,J)+M,Z=J+M.length)}let U0=[];var N0=[];let f=J;var Y0=X.disableAutoLink||X.disableBareUrls||Y.inAnchor?-1:$.indexOf("@",J);for(Y0>=Z&&(Y0=-1);J<Z;){let M=$.charCodeAt(J),C=null;if(M===$0){if(C=pZ($,J,Z),!C){var y0=v9($,J,Z,$0);J+=y0-1}}else if(M===H0||M===D0){var V0=oZ($,J,Z);if(V0){if(V0.canOpen||V0.canClose){J>f&&U0.push(h9($.slice(f,J)));var a=$.slice(J,J+V0.len),O0=h9(a);N0.push({idx:U0.length,ch:M,len:V0.len,canOpen:V0.canOpen,canClose:V0.canClose,active:!0}),U0.push(O0),J+=V0.len,f=J;continue}J+=V0.len-1}}else M===I0?C=dZ($,J,Z,Y,X):M===m0?C=cZ($,J,Z,Y,X):M===W0?(J+1<Z&&$.charCodeAt(J+1)===r0&&(C=iZ($,J,Z,Y)),C||(C=b6($,J,Z,Y,X))):M===g0&&J+1<Z&&$.charCodeAt(J+1)===W0?C=b6($,J,Z,Y,X):M===G0?(C=T6($,J,Z),!C&&!X.disableParsingRawHTML&&!X.ignoreHTMLBlocks&&(C=sZ($,J,Z,Y,X))):(M===l9||M===b9||M===N9)&&!Y.inAnchor&&!X.disableAutoLink&&(J===0||$.charCodeAt(J-1)!==G0)&&(C=aZ($,J,Z,X));if(!C&&Y0>=0&&Y0-J<=64&&!Y.inAnchor&&!X.disableAutoLink&&!X.disableBareUrls&&(M>=r&&M<=n||M>=z0&&M<=j0||M>=t&&M<=e)&&(C=nZ($,J,Z,X),!C&&J>=Y0&&(Y0=$.indexOf("@",J+1),Y0>=Z&&(Y0=-1))),M===g$){J>f&&U0.push(h9($.slice(f,J))),U0.push({type:_.breakLine}),J++,f=J;continue}if(C)J>f&&U0.push(h9($.slice(f,J))),U0.push(C.node),J=C.end,f=J;else{if(M===M0&&J+1<Z){let q0=$.charCodeAt(J+1);if(l$(q0)&J0){J>f&&U0.push(h9($.slice(f,J))),U0.push(h9($[J+1])),J+=2,f=J;continue}}if(J++,Y0<0||Y0-J>64)for(;J<Z;){var b0=$.charCodeAt(J);if(b0<x9&&!R6[b0])J++;else break}}}if(Z>f){let M=$.slice(f,Z);(X.streaming||X.optimizeForStreaming)&&(M=M.replace(/\*\*([^*]+)$/,"$1"),M.match(/\*[^*]+$/)&&(M=M.replace(/\*([^*]+)$/,"$1")),M=M.replace(/__([^_]+)$/,"$1"),M.match(/_[^_]+$/)&&(M=M.replace(/_([^_]+)$/,"$1")),M=M.replace(/~~([^~]+)$/,"$1"),M=M.replace(/\[([^\]]+)$/,"$1"),M=M.replace(/\[([^\]]+)\]\([^)]*$/,"$1")),M&&U0.push(h9(M))}return N0.length>0&&rZ(U0,N0,Q,X),i9--,U0}var eZ=500;function A9($,J,Z){var Q=J.g||0;if(Q>eZ)return[{type:_.text,text:$}];J.g=Q+1;let X=J;if(Z.streaming||Z.optimizeForStreaming){var Y=$.length;Y>0&&$.charCodeAt(Y-1)===x&&Y--;for(var F=Y;F>0&&$.charCodeAt(F-1)!==x;)F--;if(F>0&&$.charCodeAt(F)===R0){for(var V=!0,G=F;G<Y;G++){var K=$.charCodeAt(G);if(K!==P&&K!==N&&K!==p&&K!==x0&&K!==R0){V=!1;break}}if(V){for(var q=F-1;q>0&&$.charCodeAt(q-1)!==x;)q--;$.charCodeAt(q)===R0&&($=$.slice(0,q).trimEnd())}}var W=$.trim(),O=W.lastIndexOf(`
`),U=O===-1?W:W.slice(O+1);if(U.length>0&&U.charCodeAt(0)===R0){for(var j=!1,H=!1,z=1;z<U.length;z++){var D=U.charCodeAt(z);D===R0&&(j=!0),D===p&&(H=!0)}j&&H&&($=O===-1?"":$.slice(0,$.lastIndexOf(U)).trimEnd())}for(var A=-1,B=-1,k=-1,I=$.length-1;I>=0;I--)if($.charCodeAt(I)===G0){var v=I+1<$.length?$.charCodeAt(I+1):0;if(v>=r&&v<=n||v>=z0&&v<=j0){for(var L=I+2;L<$.length;){var y=$.charCodeAt(L);if(y>=r&&y<=n||y>=z0&&y<=j0||y>=t&&y<=e)L++;else break}for(var R=L;R<$.length&&$.charCodeAt(R)!==u;)R++;if(R<$.length){for(var b=!1,w=R+1;w<$.length;w++)if($.charCodeAt(w)===G0){b=!0;break}b||(A=I,B=L,k=R+1)}}break}if(A>=0){for(var S=0,E=0;E<A;E++)$.charCodeAt(E)===$0&&S++;if(S%2===0){var h=$.slice(A+1,B);M9($,"</"+h,0)===-1&&($=$.slice(0,A)+$.slice(k))}}var T=$.length;if(T>0){for(var g=$.lastIndexOf(`
`),P0=g===-1?0:g+1,l=T,m=P0,Q0=0;m<l&&$.charCodeAt(m)===P&&Q0<3;)m++,Q0++;if(m<l){var v0=$.charCodeAt(m),h0=!1;if(v0===H0||v0===p||v0===H9){var U0=m+1;if(U0>=l||$.charCodeAt(U0)===P||$.charCodeAt(U0)===N){for(var N0=U0;N0<l&&($.charCodeAt(N0)===P||$.charCodeAt(N0)===N);)N0++;N0>=l&&(h0=!0)}}else if(v0>=t&&v0<=e){for(var f=m;f<l&&$.charCodeAt(f)>=t&&$.charCodeAt(f)<=e;)f++;if(f<l&&($.charCodeAt(f)===n0||$.charCodeAt(f)===t0)){var Y0=f+1;if(Y0>=l||$.charCodeAt(Y0)===P||$.charCodeAt(Y0)===N){for(var y0=Y0;y0<l&&($.charCodeAt(y0)===P||$.charCodeAt(y0)===N);)y0++;y0>=l&&(h0=!0)}}}h0&&($=$.slice(0,P0).trimEnd())}}}if(J.inline)return p0($,0,$.length,J,Z);let V0=[],a=0,O0=$.length;if(a===0&&$.startsWith("---")){let s=U6($);if(s&&s.hasValidYaml){if(Z.preserveFrontmatter!==!1){let k0=$.slice(0,s.endPos).trimEnd();V0.push({type:_.frontmatter,text:k0})}a=s.endPos}}for(;a<O0;){for(var b0=$.indexOf(`
`,a),M=b0<0?O0:b0;a<O0&&e0($,a,M);)a=M<O0?M+1:M,a<O0&&(b0=$.indexOf(`
`,a),M=b0<0?O0:b0);if(a>=O0)break;$.charCodeAt(a),A0($,a,M);let s=null;if($.charCodeAt(a)!==o9&&X0>=4&&!J.inHTML)s=EZ($,a);else if($.charCodeAt(a)!==o9){let k0=a+Z0,o=$.charCodeAt(k0);o===X9?s=S6($,a,J,Z):o===u?s=gZ($,a,J,Z):o===$0||o===I0?s=SZ($,a,J):o===p||o===H0||o===D0?(s=L9($,a),!s&&(s=v6($,a,J,Z))):o===H9||o>=t&&o<=e?s=v6($,a,J,Z):o===G0?s=x6($,a,J,Z):o===R0?s=I6($,a,J,Z):o===W0&&(s=hZ($,a,J))}if(!s){for(var C=!1,q0=a;q0<M;q0++)if($.charCodeAt(q0)===R0){C=!0;break}C&&(s=I6($,a,J,Z))}if(s||(s=CZ($,a,J,Z)),s)s.node.type!==_.refCollection&&V0.push(s.node),a=s.end;else{var L0=$.indexOf(`
`,a);a=L0<0?O0:L0+1}}return J.g=Q,V0}function h6($,J){i9=0,$.charCodeAt(0)===65279&&($=$.slice(1)),$=h$($);let Z={inline:!1,inAnchor:!1,inHTML:!1,inList:!1,inBlockQuote:!1,refs:{}},Q={...J,slugify:J?.slugify?Y=>J.slugify(Y,i0):i0,sanitizer:J?.sanitizer||w9,tagfilter:J?.tagfilter!==!1};A$($,Z.refs,Q);let X=A9($,Z,Q);return Z.refs&&Object.keys(Z.refs).length>0?[{type:_.refCollection,refs:Z.refs},...X]:X}function _J($,J,Z,Q){var X=B9($,J);return X?{tagName:X.tag,tagLower:X.tag.toLowerCase(),attrs:X.rawAttrs,whitespaceBeforeAttrs:X.whitespaceBeforeAttrs,isSelfClosing:X.selfClosing,hasSpaceBeforeSlash:X.hasSpaceBeforeSlash,isClosing:X.isClosing,hasNewline:X.whitespaceBeforeAttrs.includes(`
`)||X.rawAttrs.includes(`
`),endPos:X.end}:null}function _$($,J,Z){i9=0,$=h$($),!J.refs&&(J.refs={}),A$($,J.refs,Z);let Q=A9($,J,Z);return J.refs&&Object.keys(J.refs).length>0?[{type:_.refCollection,refs:J.refs},...Q]:Q}var ZJ=/^\n+/,o$=W9.createContext(void 0);function JJ($,J,Z,Q,X,Y,F,V){let G=V.styles||{};switch($.type){case _.blockQuote:{let K=$;return Q(d.View,{key:Z.key,style:G.blockquote},J(K.children,Z))}case _.breakLine:return`
`;case _.breakThematic:return Q(d.View,{key:Z.key,style:G.thematicBreak});case _.frontmatter:if(V.preserveFrontmatter){let K=$;return Q(d.Text,{key:Z.key,style:G.codeBlock},K.text)}return null;case _.codeBlock:{let K=$;return Q(d.View,{key:Z.key,style:G.codeBlock},Q(d.Text,{style:G.codeInline},K.text))}case _.codeInline:{let K=$;return Q(d.Text,{key:Z.key,style:G.codeInline},K.text)}case _.footnoteReference:{let K=$,q=X(K.target,"a","href");return q?Q(d.Text,{key:Z.key,onPress:()=>{V.onLinkPress?V.onLinkPress(q,K.text):d.Linking.openURL(q).catch(()=>{})},style:G.link},Q(d.Text,{style:{fontWeight:"bold"}},K.text)):null}case _.gfmTask:{let K=$;return Q(d.Text,{key:Z.key,style:G.gfmTask},K.completed?"[x]":"[ ]")}case _.heading:{let K=$,q=`heading${K.level}`,W=G[q];return Q(d.Text,{key:Z.key,style:W},J(K.children,Z))}case _.htmlBlock:{let K=$;if(V.tagfilter&&m$(K.tag)){let q=typeof K.a=="string"?K.a:`<${K.tag}>`;return Q(d.Text,{key:Z.key},q)}if(K.a&&K.d){let O=function(D){return(D.type===_.htmlSelfClosing||D.type===_.htmlBlock)&&D.c?[]:D.type===_.paragraph?D.children?.flatMap(O)||[]:D.type===_.text?D.text?.trim()?[D]:[]:D.type===_.htmlBlock&&D.children?[{...D,children:D.children?.flatMap(O)}]:[D]},q=K.tag.toLowerCase();if(c$(q)){let D=K.a.replace(new RegExp("\\s*</"+q+">\\s*$","i"),"");return V.tagfilter&&(D=C$(D)),Q(K.tag,{key:Z.key,...R9(K.attrs||{})},D)}if(/<\/?pre\b/i.test(K.a)){let D=V.tagfilter?C$(K.a):K.a;return Q(d.Text,{key:Z.key,style:G.codeBlock},D)}if(K.children&&K.children.length>0)return Q(K.tag,{key:Z.key,...R9(K.attrs||{})},J(K.children.flatMap(O),Z));let U=K.a.replace(/>\s+</g,"><").replace(/\n+/g," ").trim();if(new RegExp(`^<${K.tag}(\\s[^>]*)?>(\\s*</${K.tag}>)?$`,"i").test(U))return Q(K.tag,{key:Z.key,...R9(K.attrs||{})});let z=_$(U,{inline:!1,refs:F,inHTML:!1},{slugify:D=>Y(D,i0),sanitizer:(D,A,B)=>X(D,A,B),tagfilter:!0});return Q(K.tag,{key:Z.key,...R9(K.attrs||{})},J(z.flatMap(O),Z))}return T9(K.tag)?Q(K.tag,{key:Z.key,...R9(K.attrs||{})}):Q(K.tag,{key:Z.key,...R9(K.attrs||{})},K.children?J(K.children,Z):"")}case _.htmlSelfClosing:{let K=$;if(V.tagfilter&&m$(K.tag)){let q=typeof K.a=="string"?K.a:`<${K.tag} />`;return Q(d.Text,{key:Z.key},q)}return Q(K.tag,{key:Z.key,...R9(K.attrs||{})})}case _.image:{let K=$,q=X(K.target,"img","src");return q?Q("img",{key:Z.key,source:{uri:q},accessibilityLabel:K.alt||void 0,style:G.image}):null}case _.link:{let K=$,q={textDecorationLine:"underline"},W=G.link?[q,G.link]:q,O={key:Z.key,style:W};if(K.target!=null){let U=D6(K.target);O.onPress=()=>{V.onLinkPress?V.onLinkPress(U,K.title):d.Linking.openURL(U).catch(()=>{})},V.onLinkLongPress&&(O.onLongPress=()=>V.onLinkLongPress(U,K.title))}return Q("a",O,J(K.children,Z))}case _.table:{let K=$;return Q(d.View,{key:Z.key,style:G.table},Q(d.View,{style:G.tableHeader},Q(d.View,{style:{flexDirection:"row"}},K.header.map(function(W,O){return Q(d.View,{key:O,style:[G.tableHeaderCell,K.align[O]!=null?{alignItems:K.align[O]==="center"?"center":K.align[O]==="right"?"flex-end":"flex-start"}:{}]},J(W,Z))}))),Q(d.View,{},K.cells.map(function(W,O){return Q(d.View,{key:O,style:{flexDirection:"row"}},W.map(function(j,H){return Q(d.View,{key:H,style:[G.tableCell,K.align[H]!=null?{alignItems:K.align[H]==="center"?"center":K.align[H]==="right"?"flex-end":"flex-start"}:{}]},J(j,Z))}))})))}case _.text:return $.text;case _.textFormatted:{let K=$,W={em:{fontStyle:"italic"},strong:{fontWeight:"bold"},del:{textDecorationLine:"line-through"}}[K.tag],O=G[K.tag]||W;return Q(d.Text,{key:Z.key,style:O},J(K.children,Z))}case _.orderedList:case _.unorderedList:{let K=$,q=$.type===_.orderedList,W=q?G.listOrdered:G.listUnordered;return Q(d.View,{key:Z.key,style:W},K.items.map((O,U)=>{let j=q&&"start"in K&&K.start!=null?K.start+U:U+1,H=q?`${j}.`:"\u2022",z=q?G.listItemNumber:G.listItemBullet;return Q(d.View,{key:U,style:{flexDirection:"row"}},Q(d.Text,{style:z},H+" "),Q(d.View,{style:G.listItem},J(O,Z)))}))}case _.paragraph:return Q("p",{key:Z.key,style:G.paragraph},J($.children,Z));case _.ref:return null;default:return null}}var QJ=($,J,Z,Q,X,Y)=>{let F=(K,q,W)=>{let O=(j,H)=>{let z=Array.isArray(j)?j:[j];return q(z,H||W)},U=()=>JJ(K,O,W,J,Z,Q,X,Y);return $?$(U,K,q,W):U()},V=K=>K.map(q=>"text"in q?q.text:""),G=(K,q={})=>{let W=Array.isArray(K)?K:[K],O=(q.renderDepth||0)+1;if(O>2500)return V(W);q.renderDepth=O;let U=q.key,j=[],H=!1;for(let z=0;z<W.length;z++){q.key=z;let D=F(W[z],G,q),A=typeof D=="string";if(A&&H)j[j.length-1]+=D;else if(D!==null)if(Array.isArray(D))for(let B=0;B<D.length;B++)j.push(D[B]);else j.push(D);H=A}return q.key=U,q.renderDepth=O-1,j.length===1?j[0]:j};return G},XJ=($,J)=>{if(!J||typeof $!="string")return $;let Z=r9(J,$,void 0);return Z?typeof Z=="function"||typeof Z=="object"&&Z!==null&&"render"in Z?Z:r9(J,`${$}.component`,$):$},YJ=$=>{let J=$.toLowerCase();return J==="img"?d.Image:J==="div"||J==="section"||J==="article"||J==="aside"||J==="header"||J==="footer"||J==="main"||J==="nav"||J==="figure"||J==="figcaption"||J==="blockquote"||J==="ul"||J==="ol"||J==="li"||J==="table"||J==="thead"||J==="tbody"||J==="tr"||J==="th"||J==="td"||c$(J)?d.View:d.Text};function m6($,J){let Z={...J||{}};Z.overrides=Z.overrides||{};let Q=Z.slugify||i0,X=Z.sanitizer||w9,Y=Z.createElement||W9.createElement;function F(H,z,...D){if(typeof H!="string")return Y(H,z,...D);let A=r9(Z.overrides||{},`${H}.props`,{}),B=XJ(H,Z.overrides||{}),k={...z,...A,style:z.style||A.style||void 0};if(typeof B=="function"||typeof B=="object"&&B!==null)return Y(B,k,...D);let I=YJ(B);return Y(I,k,...D)}let V={slugify:H=>Q(H,i0),sanitizer:(H,z,D)=>X(H,z,D),tagfilter:Z.tagfilter!==!1,disableAutoLink:Z.disableAutoLink,disableParsingRawHTML:Z.disableParsingRawHTML,enforceAtxHeadings:Z.enforceAtxHeadings},G=$[0]&&$[0].type===_.refCollection?$[0].refs:{},K=QJ(Z.renderRule,F,(H,z,D)=>X(H,z,D),Q,G,Z),q=K($,{inline:Z.forceInline,refs:G}),W=Array.isArray(q)?q:[q],O=[];for(let H in G)H.charCodeAt(0)===r0&&O.push({identifier:H,footnote:G[H].target});if(O.length&&W.push(Y(d.View,{key:"footer"},O.map(function(z){let D=z.identifier.charCodeAt(0)===r0?z.identifier.slice(1):z.identifier,A=_$(z.footnote,{inline:!0,refs:G},V),B=K(A,{inline:!0,refs:G}),k=typeof B=="string"?Y(d.Text,{},B):B;return Y(d.View,{key:z.identifier},Y(d.Text,{},D+": "),k)}))),Z.wrapper===null)return W;let U=Z.wrapper||(Z.forceInline?d.Text:d.View),j;if(W.length>1||Z.forceWrapper)j=W;else if(W.length===1){let H=W[0];return typeof H=="string"?Y(d.Text,{key:"outer",...Z.wrapperProps},H):H}else return null;return Y(U,{key:"outer",...Z.wrapperProps},j)}function C6($="",J={}){let Z={...J||{}};Z.overrides=Z.overrides||{};let Q=Z.slugify||i0,X=Z.sanitizer||w9;function Y(G){let K=Z.forceInline||!Z.forceBlock&&!O6.test(G),q={slugify:U=>Q(U,i0),sanitizer:(U,j,H)=>X(U,j,H),tagfilter:Z.tagfilter!==!1,disableAutoLink:Z.disableAutoLink,disableParsingRawHTML:Z.disableParsingRawHTML,enforceAtxHeadings:Z.enforceAtxHeadings};K||A$(G,F,q);let W=G;if(!K){let U=W.length;for(;U>0&&(W[U-1]===`
`||W[U-1]==="\r");)U--;W=W.slice(0,U),W=`${W.replace(ZJ,"")}

`}let O=_$(K?G:W,{inline:K,refs:F},q);return m6(O,{...Z,forceInline:K})}let F={};return Y($)}var KJ=({options:$,children:J})=>W9.createElement(o$.Provider,{value:$},J),u6=({children:$,options:J,...Z})=>{let Q=W9.useContext(o$),X=W9.useMemo(()=>{var V=Object.assign({},Q,J);return V.styles=Object.assign({},Q?.styles,J?.styles),V.overrides=Object.assign({},Q?.overrides,J?.overrides),V.wrapperProps=Object.assign({},Q?.wrapperProps,J?.wrapperProps,Z),V},[Q,J,Z]),Y=$??"";return W9.useMemo(()=>C6(Y,X),[Y,X])},VJ=u6;
