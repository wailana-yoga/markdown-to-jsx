import*as a0 from"react";var I=32,R=9,q9=13,T=10,Q0=96,b0=126,z0=91,r0=94,p=62,J9=35,e$=36,p9=37,d=45,m0=61,_0=92,D0=42,B0=95,X0=60,d9=64,C0=93,g0=33,F$=38,x0=58,L$=70,b9=102,c9=104,P9=119,q$=116,k$=112,$6=115,Z6=160,Q6=12,S$=44,W$=59,E9=63,s0=46,A0=47,O9=39,W9=34,H9=43,R0=124,D9=123,$$=125,t0=40,e0=41,l9=30,E$=31,e=48,$0=57,r=65,s=90,U0=97,j0=122,g9=128,X9=32,HZ={blockQuote:0,breakLine:1,breakThematic:2,codeBlock:3,codeInline:4,footnote:5,footnoteReference:6,frontmatter:7,gfmTask:8,heading:9,htmlBlock:10,htmlComment:11,htmlSelfClosing:12,image:13,link:14,orderedList:15,paragraph:16,ref:17,refCollection:18,table:19,text:20,textFormatted:21,unorderedList:22},A=HZ;import{decodeEntity as DZ}from"markdown-to-jsx/entities";function F6($){if(!Y6($,"---"))return null;let Q=3;for(;Q<$.length&&($[Q]===" "||$[Q]==="	");)Q++;if(Q<$.length&&$[Q]==="\r"&&Q++,Q>=$.length||$[Q]!==`
`)return null;Q++;let Z=!1;for(;Q<$.length;){let V=Q;for(;Q<$.length&&$[Q]!==`
`&&$[Q]!=="\r";)Q++;if(Q>=$.length)break;let Y=Q;if($[Q]==="\r"&&Q++,Q<$.length&&$[Q]===`
`&&Q++,Y6($,"---",V))return{endPos:Q,hasValidYaml:Z};let J=$.indexOf(":",V);J!==-1&&J<Y&&(Z=!0)}return null}var BZ=/&([a-zA-Z0-9]+|#[0-9]{1,7}|#x[0-9a-fA-F]{1,6});/gi,jZ={class:"className",for:"htmlFor",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",autocomplete:"autoComplete",autofocus:"autoFocus",autoplay:"autoPlay",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",classid:"classId",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",crossorigin:"crossOrigin",enctype:"encType",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",inputmode:"inputMode",keyparams:"keyParams",keytype:"keyType",marginheight:"marginHeight",marginwidth:"marginWidth",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",novalidate:"noValidate",radiogroup:"radioGroup",readonly:"readOnly",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",usemap:"useMap",viewbox:"viewBox"};function i0($){var Q={};for(var Z in $){var V=Z.toLowerCase(),Y=jZ[V];if(Y)Q[Y]=$[Z];else{var J=Z.indexOf(":");J!==-1?Q[Z.slice(0,J)+Z[J+1].toUpperCase()+Z.slice(J+2)]=$[Z]:Q[Z]=$[Z]}}return Q}var q6=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s|^<(div|p|h[1-6]|ul|ol|li|blockquote|pre|table|thead|tbody|tr|td|th|dl|dt|dd|hr|address|article|aside|details|dialog|figure|figcaption|footer|form|header|main|menu|nav|section|summary|textarea|fieldset|legend|center|dir|hgroup|marquee|search|output|template)\b)/i;function o9($){return $.indexOf("&")===-1?$:$.replace(BZ,(Q,Z)=>{var V=DZ(Z);if(V)return V;if(Z[0]==="#"){var Y=Z[1]==="x"||Z[1]==="X"?parseInt(Z.slice(2),16):parseInt(Z.slice(1),10);return Y===0||Y>=55296&&Y<=57343||Y>1114111?"\uFFFD":Y<=65535?String.fromCharCode(Y):String.fromCharCode(55296+(Y-65536>>10),56320+(Y-65536&1023))}return Q})}var V6=/(javascript|vbscript|data(?!:image)):/i;function w9($){if(V6.test($))return null;if($.indexOf("%")===-1)return $;try{let Q=decodeURIComponent($).replace(/[^A-Za-z0-9/:]/g,"");if(V6.test(Q))return null}catch{return null}return $}var T0={},u0,y0;for(u0=[192,193,194,195,196,197,224,225,226,227,228,229,230,198],y0=0;y0<u0.length;y0++)T0[u0[y0]]="a";for(T0[231]=T0[199]="c",T0[240]=T0[208]="d",u0=[200,201,202,203,233,232,234,235],y0=0;y0<u0.length;y0++)T0[u0[y0]]="e";for(u0=[207,239,206,238,205,237,204,236],y0=0;y0<u0.length;y0++)T0[u0[y0]]="i";for(T0[209]=T0[241]="n",u0=[248,216,339,338,213,245,212,244,211,243,210,242],y0=0;y0<u0.length;y0++)T0[u0[y0]]="o";for(u0=[220,252,219,251,218,250,217,249],y0=0;y0<u0.length;y0++)T0[u0[y0]]="u";T0[376]=T0[255]=T0[221]=T0[253]="y";function MZ($){return $<g9&&(IZ[$]&(x$|W6))!==0}function h0($){for(var Q="",Z=-1,V=0;V<$.length;V++){var Y=$.charCodeAt(V);if(MZ(Y))Y>=r&&Y<=s?(Z>=0&&(Q+=$.slice(Z,V),Z=-1),Q+=String.fromCharCode(Y+X9)):Z<0&&(Z=V);else if(Y===I||Y===d)Z>=0&&(Q+=$.slice(Z,V),Z=-1),Q+="-";else{Z>=0&&(Q+=$.slice(Z,V),Z=-1);var J=T0[Y];J&&(Q+=J)}}return Z>=0&&(Q+=$.slice(Z)),Q}function Y6($,Q,Z){return $.startsWith(Q,Z)}var J6=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr","circle","ellipse","line","path","polygon","polyline","rect","use","stop","animate","set"]);function f9($){let Q=$.toLowerCase();if(J6.has(Q))return!0;let Z=Q.indexOf(":");return Z!==-1?(Q=Q.slice(Z+1),J6.has(Q)):!1}var Z$=1,z$=2,x$=4,W6=8,X6=16,K6=32,AZ=64,G6=1,vZ=2,_Z=3,NZ=4,IZ=(function(){let $=new Uint8Array(128),Q;for($[R]=Z$|K6,$[T]=Z$|X6,$[Q6]=Z$,$[q9]=Z$|X6,$[I]=Z$|K6,Q=g0;Q<=A0;Q++)$[Q]=z$;for(Q=x0;Q<=d9;Q++)$[Q]=z$;for(Q=z0;Q<=Q0;Q++)$[Q]=z$;for(Q=D9;Q<=b0;Q++)$[Q]=z$;for(Q=e;Q<=$0;Q++)$[Q]=W6;for(Q=r;Q<=s;Q++)$[Q]=x$|AZ;for(Q=U0;Q<=j0;Q++)$[Q]=x$;return $})(),K5=(function(){let $=new Uint8Array(128);return $[_0]=vZ,$[z0]=NZ,$[D0]=$[B0]=$[b0]=$[m0]=_Z,$[Q0]=$[X0]=$[d9]=$[C0]=$[T]=$[I]=$[g0]=G6,$[b9]=$[c9]=$[P9]=G6,$})(),x9=[];function f$($){var Q=$.indexOf("\r"),Z=$.indexOf("\0");if(Q===-1&&Z===-1)return $;var V=$.length;x9.length=0;var Y=0,J=0;for(Q===-1?J=Z:Z===-1?J=Q:J=Q<Z?Q:Z;J<V;J++){var X=$.charCodeAt(J);X===q9?(Y<J&&x9.push($.slice(Y,J)),J+1<V&&$.charCodeAt(J+1)===T&&J++,x9.push(`
`),Y=J+1):X===0&&(Y<J&&x9.push($.slice(Y,J)),x9.push("\uFFFD"),Y=J+1)}return Y<V&&x9.push($.slice(Y)),x9.join("")}function G5($){if(!$)return!1;for(var Q in $)return!0;return!1}function r9($,Q,Z){for(var V=$,Y=Q.split("."),J=0;J<Y.length&&(V=V?.[Y[J]],V!==void 0);)J++;return V||Z}function z6($){for(var Q=!1,Z=0;Z<$.length;Z++){var V=$.charCodeAt(Z);if(V<=I||V===W9||V===p9||V===X0||V===p||V===z0||V===_0||V===C0||V===r0||V===Q0||V>=123){Q=!0;break}}if(!Q)return $;for(var Y="",Z=0;Z<$.length;Z++){var V=$.charCodeAt(Z);if(V===p9&&Z+2<$.length){var J=$.charCodeAt(Z+1),X=$.charCodeAt(Z+2);if((J>=e&&J<=$0||J>=r&&J<=L$||J>=U0&&J<=b9)&&(X>=e&&X<=$0||X>=r&&X<=L$||X>=U0&&X<=b9)){Y+=$[Z]+$[Z+1]+$[Z+2],Z+=2;continue}}Y+=encodeURI($[Z])}return Y}function U6(...$){return $.filter(Boolean).join(" ")}function F5($,Q){if(!Q)return $;let Z=r9(Q,$,void 0);return typeof Z=="string"?Z:typeof Z=="object"&&Z.component?Z.component:$}function q5($,Q){if(!Q)return{};let Z=r9(Q,$,void 0);return typeof Z=="object"&&Z.props?Z.props:{}}var bZ=new Set(["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"]),U$=/<(\/?)(title|textarea|style|xmp|iframe|noembed|noframes|script|plaintext)(\s|>|\/)/gi;function T$($){return bZ.has($.toLowerCase())}function O6($){return U$.lastIndex=0,U$.test($)}function h$($){return U$.lastIndex=0,$.replace(U$,function(Q,Z,V,Y){return"&lt;"+Z+V+Y})}var b6=/^<([a-zA-Z][a-zA-Z0-9-]*)\s[^>]*>/,P6=/^<[A-Z]/,m$=["script","pre","style","textarea"],V$=new Set(m$),PZ=/<(?:pre|script|style|textarea)\b/i,wZ=new Set(["table","thead","tbody","tfoot","tr","td","th"]),w6=new Uint8Array(128);(function(){for(var $=[Q0,D0,B0,b0,m0,z0,g0,X0,_0,E$,c9,P9,b9],Q=0;Q<$.length;Q++)w6[$[Q]]=1})();var D6=/([a-zA-Z_][a-zA-Z0-9_-]*)=(?:"([^"]*)"|'([^']*)')/g;function R6($){return V$.has($)}function y6($){return PZ.test($)}function L6($,Q,Z){for(var V=Q,Y=Z;V<Y&&($.charCodeAt(V)===I||$.charCodeAt(V)===R);)V++;if(V>=Y)return!1;$.charCodeAt(V)===R0&&V++;for(var J=0;V<Y;){for(;V<Y&&($.charCodeAt(V)===I||$.charCodeAt(V)===R);)V++;if(V>=Y)break;if($.charCodeAt(V)===R0&&J>0){for(var X=V+1;X<Y&&($.charCodeAt(X)===I||$.charCodeAt(X)===R);)X++;if(X>=Y)return!0}if($.charCodeAt(V)===x0&&V++,V>=Y||$.charCodeAt(V)!==d)return!1;for(;V<Y&&$.charCodeAt(V)===d;)V++;for(V<Y&&$.charCodeAt(V)===x0&&V++,J++;V<Y&&($.charCodeAt(V)===I||$.charCodeAt(V)===R);)V++;if(V<Y)if($.charCodeAt(V)===R0)V++;else return!1}return J>0}function j9($,Q){if($.charCodeAt(Q)!==X0)return null;let Z=Q+1,V=$.length,Y=!1;$.charCodeAt(Z)===A0&&(Z++,Y=!0);let J=Z,X=$.charCodeAt(Z);if(!(X>=U0&&X<=j0||X>=r&&X<=s))return null;for(;Z<V&&($.charCodeAt(Z)>=U0&&$.charCodeAt(Z)<=j0||$.charCodeAt(Z)>=r&&$.charCodeAt(Z)<=s||$.charCodeAt(Z)>=e&&$.charCodeAt(Z)<=$0||$.charCodeAt(Z)===d);)Z++;let K=$.slice(J,Z);if(!K)return null;let G=Z;for(;Z<V&&($.charCodeAt(Z)===I||$.charCodeAt(Z)===R||$.charCodeAt(Z)===T);)Z++;let F=$.slice(G,Z);if(Z===G&&Z<V){var W=$.charCodeAt(Z);if(W!==p&&W!==A0)return null}let z=Z,H={},O=!1;for(;Z<V;){let L=$.charCodeAt(Z);if(L===p){let k=$.slice(z,Z);return{tag:K,attrs:H,selfClosing:!1,end:Z+1,rawAttrs:k,whitespaceBeforeAttrs:F,isClosing:Y,hasSpaceBeforeSlash:O}}if(L===I||L===R||L===T){Z++;continue}if(L===A0&&Z+1<V&&$.charCodeAt(Z+1)===p){let k=$.slice(z,Z);return O=Z>z&&$.charCodeAt(Z-1)===I,{tag:K,attrs:H,selfClosing:!0,end:Z+2,rawAttrs:k,whitespaceBeforeAttrs:F,isClosing:Y,hasSpaceBeforeSlash:O}}var D=Z,q=$.charCodeAt(Z);if(!(q>=U0&&q<=j0||q>=r&&q<=s||q===B0||q===x0))return null;for(Z++;Z<V;){var U=$.charCodeAt(Z);if(U>=U0&&U<=j0||U>=r&&U<=s||U>=e&&U<=$0||U===B0||U===s0||U===x0||U===d)Z++;else break}for(var B=$.slice(D,Z);Z<V&&($.charCodeAt(Z)===I||$.charCodeAt(Z)===R);)Z++;if($.charCodeAt(Z)!==m0){H[B]="";continue}for(Z++;Z<V&&($.charCodeAt(Z)===I||$.charCodeAt(Z)===R);)Z++;var j=$.charCodeAt(Z);if(j===W9||j===O9){Z++;for(var v=Z;Z<V&&$.charCodeAt(Z)!==j;)Z++;if(Z>=V)return null;if(H[B]=$.slice(v,Z),Z++,Z<V){var y=$.charCodeAt(Z);if(y!==I&&y!==R&&y!==T&&y!==p&&y!==A0)return null}}else if(j===D9){var N=1,v=Z;for(Z++;Z<V&&N>0;){var U=$.charCodeAt(Z);U===D9?N++:U===$$&&N--,Z++}H[B]=$.slice(v,Z)}else{for(var v=Z;Z<V;){var M=$.charCodeAt(Z);if(M===I||M===R||M===p||M===T||M===W9||M===O9||M===m0||M===X0||M===Q0)break;Z++}if(Z===v)return null;H[B]=$.slice(v,Z)}}return null}function j$($,Q,Z){for(var V=0,Y=$.length,J=!1;V<Y;){for(var X=$.indexOf(`
`,V),K=X<0?Y:X,G=V,F=0;G<K&&F<4;)if($.charCodeAt(G)===I)F++,G++;else if($.charCodeAt(G)===R)F+=4,G++;else break;if(G>=K){J=!1,V=X<0?Y:X+1;continue}if(F<4){var W=$.charCodeAt(G);if(W===Q0||W===b0){for(var z=W,H=0,O=G;O<K&&$.charCodeAt(O)===z;)H++,O++;if(H>=3){J=!1;for(var D=X<0?Y:X+1;D<Y;){for(var q=D,U=0;q<Y&&U<4;){var B=$.charCodeAt(q);if(B===I)U++,q++;else if(B===R)U+=4,q++;else break}if(U<4&&q<Y&&$.charCodeAt(q)===z){for(var j=0;q<Y&&$.charCodeAt(q)===z;)j++,q++;if(j>=H){for(;q<Y&&($.charCodeAt(q)===I||$.charCodeAt(q)===R);)q++;if(q>=Y||$.charCodeAt(q)===T){V=q>=Y?Y:q+1;break}}}for(;D<Y&&$.charCodeAt(D)!==T;)D++;D<Y&&D++}D>=Y&&(V=Y);continue}}}for(var v=G;v<K&&$.charCodeAt(v)===p;){v++,v<K&&$.charCodeAt(v)===I&&v++;for(var y=0;v<K&&y<4;)if($.charCodeAt(v)===I)y++,v++;else if($.charCodeAt(v)===R)y+=4,v++;else break;if(y>=4)break;J=!1}if(!J&&F<4&&v<K&&$.charCodeAt(v)===z0&&!(v+1<Y&&$.charCodeAt(v+1)===r0)){var N=k6($,v,Q);if(N){V=N,J=!1;continue}}var M=$.charCodeAt(G);if(M===J9&&F<4)J=!1;else if(F<4&&(M===d||M===D0||M===B0)){for(var L=G,k=0;L<K;){var b=$.charCodeAt(L);if(b===M)k++;else if(b!==I&&b!==R)break;L++}J=!(k>=3&&L>=K)}else J=!0;V=X<0?Y:X+1}}function k6($,Q,Z){let V=$.length;if($.charCodeAt(Q)!==z0)return null;let Y=Q+1<V&&$.charCodeAt(Q+1)===r0,J=Q+1;for(;J<V;){var X=$.charCodeAt(J);if(X===C0){J++;break}if(X===z0)return null;X===_0&&J+1<V&&J++,J++}if(J>V||$.charCodeAt(J-1)!==C0)return null;let K=$.slice(Q+1,J-1);if(K.length>999)return null;let G=O$(K);if(!G||J>=V||$.charCodeAt(J)!==x0)return null;J++;let F=!1;for(;J<V;){let x=$.charCodeAt(J);if(x===I||x===R)J++;else if(x===T&&!F)F=!0,J++;else break}if(Y){let x=$.indexOf(`
`,J),C=x<0?V:x,m=$.slice(J,C).trim();return Z[G]={target:m,title:void 0},x<0?V:x+1}var W;if(J<V&&$.charCodeAt(J)===X0){J++;for(var z=J;J<V&&$.charCodeAt(J)!==p&&$.charCodeAt(J)!==T;)$.charCodeAt(J)===_0&&J+1<V&&J++,J++;if(J>=V||$.charCodeAt(J)!==p)return null;W=$.slice(z,J),J++;for(var H=$.indexOf(`
`,J),O=H<0?V:H,D=J;D<O&&($.charCodeAt(D)===I||$.charCodeAt(D)===R);)D++;if(D<O){if(D===J)return null;var q=$.charCodeAt(D);if(q!==W9&&q!==O9&&q!==t0)return null}}else{for(var z=J,U=0;J<V;){var X=$.charCodeAt(J);if(X===t0)U++;else if(X===e0){if(U===0)break;U--}else{if(X===I||X===R||X===T)break;X===_0&&J+1<V&&J++}J++}if(W=$.slice(z,J),!W)return null}for(;J<V&&($.charCodeAt(J)===I||$.charCodeAt(J)===R);)J++;var B=$.indexOf(`
`,J),j=B<0?V:B,v,y=!1,N=J,M=J;if(J===j&&J<V)for(M=J+1;M<V&&($.charCodeAt(M)===I||$.charCodeAt(M)===R);)M++;if(M<V){var L=$.charCodeAt(M);if(L===W9||L===O9||L===t0){for(var k=L===t0?41:L,b=M+1,P=b;b<V;){var S=$.charCodeAt(b);if(S===k){for(var E=b+1;E<V&&($.charCodeAt(E)===I||$.charCodeAt(E)===R);)E++;(E>=V||$.charCodeAt(E)===T)&&(v=$.slice(P,b),y=!0,N=E<V?E+1:V);break}if(S===_0&&b+1<V){b+=2;continue}if(S===T&&b+1<V&&$.charCodeAt(b+1)===T)break;b++}if(!y&&M===J)return null}}if(y)return Z[G]||(Z[G]={target:a9(W),title:v!==void 0?o9(a9(v)):v}),N;for(;J<j&&($.charCodeAt(J)===I||$.charCodeAt(J)===R);)J++;return J<j?null:(Z[G]||(Z[G]={target:a9(W),title:v}),B<0?V:B+1)}var n9=1,S6=2,Y0=4,E6=8,RZ=16,K9=32,L9=64,l=new Uint8Array(128);l[I]=n9,l[R]=n9,l[T]=n9|S6,l[q9]=n9|S6,l[J9]=K9|Y0,l[p]=K9|Y0,l[d]=K9|L9|Y0,l[H9]=K9|Y0,l[D0]=K9|L9|Y0,l[B0]=K9|L9|Y0,l[Q0]=K9|L9|Y0,l[b0]=K9|L9|Y0,l[X0]=K9|L9|Y0,l[z0]=L9|Y0,l[g0]=L9|Y0,l[R0]=K9|Y0;for(let $=e;$<=$0;$++)l[$]=RZ|K9;for(let $=r;$<=s;$++)l[$]=E6;for(let $=U0;$<=j0;$++)l[$]=E6;l[_0]=Y0,l[C0]=Y0,l[t0]=Y0,l[e0]=Y0,l[x0]=Y0,l[W9]=Y0,l[O9]=Y0,l[F$]=Y0,l[m0]=Y0,l[e$]=Y0,l[p9]=Y0,l[S$]=Y0,l[s0]=Y0,l[A0]=Y0,l[W$]=Y0,l[E9]=Y0,l[d9]=Y0,l[r0]=Y0,l[D9]=Y0,l[$$]=Y0;function B6($){if($.indexOf("[")<0&&$.indexOf("]")<0)return!1;for(var Q=0;Q<$.length;Q++){if($.charCodeAt(Q)===_0){Q++;continue}if($.charCodeAt(Q)===z0||$.charCodeAt(Q)===C0)return!0}return!1}function O$($){var Q=$.replace(/\s+/g," ").trim();return Q.indexOf("\u1E9E")!==-1?Q.replace(/\u1E9E/g,"ss").toLowerCase():Q.toLowerCase()}function p$($){return $<g9?l[$]:$===Z6?n9:0}function a9($){return $.replace(/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,"$1")}function G0($,Q){var Z=$.indexOf(`
`,Q);return Z<0?$.length:Z}function i($,Q){let Z=G0($,Q);return Z<$.length?Z+1:Z}function Q$($,Q,Z){for(;Q<Z;){let V=$.charCodeAt(Q);if(V!==I&&V!==R)break;Q++}return Q}function j6($,Q){let Z=i($,Q);for(;Z<$.length;){let V=G0($,Z);if($9($,Z,V))return Z;Z=i($,Z)}return $.length}function v9($,Q,Z,V){let Y=0;for(;Q+Y<Z&&$.charCodeAt(Q+Y)===V;)Y++;return Y}var K0=0,V0=0;function N0($,Q,Z){for(K0=0,V0=0;Q+V0<Z;){let V=$.charCodeAt(Q+V0);if(V===R)K0+=4-K0%4;else if(V===I)K0++;else break;V0++}}function $9($,Q,Z){return Q$($,Q,Z)>=Z}function g6($,Q,Z,V){let Y=G0($,Q);if(N0($,Q,Y),K0>3)return null;let J=Q+V0;if($.charCodeAt(J)!==J9)return null;let X=v9($,J,Y,35);if(X<1||X>6||(J+=X,J<Y&&$.charCodeAt(J)!==I&&$.charCodeAt(J)!==R))return null;J=Q$($,J,Y);for(var K=Y;K>J&&$.charCodeAt(K-1)===I;)K--;for(var G=K;K>J&&$.charCodeAt(K-1)===J9;)K--;if(K<G)if(K===J||$.charCodeAt(K-1)===I)for(;K>J&&$.charCodeAt(K-1)===I;)K--;else K=G;let F=$.slice(J,K),W=p0(F,0,F.length,Z,V),H=(V?.slugify||h0)(F);return{node:{type:A.heading,level:X,children:W,id:H},end:i($,Y)}}function y9($,Q){let Z=G0($,Q);if(N0($,Q,Z),K0>3)return null;let V=Q+V0,Y=$.charCodeAt(V);if(Y!==d&&Y!==D0&&Y!==B0)return null;let J=0;for(;V<Z;){let X=$.charCodeAt(V);if(X===Y)J++;else if(X!==I&&X!==R)return null;V++}return J<3?null:{node:{type:A.breakThematic},end:i($,Z)}}function yZ($,Q,Z){let V=G0($,Q);if(N0($,Q,V),K0>3)return null;let Y=K0,J=V0,X=Q+V0,K=$.charCodeAt(X);if(K!==Q0&&K!==b0)return null;let G=v9($,X,V,K);if(G<3)return null;X+=G;let F=Q$($,X,V),W=V;if(K===Q0){for(let b=F;b<V;b++)if($.charCodeAt(b)===Q0)return null}for(;W>F&&($.charCodeAt(W-1)===I||$.charCodeAt(W-1)===R);)W--;let z=$.slice(F,W),H="",O="",D=z.indexOf(" ");D===-1?H=z:(H=z.slice(0,D),O=z.slice(D+1).trim()),H=a9(H);var q=void 0;if(O){D6.lastIndex=0;for(var U;(U=D6.exec(O))!==null;)q||(q={}),q[U[1]]=U[2]!==void 0?U[2]:U[3]}let B=i($,V),j=B,v=$.length;for(;j<$.length;){let b=G0($,j);if(N0($,j,b),K0<4){let P=j+V0;var y=v9($,P,b,K);if(y>=G){let S=P+y;if($9($,S,b)){v=i($,b);break}}}j=i($,b)}var N;if(Y===0)N=j>B&&$.charCodeAt(j-1)===T?$.slice(B,j-1):$.slice(B,j);else{N="";for(var M=B;M<j;){var L=G0($,M);N0($,M,L);var k=Math.min(V0,Y);N+=$.slice(M+k,L)+`
`,M=i($,L)}N.length>0&&N.charCodeAt(N.length-1)===T&&(N=N.slice(0,-1))}return{node:{type:A.codeBlock,lang:H||void 0,text:N,infoString:O||void 0,attrs:q},end:v}}function LZ($,Q){let Z=G0($,Q);if(N0($,Q,Z),K0<4)return null;let V="",Y=Q;for(;Y<$.length;){let O=G0($,Y);if(N0($,Y,O),$9($,Y,O)){for(var J=0,X=i($,O);X<$.length;){var K=G0($,X);if($9($,X,K)){J++,X=i($,K);continue}if(N0($,X,K),K0>=4){for(var G=0;G<=J;G++)V+=`
`;Y=X;break}break}if(Y!==X)break;continue}if(K0<4)break;let D=0,q=0;var F=0;for(let U=Y;U<O&&q<4;U++){if($.charCodeAt(U)===R){var W=4-q%4;q+W>4&&(F=q+W-4),q+=W}else q++;D++}var z="";if(F>0)for(var H=0;H<F;H++)z+=" ";z+=$.slice(Y+D,O),V+=z+`
`,Y=i($,O)}for(;V.length>0&&V.charCodeAt(V.length-1)===T;)V=V.slice(0,-1);for(;V.length>0&&V.charCodeAt(V.length-1)===T;)V=V.slice(0,-1);return V?{node:{type:A.codeBlock,text:V},end:Y}:null}function kZ($,Q,Z,V){let Y=G0($,Q);if(N0($,Q,Y),K0>3)return null;let J=Q+V0;if($.charCodeAt(J)!==p)return null;let X="",K=Q,G,F=!1,W=!1,z=!1;for(;K<$.length;){let f=G0($,K);N0($,K,f);let v0=K+V0;if($.charCodeAt(v0)===p){let w=v0+1;var H=K0+1,O=!1;if(w<f){var D=$.charCodeAt(w);D===I?(w++,H++,O=!0):D===R&&(O=!0)}for(var q="",U=!1,B=w;B<f;B++)if($.charCodeAt(B)===R){U=!0;break}if(U){var j=H;if(O&&w<f&&$.charCodeAt(w)===R){for(var v=4-j%4,y=0;y<v-1;y++)q+=" ";j+=v,w++}for(var N=w;N<f;N++)if($.charCodeAt(N)===R){for(var M=4-j%4,L=0;L<M;L++)q+=" ";j+=M}else q+=$[N],j++}else q=$.slice(w,f);if(!X&&!G){let g=q.match(/^\[!([A-Za-z]+)\]\s*$/);if(g){G=g[1].toUpperCase(),K=i($,f);continue}}X+=q+`
`;var k=q.trimStart();k.startsWith("```")||k.startsWith("~~~")?z=!z:q.startsWith("    ")||q.startsWith("	")?z=!0:k.length>0&&!z&&(z=!1),W=k.length>0,K=i($,f)}else if(X&&!$9($,K,f)&&W){if(K0<4){var b=K+V0,P=b<f?$.charCodeAt(b):0;if(P===J9||P===p||P===Q0||P===b0||P===X0||(P===d||P===D0||P===B0)&&y9($,K)||(P===d||P===D0||P===H9)&&b+1<f&&($.charCodeAt(b+1)===I||$.charCodeAt(b+1)===R))break;if(P>=e&&P<=$0){for(var S=b;S<f&&$.charCodeAt(S)>=e&&$.charCodeAt(S)<=$0;)S++;if(S<f&&($.charCodeAt(S)===s0||$.charCodeAt(S)===e0))break}}if(z)break;X+=$.slice(K,f)+`
`,F=!0,K=i($,f)}else break}if(!X&&!G)return null;var{inBlockQuote:E,f:x}=Z;Z.inBlockQuote=!0,F&&(Z.f=!0);let C=A9(X||"",Z,V);Z.inBlockQuote=E,Z.f=x;let m={type:A.blockQuote,children:C};return G&&(m.alert=G),{node:m,end:K}}function x6($,Q,Z){for(var V=0,Y=Q;Y<Z;Y++)$.charCodeAt(Y)===R?V+=4-V%4:V++;return V}function R9($,Q,Z){if(N0($,Q,Z),K0>3)return null;var V=Q+V0;if(V>=Z)return null;var Y=$.charCodeAt(V),J=K0,X=V;if(Y===d||Y===D0||Y===H9){if(X=V+1,X<Z&&$.charCodeAt(X)!==I&&$.charCodeAt(X)!==R&&$.charCodeAt(X)!==T)return null}else if(Y>=e&&Y<=$0){for(var K=V;K<Z&&K-V<9;){var G=$.charCodeAt(K);if(G<e||G>$0)break;K++}if(K>V&&K<Z){var F=$.charCodeAt(K);if(F===s0||F===e0){if(X=K+1,X<Z&&$.charCodeAt(X)!==I&&$.charCodeAt(X)!==R&&$.charCodeAt(X)!==T)return null}else return null}else return null}else return null;var W=X,z=x6($,Q,X),H=0,O=W,D=z;if(W>=Z)return{ordered:Y>=e&&Y<=$0,marker:Y>=e&&Y<=$0?$[K]:$[V],start:Y>=e&&Y<=$0?parseInt($.slice(V,K),10):void 0,contentStart:W,contentCol:z+1,markerCol:J,isEmpty:!0};for(;O<Z&&($.charCodeAt(O)===I||$.charCodeAt(O)===R);){if($.charCodeAt(O)===R){var q=4-D%4;D+=q}else D++;O++,H++}var U=O>=Z,B=D-z;return U||B>4?(D=z+1,O=W+1,H=1):H===0&&(D=z+1,O=W,H=1),{ordered:Y>=e&&Y<=$0,marker:Y>=e&&Y<=$0?$[K]:$[V],start:Y>=e&&Y<=$0?parseInt($.slice(V,K),10):void 0,contentStart:O,contentCol:D,markerCol:J,isEmpty:U}}var H$=0;function SZ($,Q,Z,V){var Y=0,J=Q;for(H$=0;J<Z&&Y<V;){var X=$.charCodeAt(J);if(X===R){var K=4-Y%4;if(Y+K>V){H$=Y+K-V,J++,Y=V;break}Y+=K}else if(X===I)Y++;else break;J++}return J}function M6($,Q,Z,V){var Y=G0($,Q),J=R9($,Q,Y);if(!J)return null;var X=[],K=Q,G=J.contentCol,F="",W=J.isEmpty,z=!1,H=!1;if(!J.isEmpty){for(var O=!1,D=J.contentStart;D<Y;D++)if($.charCodeAt(D)===R){O=!0;break}if(O){var q="",U=x6($,Q,J.contentStart),B=U-J.contentCol;if(B>0)for(var j=0;j<B;j++)q+=" ";for(var v=J.contentStart;v<Y;v++)if($.charCodeAt(v)===R){for(var y=4-U%4,N=0;N<y;N++)q+=" ";U+=y}else q+=$[v],U++;F=q+`
`}else F=$.slice(J.contentStart,Y)+`
`}for(K=i($,Y);K<$.length;){var M=G0($,K);N0($,K,M);var L=$.charCodeAt(K+V0);if(K0<G&&(L===d||L===D0||L===B0)&&K0<=3&&y9($,K))break;var k=R9($,K,M);if(k&&k.ordered===J.ordered&&k.marker===J.marker&&k.markerCol<G){X.push({contentCol:G,raw:F,hasBlankAfter:z,isEmpty:W}),z&&(H=!0),G=k.contentCol,W=k.isEmpty,z=!1,F=k.isEmpty?"":$.slice(k.contentStart,M)+`
`,K=i($,M);continue}if($9($,K,M)){F+=`
`,K=i($,M);for(var b=!1,P=0;P<F.length;P++){var S=F.charCodeAt(P);if(S!==T&&S!==q9&&S!==I&&S!==R){b=!0;break}}if(W&&!b)if(K<$.length){var E=G0($,K),x=R9($,K,E);if(!x||x.ordered!==J.ordered||x.marker!==J.marker)break;z=!0}else break;if(K<$.length){var C=G0($,K);N0($,K,C);var m=$.charCodeAt(K+V0);if((m===d||m===D0||m===B0)&&K0<=3&&y9($,K))break;var f=R9($,K,C);if(f&&f.ordered===J.ordered&&f.marker===J.marker&&f.markerCol<G){z=!0;continue}if(!$9($,K,C)&&K0<G)break}continue}if(K0>=G){var v0=SZ($,K,M,G);if(H$>0){for(var w="",g=G,c=0;c<H$;c++)w+=" ",g++;for(var F0=v0;F0<M;F0++)if($.charCodeAt(F0)===R){for(var P0=4-g%4,Z0=0;Z0<P0;Z0++)w+=" ";g+=P0}else w+=$[F0],g++;F+=w+`
`}else F+=$.slice(v0,M)+`
`;K=i($,M);continue}for(var O0=!1,h=0;h<F.length;h++){var a=F.charCodeAt(h);if(a!==T&&a!==q9&&a!==I&&a!==R){O0=!0;break}}if(!z&&O0&&!W){var M0=K+V0,J0=$.charCodeAt(M0),n=J0===J9||J0===p||J0===X0||J0===Q0||J0===b0||(J0===d||J0===D0||J0===B0||J0===H9)&&(y9($,K)!==null||R9($,K,M)!==null)||J0>=e&&J0<=$0&&R9($,K,M)!==null;if(!n){F+=""+$.slice(M0,M)+`
`,K=i($,M);continue}}break}if(X.push({contentCol:G,raw:F,hasBlankAfter:z,isEmpty:W}),X.length===0)return null;var H0=H;if(!H0)for(var w0=0;w0<X.length;w0++){if(X[w0].hasBlankAfter&&w0<X.length-1){H0=!0;break}if(!X[w0].isEmpty){for(var _=X[w0].raw,u=_.length,W0=0,L0=!1,t=!1,k0=!1,o=!1,d0=0,c0=0,f0=-1;W0<u;){var q0=_.indexOf(`
`,W0);if(q0<0&&(q0=u),o){N0(_,W0,q0);for(var h9=_.slice(W0+V0,q0),Z9=0;Z9<h9.length&&h9.charCodeAt(Z9)===d0;)Z9++;Z9>=c0&&h9.slice(Z9).trim()===""&&(o=!1),W0=q0<u?q0+1:u;continue}if($9(_,W0,q0)){f0>=0?k0=!0:L0&&(t=!0),W0=q0<u?q0+1:u;continue}if(N0(_,W0,q0),f0>=0){if(K0>=f0){W0=q0<u?q0+1:u;continue}var k9=R9(_,W0,q0);if(k9&&k9.markerCol<f0&&k9.contentCol<=f0){W0=q0<u?q0+1:u;continue}if(k9){W0=q0<u?q0+1:u;continue}f0=-1,k0&&(t=!0,k0=!1)}var m9=_.slice(W0+V0,q0),_9=m9.charCodeAt(0);if((_9===Q0||_9===b0)&&K0<=3){for(var V9=0;V9<m9.length&&m9.charCodeAt(V9)===_9;)V9++;if(V9>=3){if(t&&L0){H0=!0;break}o=!0,d0=_9,c0=V9,L0=!0,W0=q0<u?q0+1:u;continue}}var Y$=K0<=3?R9(_,W0,q0):null;if(Y$&&L0){if(t){H0=!0;break}f0=Y$.contentCol,k0=!1,W0=q0<u?q0+1:u,L0=!0;continue}if(t){H0=!0;break}L0=!0,W0=q0<u?q0+1:u}if(H0)break}}for(var Y9=[],G9=0;G9<X.length;G9++){for(var N9=X[G9],Q9=N9.raw,l0=Q9.length;l0>0&&Q9.charCodeAt(l0-1)===T;)l0--;var S0=l0<Q9.length?Q9.slice(0,l0):Q9,C9=null;if(S0.length>=3&&S0.charCodeAt(0)===z0){var z9=S0[1];(z9===" "||z9==="x"||z9==="X")&&S0.charCodeAt(2)===C0&&(C9={type:A.gfmTask,completed:z9==="x"||z9==="X"},S0=S0.slice(3))}var I0;if(N9.isEmpty&&S0.trim()==="")I0=[];else if(H0){var _$=Z.inList;Z.inList=!0,I0=A9(S0,Z,V),Z.inList=_$}else{var N$=Z.inList;if(Z.inList=!0,I0=A9(S0,Z,V),Z.inList=N$,I0.length===1&&I0[0].type===A.paragraph)I0=I0[0].children;else{for(var U9=[],o0=0;o0<I0.length;o0++)if(I0[o0].type===A.paragraph)for(var F9=I0[o0].children,s9=0;s9<F9.length;s9++)U9.push(F9[s9]);else U9.push(I0[o0]);I0=U9}}C9?Y9.push([C9,{type:A.text,text:" "},...I0]):Y9.push(I0)}return{node:{type:J.ordered?A.orderedList:A.unorderedList,start:J.ordered?J.start:void 0,items:Y9},end:K}}var D$=new Set(["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]);function B9($,Q,Z){let V={};for(let[X,K]of Object.entries($)){let G=X,F=X.toLowerCase();if(F==="style"&&typeof K=="string"){let W={},z=[],H=0,O=0;for(let q=0;q<K.length;q++){let U=K.charCodeAt(q);U===t0?H++:U===e0?H--:U===W$&&H===0&&(z.push(K.slice(O,q)),O=q+1)}O<K.length&&z.push(K.slice(O));let D=!1;z.forEach(q=>{let U=q.indexOf(":");if(U===-1)return;let B=q.slice(0,U).trim(),j=q.slice(U+1).trim();if(B&&j){if(/url\s*\(\s*(javascript|vbscript|data:(?!image\/))/i.test(j)){D=!0;return}let v=B.indexOf("-")!==-1?B.replace(/-([a-z])/g,(y,N)=>N.toUpperCase()):B;W[v]=j}}),!D&&Object.keys(W).length>0&&(V[G]=W)}else if((F==="href"||F==="src")&&Z?.sanitizer){let W=Z.sanitizer(K,Q,F);W!==null&&(V[G]=W)}else if(K==="")V[G]=!0;else if(K.length>=2&&K.charCodeAt(0)===D9&&K.charCodeAt(K.length-1)===$$){var Y=K.slice(1,-1);if(Y.length>0){var J=Y.charCodeAt(0);if(J===z0||J===D9)try{V[G]=JSON.parse(Y);continue}catch{}}if(Y==="true"){V[G]=!0;continue}if(Y==="false"){V[G]=!1;continue}if(Z?.evalUnserializableExpressions)try{V[G]=(0,eval)("("+Y+")");continue}catch{}V[G]=Y}else V[G]=K}return V}function M9($,Q,Z){let V=Q.length;var Y=Q.charCodeAt(0);Y>=r&&Y<=s&&(Y+=X9);for(let X=Z;X<=$.length-V;X++){var J=$.charCodeAt(X);if(J>=r&&J<=s&&(J+=X9),J!==Y)continue;let K=!0;for(let G=1;G<V;G++){let F=$.charCodeAt(X+G),W=Q.charCodeAt(G);if(F>=r&&F<=s&&(F+=X9),W>=r&&W<=s&&(W+=X9),F!==W){K=!1;break}}if(K)return X}return-1}function EZ($,Q,Z){let V=Q.length;var Y=Q.charCodeAt(0);Y>=r&&Y<=s&&(Y+=X9);for(let X=Math.min(Z,$.length-V);X>=0;X--){var J=$.charCodeAt(X);if(J>=r&&J<=s&&(J+=X9),J!==Y)continue;let K=!0;for(let G=1;G<V;G++){let F=$.charCodeAt(X+G),W=Q.charCodeAt(G);if(F>=r&&F<=s&&(F+=X9),W>=r&&W<=s&&(W+=X9),F!==W){K=!1;break}}if(K)return X}return-1}var C$=-1;function f6($,Q,Z){let V=Z.toLowerCase(),Y="<"+V,J="</"+V,X=1,K=Q,G=$.length;for(C$=-1;K<G&&X>0;){let z=M9($,Y,K),H=M9($,J,K);if(H===-1)return-1;if(z!==-1&&z<H){let O=j9($,z);O?(O.tag.toLowerCase()===V&&!O.isClosing&&!O.selfClosing&&!f9(O.tag)&&X++,K=O.end):K=z+1}else{var F=H+J.length,W=F<G?$.charCodeAt(F):62;if((W===p||W===I||W===R||W===T)&&(X--,X===0)){C$=H;let O=H+J.length;for(;O<G&&$.charCodeAt(O)!==p;)O++;return O+1}K=H+1}}return-1}function T6($,Q,Z,V){if(V.ignoreHTMLBlocks||V.disableParsingRawHTML)return null;var Y=G0($,Q);if(N0($,Q,Y),K0>3&&!Z.inHTML)return null;var J=Q+V0;if($.charCodeAt(J)!==X0)return null;var X=$.indexOf(">",J+1);if(X!==-1&&X<Y){var K=$.slice(J+1,X);if(/^[a-zA-Z][a-zA-Z0-9+.-]*:/.test(K)||/^[^\s@]+@[^\s@]+$/.test(K))return null}var G=gZ($,J);if(G>=1&&G<=5){var F=$.length;if(G===1){for(var W=$.length,z=0;z<m$.length;z++){var H=M9($,"</"+m$[z]+">",J);H>=0&&H<W&&(W=H)}if(W<$.length){var O=$.indexOf(">",W);F=O>=0?i($,O+1):$.length}}else{var D=G===2?"-->":G===3?"?>":G===4?">":"]]>",q=$.indexOf(D,J);q>=0&&(F=i($,q+D.length))}var U=$.slice(J,F);if(G>=2)return{node:{type:A.htmlComment,text:U,raw:!0,endPos:F},end:F};var B="div",j=U.match(/^<\/?([a-zA-Z][a-zA-Z0-9-]*)/);j&&(B=j[1]);var v=j9($,J),y={},N;v&&!v.isClosing&&(y=B9(v.attrs,B,V),N=v.whitespaceBeforeAttrs+v.rawAttrs);var M=[],L=B.toLowerCase(),k="</"+L,b=M9(U,k,0),P=U,S="";if(v&&v.isClosing)for(P=U.slice(v.end-J);P.length>0&&P.charCodeAt(P.length-1)===T;)P=P.slice(0,-1);else if(v&&!v.isClosing){var E=v.end-J;if(b!==-1)for(P=U.slice(E),P.charCodeAt(0)===T&&(P=P.slice(1));P.length>0&&P.charCodeAt(P.length-1)===T;)P=P.slice(0,-1);else for(P=U;P.length>0&&P.charCodeAt(P.length-1)===T;)P=P.slice(0,-1);if(b!==-1){var x=U.slice(E,b);S=x.trim()}}var C=v?v.isClosing:!1;return{node:{type:A.htmlBlock,tag:B,attrs:y,e:N,children:M,a:P,text:S,c:!0,b:C,endPos:F,canInterruptParagraph:!0},end:F}}if(G===6||G===7){var m=j6($,Q),f=m<$.length?m:$.length,v0=$.slice(J,f),w=m<$.length?i($,m):$.length,g=j9($,J);if(g){var c=g.tag,F0=c.toLowerCase(),P0=g.isClosing;if(P0){var Z0=$.slice(g.end,f);return{node:{type:A.htmlBlock,tag:c,attrs:{},children:[],a:Z0,text:Z0,c:!0,b:!0,endPos:f,canInterruptParagraph:G===6},end:w}}if(g.selfClosing||f9(c))return{node:{type:A.htmlBlock,tag:c,attrs:B9(g.attrs,c,V),e:g.whitespaceBeforeAttrs+g.rawAttrs,children:[],a:"",text:"",c:!1,b:!1,endPos:g.end,canInterruptParagraph:G===6},end:i($,g.end)};var O0=Z.d||0,h=$.slice(J,f),a=-1,M0=-1;if(O0<10){for(var J0="</"+F0,n=g.end-J,H0=1,w0=n;w0<h.length&&H0>0;){var _=M9(h,"<"+F0,w0),u=M9(h,J0,w0);if(u===-1)break;if(_!==-1&&_<u){var W0=_+F0.length+1;if(W0<h.length){var L0=h.charCodeAt(W0);(L0===I||L0===R||L0===T||L0===p||L0===A0)&&H0++}w0=_+1}else{var t=u+J0.length;if(t<h.length){var k0=h.charCodeAt(t);if((k0===p||k0===I||k0===R||k0===T)&&(H0--,H0===0)){a=u;for(var o=t;o<h.length&&h.charCodeAt(o)!==p;)o++;M0=o+1;break}}else if(H0--,H0===0){a=u,M0=h.length;break}w0=u+1}}var d0=!1;if(a===-1&&G===6&&!g.isClosing&&!wZ.has(F0)){var c0=$.slice(g.end),f0=M9(c0,J0,0);if(f0!==-1){var q0=c0.slice(0,f0);if(q0.indexOf(`

`)!==-1){for(var h9=g.end+f0,Z9=h9+J0.length;Z9<$.length&&$.charCodeAt(Z9)!==p;)Z9++;if(Z9<$.length&&$.charCodeAt(Z9)===p){var k9=Z9+1,m9=G0($,k9);f=m9,w=i($,m9),h=$.slice(J,f),v0=$.slice(J,f),a=h9-J,M0=k9-J,d0=!0}}}}}var _9=g.rawAttrs.indexOf(`
`)!==-1||g.whitespaceBeforeAttrs.indexOf(`
`)!==-1,V9=!1;if(a!==-1){var Y$=h.slice(M0).trim();V9=Y$.length===0}var Y9=!1,G9=f,N9=w;if(a!==-1){var Q9=J+M0,l0=G0($,Q9-1);if(Q9<l0){for(var S0=Q9;S0<l0&&($.charCodeAt(S0)===I||$.charCodeAt(S0)===R);)S0++;if(S0<l0&&$.charCodeAt(S0)===X0){var C9=j9($,S0);C9&&!C9.isClosing&&(Y9=!0,G9=Q9,N9=Q9,V9=!0)}}if(!Y9){var z9=i($,l0);if(z9<f){for(var I0=z9;I0<f&&($.charCodeAt(I0)===I||$.charCodeAt(I0)===R);)I0++;if(I0<f&&$.charCodeAt(I0)===X0){var _$=j9($,I0);_$&&(Y9=!0,G9=l0,N9=z9,V9=!0)}}}if(!Y9&&Z.inHTML){Y9=!0,G9=l0,N9=i($,l0);var N$=$.slice(Q9,l0).trim();V9=N$.length===0}}var U9=[],o0="";if(a!==-1){o0=h.slice(g.end-J,a);var F9=o0.trim();if(F9){var{inline:s9,inHTML:c6,d:l6}=Z;Z.inHTML=!0,Z.d=O0+1;var o6=F0==="p";if(o6)Z.inline=!0,U9=p0(F9,0,F9.length,Z,V);else{var r6=o0.indexOf(`

`)!==-1,i6=/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(F9),o$=/^<([a-z][^ >/\n\r]*) ?([^>]*?)>/im.test(F9),a6=r6||i6||Z.inHTML&&o$;a6||o$?(Z.inline=!1,U9=A9(o0,Z,V)):(Z.inline=!0,U9=p0(F9,0,F9.length,Z,V))}Z.inline=s9,Z.inHTML=c6,Z.d=l6}}var r$=!1;if(G===6&&a!==-1&&!Z.inHTML&&!_9){var I$=o0,n6=/<[a-zA-Z][^>]*>/.test(I$),s6=/\n\n/.test(I$)||/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(I$);n6&&!s6&&(r$=!0)}var t6=Z.inHTML||G===7||_9||!V9||r$;if(t6){var n0;if(a!==-1&&Y9){var i$=!1;if(Z.inHTML&&M0<h.length){for(var J$=M0;J$<h.length&&h.charCodeAt(J$)!==T;)J$++;var b$=h.slice(M0,J$).trim();i$=b$.length>1&&b$.charCodeAt(0)===X0&&b$.charCodeAt(1)!==A0}n0=i$?h.slice(g.end-J):o0}else(G===7||Z.inHTML)&&a!==-1?(n0=h.slice(g.end-J),n0.charCodeAt(0)===T&&(n0=n0.slice(1))):Y9?n0=$.slice(J,G9):_9?n0=v0:(n0=h.slice(g.end-J),n0.charCodeAt(0)===T&&(n0=n0.slice(1)));return{node:{type:A.htmlBlock,tag:c,attrs:B9(g.attrs,c,V),e:g.whitespaceBeforeAttrs+g.rawAttrs,children:U9,a:n0,text:n0,c:!0,b:!1,endPos:G9,canInterruptParagraph:G===6},end:N9}}return{node:{type:A.htmlBlock,tag:c,attrs:B9(g.attrs,c,V),e:g.whitespaceBeforeAttrs+g.rawAttrs,children:U9,a:d0?"":o0,text:o0,c:!1,b:!1,endPos:G9,canInterruptParagraph:G===6},end:N9}}var X$=v0.match(/^<(\/?)([a-zA-Z][a-zA-Z0-9-]*)/),e6=X$?X$[2]:"div",a$=X$?X$[1]==="/":!1,P$=v0;if(a$){var n$=v0.indexOf(">");n$!==-1&&(P$=v0.slice(n$+1))}return{node:{type:A.htmlBlock,tag:e6,attrs:{},children:[],a:P$,text:P$,c:!0,b:a$,endPos:f,canInterruptParagraph:G===6},end:w}}var E0=j9($,J);if(!E0)return null;var I9=E0.tag,w$=I9.toLowerCase(),s$=I9.charCodeAt(0),K$=s$>=r&&s$<=s;if(!K$&&!D$.has(w$)&&!V$.has(w$)&&!w$.includes("-"))return null;if(E0.isClosing)return{node:{type:A.htmlSelfClosing,tag:I9,attrs:{},endPos:E0.end,b:!0,a:$.slice(J,E0.end)},end:E0.end};var V5=!0,S9=f6($,E0.end,I9),t9=[];if(S9!==-1){var $Z=C$,G$=$.slice(E0.end,$Z),e9=G$.trim();if(e9){var ZZ=G$.indexOf(`

`)!==-1,QZ=/^(\s{0,3}#[#\s]|\s{0,3}[-*+]\s|\s{0,3}\d+\.\s|\s{0,3}>\s|\s{0,3}```)/m.test(e9),VZ=/^<([a-z][^ >/\n\r]*) ?([^>]*?)>/im.test(e9),YZ=Z.inline,JZ=Z.inHTML,XZ=Z.d;Z.inHTML=!0,Z.d=(Z.d||0)+1,ZZ||QZ||VZ?(Z.inline=!1,t9=A9(G$,Z,V)):(Z.inline=!0,t9=p0(e9,0,e9.length,Z,V)),Z.inline=YZ,Z.inHTML=JZ,Z.d=XZ}var KZ=G0($,S9),GZ=$.slice(S9,KZ).trim(),R$=GZ?S9:i($,S9),t$=K$?$.slice(J,S9):$.slice(J,R$),FZ=K$?S9:R$;return{node:{type:A.htmlBlock,tag:I9,attrs:B9(E0.attrs,I9,V),e:E0.whitespaceBeforeAttrs+E0.rawAttrs,children:t9,a:t$,text:K$?G$:t$,c:!0,b:!1,endPos:FZ,canInterruptParagraph:!1},end:R$}}var u9=j6($,E0.end),qZ=u9<$.length?i($,u9):u9,y$=$.slice(E0.end,u9);if(y$.trim()){var{inline:WZ,inHTML:zZ,d:UZ}=Z;Z.inline=!1,Z.inHTML=!0,Z.d=(Z.d||0)+1,t9=A9(y$,Z,V),Z.inline=WZ,Z.inHTML=zZ,Z.d=UZ}var OZ=$.slice(E0.end,u9);return{node:{type:A.htmlBlock,tag:I9,attrs:B9(E0.attrs,I9,V),e:E0.whitespaceBeforeAttrs+E0.rawAttrs,children:t9,a:OZ,text:y$,c:!0,b:!1,endPos:u9,canInterruptParagraph:!1},end:qZ}}function gZ($,Q){if($.charCodeAt(Q)!==X0)return 0;var Z=Q+1,V=$.length;if($.charCodeAt(Z)===g0&&$.charCodeAt(Z+1)===d&&$.charCodeAt(Z+2)===d)return 2;if($.charCodeAt(Z)===E9)return 3;if($.charCodeAt(Z)===g0){var Y=$.charCodeAt(Z+1);if(Y>=r&&Y<=s)return 4;if($.slice(Z+1,Z+8)==="[CDATA[")return 5}for(var J=$.charCodeAt(Z)===A0,X=J?Z+1:Z,K=X;K<V;){var G=$.charCodeAt(K);if(G>=r&&G<=s||G>=U0&&G<=j0||G>=e&&G<=$0||G===d)K++;else break}if(K===X)return 0;var F=$.slice(X,K);if(V$.has(F.toLowerCase())){if(J)return 0;var W=$.charCodeAt(K);return W===I||W===R||W===p||W===T||K>=V?1:0}if(D$.has(F.toLowerCase())){if(J){for(var z=K;z<V&&($.charCodeAt(z)===I||$.charCodeAt(z)===R);)z++;return z<V&&$.charCodeAt(z)===p?6:0}var H=K<V?$.charCodeAt(K):-1;return H===I||H===R||H===p||H===T||H===A0||H===-1?6:0}if(J){for(var U=K;U<V&&($.charCodeAt(U)===I||$.charCodeAt(U)===R);)U++;if(U<V&&$.charCodeAt(U)===p){var B=G0($,Q),j=$.slice(U+1,B).trim();if(j==="")return 7}}else{var O=G0($,Q),D=j9($,Q);if(D&&D.end<=O){var q=$.slice(D.end,O).trim();if(q==="")return 7}}return 0}function A6($,Q,Z){for(var V=0,Y=$.length;V<Y&&($.charCodeAt(V)===I||$.charCodeAt(V)===R);)V++;for(;Y>V&&($.charCodeAt(Y-1)===I||$.charCodeAt(Y-1)===R);)Y--;V<Y&&$.charCodeAt(V)===R0&&V++,Y>V&&$.charCodeAt(Y-1)===R0&&(Y-2<V||$.charCodeAt(Y-2)!==_0)&&Y--;for(var J=[],X=V,K=!1,G=[],F=V;F<Y;){var W=$.charCodeAt(F);if(W===_0&&F+1<Y){$.charCodeAt(F+1)===R0?(K||(K=!0,G=[]),G.push($.slice(X,F)),G.push("|"),F+=2,X=F):F+=2;continue}if(W===Q0){for(var z=0;F<Y&&$.charCodeAt(F)===Q0;)z++,F++;for(var H=!1;F<Y&&!H;){for(var O=0;F<Y&&$.charCodeAt(F)===Q0;)O++,F++;O===z?H=!0:O===0&&F++}continue}if(W===R0){var D=K?(G.push($.slice(X,F)),G.join("")):$.slice(X,F);J.push(D.trim()),F++,X=F,K=!1,G=[];continue}F++}var q=K?(G.push($.slice(X,Y)),G.join("")):$.slice(X,Y);return J.push(q.trim()),J.map(function(U){var B=U.indexOf("\\|")!==-1?U.replace(/\\\|/g,"|"):U;return p0(B,0,B.length,Q,Z)})}function v6($,Q,Z,V){let Y=G0($,Q);var J=$.indexOf("|",Q);if(J<0||J>=Y)return null;let X=i($,Y);if(X>=$.length)return null;let K=G0($,X);if(!L6($,X,K))return null;let G=$.slice(Q,Y),F=$.slice(X,K);for(var W=[],z=0,H=F.length;z<H&&(F.charCodeAt(z)===I||F.charCodeAt(z)===R);)z++;for(z<H&&F.charCodeAt(z)===R0&&z++;z<H;){for(;z<H&&(F.charCodeAt(z)===I||F.charCodeAt(z)===R);)z++;if(z>=H||F.charCodeAt(z)===R0)break;var O=F.charCodeAt(z)===x0;for(O&&z++;z<H&&F.charCodeAt(z)===d;)z++;var D=z<H&&F.charCodeAt(z)===x0;for(D&&z++,W.push(O&&D?"center":D?"right":O?"left":null);z<H&&(F.charCodeAt(z)===I||F.charCodeAt(z)===R);)z++;z<H&&F.charCodeAt(z)===R0&&z++}let q=A6(G,Z,V);if(W.length!==q.length)return null;let U=[],B=i($,K);for(;B<$.length;){let L=G0($,B),k=$.slice(B,L);if($9($,B,L))break;if(N0($,B,L),K0<4){var j=$.charCodeAt(B+V0);if(j===p||j===J9||(j===d||j===D0||j===B0)&&y9($,B))break;if(j===Q0||j===b0){for(var v=B+V0,y=0;v<L&&$.charCodeAt(v)===j;)y++,v++;if(y>=3)break}}U.push(A6(k,Z,V)),B=i($,L)}if((V.streaming||V.optimizeForStreaming)&&U.length===0)return null;for(var N=q.length,M=0;M<U.length;M++)if(U[M].length<N)for(;U[M].length<N;)U[M].push([]);else U[M].length>N&&(U[M].length=N);return{node:{type:A.table,header:q,cells:U,align:W},end:B}}function xZ($,Q,Z){var V=G0($,Q);if(N0($,Q,V),K0>3)return null;var Y=Q+V0;if($.charCodeAt(Y)!==z0)return null;if(Y+1<$.length&&$.charCodeAt(Y+1)===r0){var J=fZ($,Y,Z);return J||null}Z.refs||(Z.refs={});var X=k6($,Y,Z.refs);return X===null?null:{node:{type:A.refCollection},end:X}}function fZ($,Q,Z){var V=$.length;if($.charCodeAt(Q)!==z0||Q+1>=V||$.charCodeAt(Q+1)!==r0)return null;for(var Y=Q+2,J=Y;Y<V&&$.charCodeAt(Y)!==C0;){if($.charCodeAt(Y)===T)return null;Y++}if(Y>=V)return null;var X=("^"+$.slice(J,Y)).toLowerCase();if(Y++,Y>=V||$.charCodeAt(Y)!==x0)return null;for(Y++;Y<V&&($.charCodeAt(Y)===I||$.charCodeAt(Y)===R);)Y++;if(Y<V&&$.charCodeAt(Y)===T)for(Y++;Y<V&&($.charCodeAt(Y)===I||$.charCodeAt(Y)===R);)Y++;var K=$.indexOf(`
`,Y);K<0&&(K=V);for(var G=$.slice(Y,K).trim(),F=K<V?K+1:V;F<V;){var W=G0($,F);if(N0($,F,W),K0>=2&&!$9($,F,W))G+=`
`+$.slice(F,W),F=i($,W);else if($9($,F,W)){var z=i($,W);if(z<V){var H=G0($,z);if(N0($,z,H),K0>=2){G+=`
`,F=i($,W);continue}}break}else break}return Z.refs[X]||(Z.refs[X]={target:G,title:void 0}),{node:{type:A.footnote},end:F}}function TZ($,Q,Z,V){let Y=Q,J=0,X=0,K=-1;for(;Y<$.length;){let S=K>=0?K:G0($,Y);if(K=-1,$9($,Y,S))break;if(N0($,Y,S),K0<4&&X>0&&!Z.f){let x=$.charCodeAt(Y+V0);if(x===m0||x===d){let C=Y+V0;for(;C<S&&$.charCodeAt(C)===x;)C++;for(;C<S&&($.charCodeAt(C)===I||$.charCodeAt(C)===R);)C++;if(C>=S){J=x===m0?1:2,Y=i($,S);break}}}X=S;let E=i($,S);if(E<$.length){if($.charCodeAt(E)===l9){var G=G0($,E);Y=i($,G),X=G;continue}let x=G0($,E);if(K=x,N0($,E,x),K0<4){let C=$.charCodeAt(E+V0);if(C===p){Y=E;break}if(C===J9&&g6($,E,Z,V)){Y=E;break}if(C===Q0||C===b0){for(var F=E+V0,W=0;F<x&&$.charCodeAt(F)===C;)W++,F++;if(W>=3){Y=E;break}}if(C===X0){var z=E+V0+1,H=z<x?$.charCodeAt(z):0,O=H===g0||H===E9;if(!O&&H===A0){for(var D=z+1,q=D;q<x&&($.charCodeAt(q)>=r&&$.charCodeAt(q)<=s||$.charCodeAt(q)>=U0&&$.charCodeAt(q)<=j0||$.charCodeAt(q)>=e&&$.charCodeAt(q)<=$0||$.charCodeAt(q)===d);)q++;q>D&&(O=D$.has($.slice(D,q).toLowerCase()))}else if(!O){for(var U=z;U<x&&($.charCodeAt(U)>=r&&$.charCodeAt(U)<=s||$.charCodeAt(U)>=U0&&$.charCodeAt(U)<=j0||$.charCodeAt(U)>=e&&$.charCodeAt(U)<=$0||$.charCodeAt(U)===d);)U++;if(U>z){var B=$.slice(z,U).toLowerCase();O=D$.has(B)||V$.has(B)}}if(O&&T6($,E,Z,V)){Y=E;break}}if(C===d||C===D0||C===H9){let m=E+V0+1;if(m<x&&($.charCodeAt(m)===I||$.charCodeAt(m)===R)){var j=Q$($,m,x);if(j<x&&!y9($,E)){Y=E;break}}}if(C>=e&&C<=$0){let m=E+V0;for(;m<x&&$.charCodeAt(m)>=e&&$.charCodeAt(m)<=$0;)m++;if(m<x&&($.charCodeAt(m)===s0||$.charCodeAt(m)===e0)&&m-(E+V0)===1&&$.charCodeAt(E+V0)===49){var v=m+1;if(v<x&&($.charCodeAt(v)===I||$.charCodeAt(v)===R)){var y=Q$($,v,x);if(y<x){Y=E;break}}}}if(C===R0){let m=i($,x);if(m<$.length){let f=G0($,m);if(L6($,m,f)){Y=E;break}}}if((C===d||C===D0||C===B0)&&y9($,E)){if(C!==d){Y=E;break}let m=0,f=E+V0;for(;f<x&&$.charCodeAt(f)===d;)m++,f++;for(;f<x&&($.charCodeAt(f)===I||$.charCodeAt(f)===R);)f++;if(f<x){Y=E;break}}}}Y=i($,S)}for(var N=J?X:Y;N>Q&&($.charCodeAt(N-1)===T||$.charCodeAt(N-1)===q9||$.charCodeAt(N-1)===I||$.charCodeAt(N-1)===R);)N--;for(var M=Q;M<N&&($.charCodeAt(M)===I||$.charCodeAt(M)===R);)M++;if(M>=N)return null;for(var L=!1,k=M;k<N;k++)if($.charCodeAt(k)===l9){L=!0;break}var b=L?$.slice(M,N).replace(/\u001E/g,""):$.slice(M,N);if(!b)return null;let P=hZ(b,0,b.length,Z,V);if(J){let E=(V?.slugify||h0)(b);return{node:{type:A.heading,level:J,children:P,id:E},end:Y}}return{node:{type:A.paragraph,children:P},end:Y}}function hZ($,Q,Z,V,Y){var J=$.indexOf(`
`,Q);if(J<0||J>=Z)return p0($,Q,Z,V,Y);for(var X="",K=Q,G=Q;G<Z;){var F=$.charCodeAt(G);if(F===Q0){var W=M$($,G,Z);if(W>G){for(var z=!1,H=G;H<W;H++)if($.charCodeAt(H)===T){z=!0;break}z&&(X+=$.slice(K,G),X+=$.slice(G,W).replace(/\n/g," "),K=W),G=W;continue}}if(F===X0){var O=h6($,G,Z);if(O>G){G=O;continue}}if(F===T){var D=!1,q=0;if(G>Q&&$.charCodeAt(G-1)===_0)D=!0,q=1;else{for(var U=0,B=G-1;B>=Q&&$.charCodeAt(B)===I;)U++,B--;U>=2&&(D=!0,q=U)}for(D?(X+=$.slice(K,G-q),X+=""):X+=$.slice(K,G+1),G++;G<Z&&$.charCodeAt(G)===I;)G++;K=G;continue}G++}return K<Z&&(X+=$.slice(K,Z)),p0(X,0,X.length,V,Y)}function mZ($,Q,Z){if($.charCodeAt(Q)!==Q0)return null;let V=v9($,Q,Z,96),Y=Q+V;for(;Y<Z;){let J=$.indexOf("`",Y);if(J<0||J>=Z)return null;let X=v9($,J,Z,96);if(X===V){let K=$.slice(Q+V,J);return K=K.replace(/\n/g," "),K.length>0&&K[0]===" "&&K[K.length-1]===" "&&K.trim().length>0&&(K=K.slice(1,-1)),{node:{type:A.codeInline,text:K},end:J+X}}Y=J+X}return null}function M$($,Q,Z){if($.charCodeAt(Q)!==Q0)return Q;let V=v9($,Q,Z,96),Y=Q+V;for(;Y<Z;){let J=$.indexOf("`",Y);if(J<0||J>=Z)return Q;let X=v9($,J,Z,96);if(X===V)return J+X;Y=J+X}return Q}function h6($,Q,Z){if($.charCodeAt(Q)!==X0)return Q;if(Q+1<Z&&$.charCodeAt(Q+1)===A0){let F=Q+2;for(;F<Z&&$.charCodeAt(F)!==p;)F++;return F<Z?F+1:Q}if(Q+3<Z&&$.charCodeAt(Q+1)===g0&&$.charCodeAt(Q+2)===d&&$.charCodeAt(Q+3)===d){let F=$.indexOf("-->",Q+4);return F>=0?F+3:Q}let V=Q+1,Y=V;for(;V<Z;){let F=$.charCodeAt(V);if(F>=r&&F<=s||F>=U0&&F<=j0||F>=e&&F<=$0||F===d)V++;else break}if(V===Y)return Q;let J=$.slice(Y,V).toLowerCase(),X=!1;for(;V<Z;){let F=$.charCodeAt(V);if(F===p){V++;break}if(F===A0&&V+1<Z&&$.charCodeAt(V+1)===p){V+=2,X=!0;break}if(F===W9||F===O9){var K=F;for(V++;V<Z&&$.charCodeAt(V)!==K;)V++;V<Z&&V++;continue}if(F===T)return Q;V++}if(X||f9(J))return V;let G=1;for(;V<Z&&G>0;)if($.charCodeAt(V)===X0)if(V+1<Z&&$.charCodeAt(V+1)===A0){let F=V+2,W=F;for(;W<Z&&($.charCodeAt(W)>=r&&$.charCodeAt(W)<=s||$.charCodeAt(W)>=U0&&$.charCodeAt(W)<=j0);)W++;if($.slice(F,W).toLowerCase()===J){for(;W<Z&&$.charCodeAt(W)!==p;)W++;if(W<Z&&W++,G--,G===0)return W}V=W}else{let F=V+1,W=F;for(;W<Z&&($.charCodeAt(W)>=r&&$.charCodeAt(W)<=s||$.charCodeAt(W)>=U0&&$.charCodeAt(W)<=j0);)W++;$.slice(F,W).toLowerCase()===J&&G++,V++}else V++;return V}function CZ($,Q,Z,V,Y){if($.charCodeAt(Q)!==b0||Q+1>=Z||$.charCodeAt(Q+1)!==b0)return null;let J=Q+2;for(;J+1<Z;){let X=$.charCodeAt(J);if(X===Q0){let K=M$($,J,Z);if(K>J){J=K;continue}}if(X===b0&&$.charCodeAt(J+1)===b0){let K=$.slice(Q+2,J),G=p0(K,0,K.length,V,Y);return{node:{type:A.textFormatted,tag:"del",children:G},end:J+2}}X===_0&&J+1<Z&&J++,J++}return null}function uZ($,Q,Z,V,Y){if($.charCodeAt(Q)!==m0||Q+1>=Z||$.charCodeAt(Q+1)!==m0)return null;let J=Q+2;for(;J+1<Z;){let X=$.charCodeAt(J);if(X===Q0){let K=M$($,J,Z);if(K>J){J=K;continue}}if(X===m0&&$.charCodeAt(J+1)===m0&&J>Q+2){let K=$.slice(Q+2,J),G=p0(K,0,K.length,V,Y);return{node:{type:A.textFormatted,tag:"mark",children:G},end:J+2}}X===_0&&J+1<Z&&J++,J++}return null}var pZ=/[\p{P}\p{S}]/u;function _6($,Q,Z){return $<g9?!!(p$($)&Y0):pZ.test(Q[Z])}function N6($,Q,Z){return $<g9?!!(p$($)&n9):/\p{Zs}/u.test(Q[Z])}function dZ($,Q,Z){var V=$.charCodeAt(Q);if(V!==D0&&V!==B0)return null;var Y=v9($,Q,Z,V);if(Y===0)return null;var J=Q>0?$.charCodeAt(Q-1):32,X=Q+Y<Z?$.charCodeAt(Q+Y):32,K=N6(J,$,Q-1),G=N6(X,$,Q+Y),F=Q>0?_6(J,$,Q-1):!1,W=Q+Y<Z?_6(X,$,Q+Y):!1,z=!G&&(!W||K||F),H=!K&&(!F||G||W),O,D;return V===D0?(O=z,D=H):(O=z&&(!H||F),D=H&&(!z||W)),{len:Y,canOpen:O,canClose:D}}function cZ($,Q,Z,V){if(Q.length!==0){for(var Y=[],J=0;J<12;J++)Y[J]=-1;for(var X=0;X<Q.length;){var K=Q[X];if(!K.active||!K.canClose){X++;continue}for(var G=K.ch===D0?0:1,F=G*6+K.len%3*2+(K.canOpen?1:0),W=Y[F]!==void 0?Y[F]:-1,z=-1,H=X-1;H>W;H--){var O=Q[H];if(!(!O.active||O.ch!==K.ch||!O.canOpen)&&!((K.canOpen||O.canClose)&&(O.len+K.len)%3===0&&O.len%3!==0)){z=H;break}}if(z<0){Y[F]=X-1,!K.canOpen&&(K.active=!1),X++;continue}var D=Q[z],q=D.len>=2&&K.len>=2,U=q?2:1;D.len-=U,K.len-=U;var B=$[D.idx],j=$[K.idx];B.text=B.text.slice(0,B.text.length-U),j.text=j.text.slice(U);var v=D.idx+1,y=K.idx,N=$.slice(v,y),M={type:A.textFormatted,tag:q?"strong":"em",children:N};$.splice(v,y-v,M);for(var L=y-v-1,k=0;k<Q.length;k++)Q[k].idx>D.idx&&(Q[k].idx-=L);for(var b=z+1;b<X;b++)Q[b].active=!1;if(D.len===0&&(D.active=!1,B.text==="")){$.splice(D.idx,1);for(var P=0;P<Q.length;P++)Q[P].idx>D.idx?Q[P].idx--:Q[P].idx===D.idx&&(Q[P].idx=-1)}if(K.len===0){K.active=!1;var S=K.idx;if(j.text===""){$.splice(S,1);for(var E=0;E<Q.length;E++)Q[E].idx>S?Q[E].idx--:Q[E].idx===S&&(Q[E].idx=-1)}}else continue;X++}for(var x=0,C=0;C<$.length;C++){var m=$[C];if(m.type===A.text){var f=m;if(f.text==="")continue;if(x>0&&$[x-1].type===A.text){$[x-1].text+=f.text;continue}}$[x++]=m}$.length=x}}function I6($,Q,Z,V,Y){let J=$.charCodeAt(Q)===g0,X=J?Q+1:Q;if($.charCodeAt(X)!==z0)return null;var K=$.indexOf("]",X+1);if(K<0||K>=Z)return null;for(var G=X+1,F=-1,W=1;G<Z&&W>0;){var z=$.charCodeAt(G);if(z===_0&&G+1<Z){G+=2;continue}if(z===Q0){var H=M$($,G,Z);if(H>G){G=H;continue}}if(z===X0){var O=m6($,G,Z);if(O){G=O.end;continue}var D=h6($,G,Z);if(D>G){G=D;continue}}z===z0?W++:z===C0&&W--,G++}if(W!==0)return null;var q=G-1,U=$.slice(X+1,q),B=G<Z?$.charCodeAt(G):0,j=!1;if(B===t0){var v=!0;for(G++;G<Z&&($.charCodeAt(G)===I||$.charCodeAt(G)===T);)G++;var y="",N=G;if(G<Z&&$.charCodeAt(G)===X0){for(G++,N=G;N<Z&&$.charCodeAt(N)!==p;){if($.charCodeAt(N)===_0&&N+1<Z){N+=2;continue}if($.charCodeAt(N)===T){v=!1;break}N++}v&&(N>=Z||$.charCodeAt(N)!==p)&&(v=!1),v&&(y=$.slice(G,N),N++)}else if(v){for(var M=0;N<Z;){var L=$.charCodeAt(N);if(L===_0&&N+1<Z){N+=2;continue}if(L===t0)M++;else if(L===e0){if(M===0)break;M--}else if(L===I||L===T)break;N++}y=$.slice(G,N)}if(v){for(G=N;G<Z&&($.charCodeAt(G)===I||$.charCodeAt(G)===T);)G++;var k;if(G<Z){var b=$.charCodeAt(G);if(b===W9||b===O9||b===t0){var P=b===t0?41:b;G++;for(var S=G;G<Z&&$.charCodeAt(G)!==P;)$.charCodeAt(G)===_0&&G+1<Z&&G++,G++;G>=Z?v=!1:(k=$.slice(S,G),G++)}}if(v){for(;G<Z&&($.charCodeAt(G)===I||$.charCodeAt(G)===T);)G++;(G>=Z||$.charCodeAt(G)!==e0)&&(v=!1)}}if(v){G++,y=a9(y),k!==void 0&&(k=o9(a9(k)));var E=Y?.sanitizer||w9,x=E(y,J?"img":"a",J?"src":"href"),C=x===null?null:y;if(J){var m=p0(U,0,U.length,V,Y),f=B$(m);return{node:{type:A.image,target:C,alt:f,title:k},end:G}}else{var v0=V.inAnchor;V.inAnchor=!0;var w=v0?[{type:A.text,text:U}]:p0(U,0,U.length,V,Y);return V.inAnchor=v0,!V.inAnchor&&u$(w)?null:{node:{type:A.link,target:C,title:k,children:w},end:G}}}else G=q+1,j=!0}var g="",c=G;if(!j&&B===z0){var F0=G+1;c=F0;for(var P0=!1;c<Z&&$.charCodeAt(c)!==C0;){if($.charCodeAt(c)===_0&&c+1<Z){c+=2;continue}if($.charCodeAt(c)===z0){P0=!0;break}c++}if(P0||c>=Z)return null;var Z0=$.slice(F0,c);if(Z0.trim())g=O$(Z0);else{if(B6(U))return null;g=O$(U)}c=c+1}else{if(B6(U))return null;g=O$(U)}var O0=V.refs[g];if(!O0)return null;if(J)return{node:{type:A.image,target:O0.target,alt:B$(p0(U,0,U.length,V,Y)),title:O0.title},end:c};var h=V.inAnchor;V.inAnchor=!0;var w=h?[{type:A.text,text:U}]:p0(U,0,U.length,V,Y);return V.inAnchor=h,!V.inAnchor&&u$(w)?null:{node:{type:A.link,target:O0.target,title:O0.title,children:w},end:c}}function m6($,Q,Z){if($.charCodeAt(Q)!==X0)return null;for(var V=Q+1;V<Z;){var Y=$.charCodeAt(V);if(Y===p)break;if(Y===I||Y===T||Y===q9||Y===X0)return null;V++}if(V>=Z||$.charCodeAt(V)!==p)return null;var J=$.slice(Q+1,V),X=J.match(/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^\x00-\x20]*)$/);return X?{node:{type:A.link,target:J,children:[{type:A.text,text:J}]},end:V+1}:J.indexOf("@")!==-1&&/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(J)?{node:{type:A.link,target:"mailto:"+J,children:[{type:A.text,text:J}]},end:V+1}:null}function lZ($,Q,Z,V){if($.charCodeAt(Q)!==z0||Q+1>=Z||$.charCodeAt(Q+1)!==r0)return null;let Y=Q+2;for(;Y<Z&&$.charCodeAt(Y)!==C0&&$.charCodeAt(Y)!==T;)Y++;if(Y>=Z||$.charCodeAt(Y)!==C0)return null;let J=$.slice(Q+2,Y);return J?{node:{type:A.footnoteReference,target:"#"+h0(J),text:J},end:Y+1}:null}function oZ($,Q,Z,V){if(V.disableBareUrls)return null;var Y="",J=!1,X=$.charCodeAt(Q);if(X===c9||X===72?Q+8<=Z&&$.charCodeAt(Q+1)===q$&&$.charCodeAt(Q+2)===q$&&$.charCodeAt(Q+3)===k$&&($.charCodeAt(Q+4)===$6&&$.charCodeAt(Q+5)===x0&&$.charCodeAt(Q+6)===A0&&$.charCodeAt(Q+7)===A0?Y="https://":$.charCodeAt(Q+4)===x0&&$.charCodeAt(Q+5)===A0&&$.charCodeAt(Q+6)===A0&&(Y="http://")):X===b9||X===70?Q+6<=Z&&$.charCodeAt(Q+1)===q$&&$.charCodeAt(Q+2)===k$&&$.charCodeAt(Q+3)===x0&&$.charCodeAt(Q+4)===A0&&$.charCodeAt(Q+5)===A0&&(Y="ftp://"):(X===P9||X===87)&&Q+4<=Z&&$.charCodeAt(Q+1)===P9&&$.charCodeAt(Q+2)===P9&&$.charCodeAt(Q+3)===s0&&(Y="www.",J=!0),!Y)return null;let K=Q+Y.length;for(;K<Z;){let M=$.charCodeAt(K);if(M===I||M===T||M===R||M===q9||M===X0||M===p)break;K++}for(var G=0,F=0,W=Q;W<K;W++){var z=$.charCodeAt(W);z===t0?G++:z===e0&&F++}let H=K;for(;H>Q+Y.length;){let M=$.charCodeAt(H-1);if(M===s0||M===S$||M===x0||M===g0||M===E9||M===e0){if(M===e0){if(G>=F)break;F--}H--}else if(M===W$){for(var O=H-2;O>Q&&($.charCodeAt(O)>=r&&$.charCodeAt(O)<=s||$.charCodeAt(O)>=U0&&$.charCodeAt(O)<=j0||$.charCodeAt(O)>=e&&$.charCodeAt(O)<=$0);)O--;O>=Q&&$.charCodeAt(O)===F$?H=O:H--}else break}if(H<=Q+Y.length)return null;var D=Q+(J?4:Y.length),q=$.indexOf("/",D);if((q<0||q>H)&&(q=H),J&&$.indexOf(".",D)===-1)return null;for(var U=-1,B=-1,j=q-1;j>=D;j--)if($.charCodeAt(j)===s0)if(U<0)U=j;else{B=j;break}for(var v=B>=0?B+1:D,j=v;j<q;j++)if($.charCodeAt(j)===B0)return null;var y=$.slice(Q,H),N=J?"http://"+y:y;return{node:{type:A.link,target:N,children:[{type:A.text,text:y}]},end:H}}function rZ($,Q,Z,V){if(V.disableBareUrls)return null;for(var Y=Q,J=Y;Y<Z;){var X=$.charCodeAt(Y);if(X>=r&&X<=s||X>=U0&&X<=j0||X>=e&&X<=$0||X===s0||X===g0||X===J9||X===36||X===p9||X===F$||X===O9||X===D0||X===H9||X===A0||X===m0||X===E9||X===r0||X===B0||X===Q0||X===D9||X===R0||X===$$||X===b0||X===d)Y++;else break}if(Y===J||Y>=Z||$.charCodeAt(Y)!==d9)return null;Y++;for(var K=Y,G=-1,F=Y;Y<Z;){var X=$.charCodeAt(Y);if(X>=r&&X<=s||X>=U0&&X<=j0||X>=e&&X<=$0)Y++;else if((X===d||X===B0)&&Y>K)Y++;else if(X===s0){if(Y===K)break;var W=$.charCodeAt(Y-1);if(W===d||W===B0||Y-F>63)break;if(Y+1<Z){var z=$.charCodeAt(Y+1);if(z>=r&&z<=s||z>=U0&&z<=j0||z>=e&&z<=$0)G=Y,F=Y+1,Y++;else break}else break}else break}if(Y-F>63||G<0)return null;var H=$.charCodeAt(Y-1);if(!(H>=r&&H<=s||H>=U0&&H<=j0||H>=e&&H<=$0)||Y<=G+1)return null;for(var O=-1,D=G-1;D>=K;D--)if($.charCodeAt(D)===s0){O=D;break}for(var q=O>=0?O+1:K,D=q;D<Y;D++)if($.charCodeAt(D)===B0)return null;var U=$.slice(Q,Y);return{node:{type:A.link,target:"mailto:"+U,children:[{type:A.text,text:U}]},end:Y}}function u$($){for(var Q=0;Q<$.length;Q++)if($[Q].type===A.link||"children"in $[Q]&&Array.isArray($[Q].children)&&u$($[Q].children))return!0;return!1}function B$($){for(var Q="",Z=0;Z<$.length;Z++){var V=$[Z];V.type===A.text?Q+=V.text:V.type===A.breakLine?Q+=" ":V.type===A.codeInline?Q+=V.text:"children"in V&&Array.isArray(V.children)?Q+=B$(V.children):V.type===A.image?Q+=V.alt||"":V.type===A.link&&(Q+=B$(V.children))}return Q}function T9($){let Q=$.includes("&")?o9($):$;return{type:A.text,text:Q}}function iZ($,Q,Z,V,Y){if($.charCodeAt(Q)!==X0)return null;var J=Q+1;if(J>=Z)return null;var X=$.charCodeAt(J);if(X===g0&&J+1<Z&&$.charCodeAt(J+1)===d&&J+2<Z&&$.charCodeAt(J+2)===d){var K=J+3;if(K<Z&&$.charCodeAt(K)===p)return{node:{type:A.htmlComment,text:"",endsWithGreaterThan:!0},end:K+1};if(K+1<Z&&$.charCodeAt(K)===d&&$.charCodeAt(K+1)===p)return{node:{type:A.htmlComment,text:"-",endsWithGreaterThan:!0},end:K+2};var G=$.indexOf("-->",K);return G!==-1&&G<=Z-3?{node:{type:A.htmlComment,text:$.slice(Q+4,G)},end:G+3}:null}if(X===E9){var F=$.indexOf("?>",J+1);return F!==-1&&F<Z?{node:{type:A.htmlSelfClosing,tag:"?",attrs:{},a:$.slice(Q,F+2)},end:F+2}:null}if(X===g0&&J+1<Z){var W=$.charCodeAt(J+1);if(W===z0&&$.slice(J+1,J+8)==="[CDATA["){var z=$.indexOf("]]>",J+8);return z!==-1&&z<Z?{node:{type:A.htmlSelfClosing,tag:"![CDATA[",attrs:{},a:$.slice(Q,z+3)},end:z+3}:null}if(W>=r&&W<=s){var H=$.indexOf(">",J+2);return H!==-1&&H<Z?{node:{type:A.htmlSelfClosing,tag:"!"+$.slice(J+1,H),attrs:{},a:$.slice(Q,H+1)},end:H+1}:null}}if(X===A0){var O=J+1;if(O>=Z)return null;var D=$.charCodeAt(O);if(!(D>=r&&D<=s||D>=U0&&D<=j0))return null;for(O++;O<Z;){var q=$.charCodeAt(O);if(q>=r&&q<=s||q>=U0&&q<=j0||q>=e&&q<=$0||q===d)O++;else break}for(;O<Z&&($.charCodeAt(O)===I||$.charCodeAt(O)===R||$.charCodeAt(O)===T);)O++;if(O<Z&&$.charCodeAt(O)===p){var U=$.slice(J+1,O).trim();return{node:{type:A.htmlSelfClosing,tag:U,attrs:{},a:$.slice(Q,O+1),b:!0},end:O+1}}return null}if(!(X>=r&&X<=s||X>=U0&&X<=j0))return null;var B=j9($,Q);if(!B)return null;var j=B.tag,v=j.toLowerCase(),y=B.selfClosing;if(y||f9(j))return{node:{type:A.htmlSelfClosing,tag:j,attrs:B9(B.attrs,j,Y),a:$.slice(Q,B.end)},end:B.end};var N=V$.has(v),M=f6($.slice(0,Z),B.end,j);if(M===-1)return{node:{type:A.htmlSelfClosing,tag:j,attrs:B9(B.attrs,j,Y),a:$.slice(Q,B.end)},end:B.end};var L=EZ($,"</"+v,M),k=$.slice(B.end,L),b=[];if(N)k.trim()&&(b=[{type:A.text,text:k}]);else{var P=k.trim();if(P){var{inAnchor:S,inline:E}=V;v==="a"&&(V.inAnchor=!0);var x=P.indexOf(`

`)!==-1||/^#{1,6}\s/.test(P);x?(V.inline=!1,b=A9(P,V,Y)):b=p0(P,0,P.length,V,Y),V.inAnchor=S,V.inline=E}}return{node:{type:A.htmlBlock,tag:j,attrs:B9(B.attrs,j,Y),e:B.rawAttrs,children:b,text:k,c:!1},end:M}}var aZ=200,i9=0;function p0($,Q,Z,V,Y){if(i9++,i9>aZ)return i9--,[{type:A.text,text:$.slice(Q,Z)}];let J=V;if(Y.streaming||Y.optimizeForStreaming){let t=function(o,d0){for(var c0=1,f0=d0+1;f0<o.length;f0++){var q0=o.charCodeAt(f0);if(q0===z0)c0++;else if(q0===C0&&(c0--,c0===0))return f0}return-1},_=$.slice(Q,Z),u=_;for(var X=0,K=0,G=0,F=0,W=0,z=-1,H=-1,O=-1,D=-1,q=-1,U=0;U<_.length;U++){var B=_.charCodeAt(U);B===D0?U+1<_.length&&_.charCodeAt(U+1)===D0?(X++,z=U,U++):(K++,H=U):B===B0?U+1<_.length&&_.charCodeAt(U+1)===B0?(G++,O=U,U++):(F++,D=U):B===b0&&U+1<_.length&&_.charCodeAt(U+1)===b0&&(W++,q=U,U++)}var j=[];W%2===1&&q>=0&&j.push([q,2]),G%2===1&&O>=0&&j.push([O,2]),F%2===1&&D>=0&&j.push([D,1]),X%2===1&&z>=0&&j.push([z,2]),K%2===1&&H>=0&&j.push([H,1]),j.sort(function(o,d0){return d0[0]-o[0]});for(var v=0;v<j.length;v++){var y=j[v][0],N=j[v][1];_=_.slice(0,y)+_.slice(y+N)}let W0=0,L0=-1;for(let o=0;o<_.length;o++)_.charCodeAt(o)===Q0&&(W0++,L0=o);if(W0%2===1&&L0!==-1){let o=!1,d0=-1,c0=0;for(;c0<_.length;)_.charCodeAt(c0)===Q0&&(o?(o=!1,d0=-1):(d0=c0,o=!0)),c0++;o&&d0!==-1&&(_=_.slice(0,d0))}for(var M=!0;M;){M=!1;for(var L=-1,k=-1,b=-1,P=!1,S=0;S<_.length;S++){var E=_.charCodeAt(S);if(E===z0&&(S===0||_.charCodeAt(S-1)!==_0)){var x=S>0&&_.charCodeAt(S-1)===g0,C=x?S-1:S,m=t(_,S);if(m===-1)L=C,P=x,k=S+1,b=_.length;else{var f=m+1;if(f>=_.length)L=C,P=x,k=S+1,b=m;else if(_.charCodeAt(f)===t0){var v0=_.indexOf(")",f+1);v0===-1?(L=C,P=x,k=S+1,b=m,S=_.length):S=v0}else if(_.charCodeAt(f)===z0){var w=_.indexOf("]",f+1);w===-1?(L=C,P=x,k=S+1,b=m,S=_.length):S=w}else S=m}}}if(L>=0){var g=P?"":_.slice(k,b);_=_.slice(0,L)+g,M=!0}}let k0=_.match(/<([A-Z][A-Za-z0-9]*)(?:\s[^>]*)?>([^<]*)$/);if(k0&&k0.index!==void 0){for(var c=!1,F0=0,P0=0;P0<k0.index;P0++)_.charCodeAt(P0)===Q0&&F0++;if(c=F0%2===1,!c){let o=k0[1];M9(_,"</"+o,0)===-1&&(_=_.replace(/<[A-Z][A-Za-z0-9]*(?:\s[^>]*)?>([^<]*)$/,"$1"))}}_!==u&&($=$.slice(0,Q)+_,Z=Q+_.length)}let Z0=[];var O0=[];let h=Q;var a=Y.disableAutoLink||Y.disableBareUrls||J.inAnchor?-1:$.indexOf("@",Q);for(a>=Z&&(a=-1);Q<Z;){let _=$.charCodeAt(Q),u=null;if(_===Q0){if(u=mZ($,Q,Z),!u){var M0=v9($,Q,Z,Q0);Q+=M0-1}}else if(_===D0||_===B0){var J0=dZ($,Q,Z);if(J0){if(J0.canOpen||J0.canClose){Q>h&&Z0.push(T9($.slice(h,Q)));var n=$.slice(Q,Q+J0.len),H0=T9(n);O0.push({idx:Z0.length,ch:_,len:J0.len,canOpen:J0.canOpen,canClose:J0.canClose,active:!0}),Z0.push(H0),Q+=J0.len,h=Q;continue}Q+=J0.len-1}}else _===b0?u=CZ($,Q,Z,J,Y):_===m0?u=uZ($,Q,Z,J,Y):_===z0?(Q+1<Z&&$.charCodeAt(Q+1)===r0&&(u=lZ($,Q,Z,J)),u||(u=I6($,Q,Z,J,Y))):_===g0&&Q+1<Z&&$.charCodeAt(Q+1)===z0?u=I6($,Q,Z,J,Y):_===X0?(u=m6($,Q,Z),!u&&!Y.disableParsingRawHTML&&!Y.ignoreHTMLBlocks&&(u=iZ($,Q,Z,J,Y))):(_===c9||_===P9||_===b9)&&!J.inAnchor&&!Y.disableAutoLink&&(Q===0||$.charCodeAt(Q-1)!==X0)&&(u=oZ($,Q,Z,Y));if(!u&&a>=0&&a-Q<=64&&!J.inAnchor&&!Y.disableAutoLink&&!Y.disableBareUrls&&(_>=r&&_<=s||_>=U0&&_<=j0||_>=e&&_<=$0)&&(u=rZ($,Q,Z,Y),!u&&Q>=a&&(a=$.indexOf("@",Q+1),a>=Z&&(a=-1))),_===E$){Q>h&&Z0.push(T9($.slice(h,Q))),Z0.push({type:A.breakLine}),Q++,h=Q;continue}if(u)Q>h&&Z0.push(T9($.slice(h,Q))),Z0.push(u.node),Q=u.end,h=Q;else{if(_===_0&&Q+1<Z){let W0=$.charCodeAt(Q+1);if(p$(W0)&Y0){Q>h&&Z0.push(T9($.slice(h,Q))),Z0.push(T9($[Q+1])),Q+=2,h=Q;continue}}if(Q++,a<0||a-Q>64)for(;Q<Z;){var w0=$.charCodeAt(Q);if(w0<g9&&!w6[w0])Q++;else break}}}if(Z>h){let _=$.slice(h,Z);(Y.streaming||Y.optimizeForStreaming)&&(_=_.replace(/\*\*([^*]+)$/,"$1"),_.match(/\*[^*]+$/)&&(_=_.replace(/\*([^*]+)$/,"$1")),_=_.replace(/__([^_]+)$/,"$1"),_.match(/_[^_]+$/)&&(_=_.replace(/_([^_]+)$/,"$1")),_=_.replace(/~~([^~]+)$/,"$1"),_=_.replace(/\[([^\]]+)$/,"$1"),_=_.replace(/\[([^\]]+)\]\([^)]*$/,"$1")),_&&Z0.push(T9(_))}return O0.length>0&&cZ(Z0,O0,V,Y),i9--,Z0}var nZ=500;function A9($,Q,Z){var V=Q.g||0;if(V>nZ)return[{type:A.text,text:$}];Q.g=V+1;let Y=Q;if(Z.streaming||Z.optimizeForStreaming){var J=$.length;J>0&&$.charCodeAt(J-1)===T&&J--;for(var X=J;X>0&&$.charCodeAt(X-1)!==T;)X--;if(X>0&&$.charCodeAt(X)===R0){for(var K=!0,G=X;G<J;G++){var F=$.charCodeAt(G);if(F!==I&&F!==R&&F!==d&&F!==x0&&F!==R0){K=!1;break}}if(K){for(var W=X-1;W>0&&$.charCodeAt(W-1)!==T;)W--;$.charCodeAt(W)===R0&&($=$.slice(0,W).trimEnd())}}var z=$.trim(),H=z.lastIndexOf(`
`),O=H===-1?z:z.slice(H+1);if(O.length>0&&O.charCodeAt(0)===R0){for(var D=!1,q=!1,U=1;U<O.length;U++){var B=O.charCodeAt(U);B===R0&&(D=!0),B===d&&(q=!0)}D&&q&&($=H===-1?"":$.slice(0,$.lastIndexOf(O)).trimEnd())}for(var j=-1,v=-1,y=-1,N=$.length-1;N>=0;N--)if($.charCodeAt(N)===X0){var M=N+1<$.length?$.charCodeAt(N+1):0;if(M>=r&&M<=s||M>=U0&&M<=j0){for(var L=N+2;L<$.length;){var k=$.charCodeAt(L);if(k>=r&&k<=s||k>=U0&&k<=j0||k>=e&&k<=$0)L++;else break}for(var b=L;b<$.length&&$.charCodeAt(b)!==p;)b++;if(b<$.length){for(var P=!1,S=b+1;S<$.length;S++)if($.charCodeAt(S)===X0){P=!0;break}P||(j=N,v=L,y=b+1)}}break}if(j>=0){for(var E=0,x=0;x<j;x++)$.charCodeAt(x)===Q0&&E++;if(E%2===0){var C=$.slice(j+1,v);M9($,"</"+C,0)===-1&&($=$.slice(0,j)+$.slice(y))}}var m=$.length;if(m>0){for(var f=$.lastIndexOf(`
`),v0=f===-1?0:f+1,w=m,g=v0,c=0;g<w&&$.charCodeAt(g)===I&&c<3;)g++,c++;if(g<w){var F0=$.charCodeAt(g),P0=!1;if(F0===D0||F0===d||F0===H9){var Z0=g+1;if(Z0>=w||$.charCodeAt(Z0)===I||$.charCodeAt(Z0)===R){for(var O0=Z0;O0<w&&($.charCodeAt(O0)===I||$.charCodeAt(O0)===R);)O0++;O0>=w&&(P0=!0)}}else if(F0>=e&&F0<=$0){for(var h=g;h<w&&$.charCodeAt(h)>=e&&$.charCodeAt(h)<=$0;)h++;if(h<w&&($.charCodeAt(h)===s0||$.charCodeAt(h)===e0)){var a=h+1;if(a>=w||$.charCodeAt(a)===I||$.charCodeAt(a)===R){for(var M0=a;M0<w&&($.charCodeAt(M0)===I||$.charCodeAt(M0)===R);)M0++;M0>=w&&(P0=!0)}}}P0&&($=$.slice(0,v0).trimEnd())}}}if(Q.inline)return p0($,0,$.length,Q,Z);let J0=[],n=0,H0=$.length;if(n===0&&$.startsWith("---")){let t=F6($);if(t&&t.hasValidYaml){if(Z.preserveFrontmatter!==!1){let k0=$.slice(0,t.endPos).trimEnd();J0.push({type:A.frontmatter,text:k0})}n=t.endPos}}for(;n<H0;){for(var w0=$.indexOf(`
`,n),_=w0<0?H0:w0;n<H0&&$9($,n,_);)n=_<H0?_+1:_,n<H0&&(w0=$.indexOf(`
`,n),_=w0<0?H0:w0);if(n>=H0)break;$.charCodeAt(n),N0($,n,_);let t=null;if($.charCodeAt(n)!==l9&&K0>=4&&!Q.inHTML)t=LZ($,n);else if($.charCodeAt(n)!==l9){let k0=n+V0,o=$.charCodeAt(k0);o===J9?t=g6($,n,Q,Z):o===p?t=kZ($,n,Q,Z):o===Q0||o===b0?t=yZ($,n,Q):o===d||o===D0||o===B0?(t=y9($,n),!t&&(t=M6($,n,Q,Z))):o===H9||o>=e&&o<=$0?t=M6($,n,Q,Z):o===X0?t=T6($,n,Q,Z):o===R0?t=v6($,n,Q,Z):o===z0&&(t=xZ($,n,Q))}if(!t){for(var u=!1,W0=n;W0<_;W0++)if($.charCodeAt(W0)===R0){u=!0;break}u&&(t=v6($,n,Q,Z))}if(t||(t=TZ($,n,Q,Z)),t)t.node.type!==A.refCollection&&J0.push(t.node),n=t.end;else{var L0=$.indexOf(`
`,n);n=L0<0?H0:L0+1}}return Q.g=V,J0}function C6($,Q){i9=0,$.charCodeAt(0)===65279&&($=$.slice(1)),$=f$($);let Z={inline:!1,inAnchor:!1,inHTML:!1,inList:!1,inBlockQuote:!1,refs:{}},V={...Q,slugify:Q?.slugify?J=>Q.slugify(J,h0):h0,sanitizer:Q?.sanitizer||w9,tagfilter:Q?.tagfilter!==!1};j$($,Z.refs,V);let Y=A9($,Z,V);return Z.refs&&Object.keys(Z.refs).length>0?[{type:A.refCollection,refs:Z.refs},...Y]:Y}function u6($,Q,Z,V){var Y=j9($,Q);return Y?{tagName:Y.tag,tagLower:Y.tag.toLowerCase(),attrs:Y.rawAttrs,whitespaceBeforeAttrs:Y.whitespaceBeforeAttrs,isSelfClosing:Y.selfClosing,hasSpaceBeforeSlash:Y.hasSpaceBeforeSlash,isClosing:Y.isClosing,hasNewline:Y.whitespaceBeforeAttrs.includes(`
`)||Y.rawAttrs.includes(`
`),endPos:Y.end}:null}function A$($,Q,Z){i9=0,$=f$($),!Q.refs&&(Q.refs={}),j$($,Q.refs,Z);let V=A9($,Q,Z);return Q.refs&&Object.keys(Q.refs).length>0?[{type:A.refCollection,refs:Q.refs},...V]:V}var tZ=/^\n+/,d$;try{d$=a0.createElement("div").$$typeof}catch{d$=Symbol.for("react.transitional.element")}function c$($,Q,Z){return{$$typeof:d$,type:$,key:Z!=null?""+Z:null,ref:null,props:Q,_owner:null,_store:{},_debugInfo:null,_debugStack:Error(),_debugTask:null}}var l$=typeof a0.createContext<"u"?a0.createContext(void 0):void 0;function p6($,Q,Z,V,Y,J,X,K){switch($.type){case A.blockQuote:{let q={key:Z.key};return $.alert&&(q.className="markdown-alert-"+J($.alert.toLowerCase(),h0),$.children.unshift({attrs:{},children:[{type:A.text,text:$.alert}],c:!0,type:A.htmlBlock,tag:"header"})),V("blockquote",q,Q($.children,Z))}case A.breakLine:return V("br",{key:Z.key});case A.breakThematic:return V("hr",{key:Z.key});case A.frontmatter:return K.preserveFrontmatter?V("pre",{key:Z.key},$.text):null;case A.codeBlock:let D=$.lang?o9($.lang):"";return V("pre",{key:Z.key},V("code",{...i0($.attrs||{}),className:D?`language-${D} lang-${D}`:""},$.text));case A.codeInline:return V("code",{key:Z.key},$.text);case A.footnoteReference:return V("a",{key:Z.key,href:Y($.target,"a","href")||void 0},V("sup",{key:Z.key},$.text));case A.gfmTask:return V("input",{checked:$.completed,key:Z.key,readOnly:!0,type:"checkbox"});case A.heading:return V(`h${$.level}`,{id:$.id,key:Z.key},Q($.children,Z));case A.htmlBlock:{let q=$;if(K.tagfilter&&T$(q.tag)){var G="";if(q.attrs)for(var F in q.attrs){var W=q.attrs[F];W===!0?G+=" "+F:W!=null&&W!==!1&&(G+=" "+F+'="'+String(W)+'"')}return V("span",{key:Z.key},"<"+q.tag+G+">")}if(q.a&&q.c){let b=function(w){if((w.type===A.htmlSelfClosing||w.type===A.htmlBlock)&&w.b)return[];if(w.type===A.paragraph){let g=w.children;return g?g.flatMap(b):[]}return w.type===A.text?w.text?.trim()?[w]:[]:w.type===A.htmlBlock&&w.children?[{...w,children:w.children?.flatMap(b)}]:[w]},S=function(w){for(var g=0;g<w.length;g++)w[g].type===A.htmlBlock&&(w[g].c=!1),"children"in w[g]&&w[g].children&&S(w[g].children)},v0=function(w,g){for(var c=0;c<w.length;c++){var F0=w[c];if(F0.type===A.paragraph&&F0.children)for(var P0=F0.children,Z0=0;Z0<P0.length;Z0++){var O0=P0[Z0];if(O0.type===A.htmlSelfClosing&&O0.b&&O0.tag.toLowerCase()===g){var h=w.slice(0,c);Z0>0&&h.push({type:A.paragraph,children:P0.slice(0,Z0)});var a=[];if(Z0+1<P0.length){var M0=P0.slice(Z0+1);M0=M0.filter(function(J0){return!(J0.type===A.htmlSelfClosing&&J0.b)}),M0.length>0&&(a=M0)}return a=a.concat(w.slice(c+1)),{found:!0,beforeClose:h,afterClose:a}}}if((F0.type===A.htmlSelfClosing||F0.type===A.htmlBlock)&&F0.b&&F0.tag.toLowerCase()===g)return{found:!0,beforeClose:w.slice(0,c),afterClose:w.slice(c+1)}}return{found:!1,beforeClose:w,afterClose:[]}},U=q.tag.toLowerCase(),B=R6(U),j=q.children&&q.children.length>0,v=/<[a-z][^>]{0,100}>/i.test(q.a);if(B){let w=q.a.replace(new RegExp("\\s*</"+U+">\\s*$","i"),"");return K.tagfilter&&(w=h$(w)),v?V($.tag,{key:Z.key,...i0($.attrs||{}),dangerouslySetInnerHTML:{__html:w}}):V($.tag,{key:Z.key,...i0($.attrs||{})},w)}let y=new RegExp(`^<${q.tag}(\\s|>)`,"i").test(q.a);if(j&&!y&&K.tagfilter&&O6(q.a))return V($.tag,{key:Z.key,...i0($.attrs||{})},Q(q.children,Z));if(y6(q.a)){let w=K.tagfilter?h$(q.a):q.a;return V($.tag,{key:Z.key,...i0($.attrs||{}),dangerouslySetInnerHTML:{__html:w}})}let M={slugify:w=>J(w,h0),sanitizer:Y,tagfilter:!0},L=q.a.replace(/>\s+</g,"><").replace(/\n+/g," ").trim();if(new RegExp(`^<${q.tag}(\\s[^>]*)?>(\\s*</${q.tag}>)?$`,"i").test(L))return q.children&&q.children.length>0?V($.tag,{key:Z.key,...i0($.attrs||{})},Q(q.children,Z)):V($.tag,{key:Z.key,...i0($.attrs||{})});let P=A$(L,{inline:!1,refs:X,inHTML:!1},M);S(P);let E=q.tag.toLowerCase(),x="</"+E+">",C=new RegExp(`^<${q.tag}(\\s|>)`,"i").test(L),m=L.toLowerCase().trimEnd().endsWith(x),f=C&&m;if(f&&j)return V($.tag,{key:Z.key,...i0($.attrs||{})},Q(q.children,Z));if(f)return Q(P.flatMap(b),Z);var z=v0(P,E);if(z.found&&z.afterClose.length>0){var H=z.beforeClose.flatMap(b),O=z.afterClose.flatMap(b);return c$(a0.Fragment,{children:[V($.tag,{key:Z.key,...i0($.attrs||{})},Q(H,Z)),Q(O,Z)]},null)}return V($.tag,{key:Z.key,...i0($.attrs||{})},Q(P.flatMap(b),Z))}return f9($.tag)?V($.tag,{key:Z.key,...i0($.attrs||{})}):V($.tag,{key:Z.key,...i0($.attrs||{})},$.children?Q($.children,Z):"")}case A.htmlSelfClosing:{let q=$;if(K.tagfilter&&T$(q.tag)){var G="";if(q.attrs)for(var F in q.attrs){var W=q.attrs[F];W===!0?G+=" "+F:W!=null&&W!==!1&&(G+=" "+F+'="'+String(W)+'"')}return V("span",{key:Z.key},"<"+q.tag+G+" />")}return V($.tag,{key:Z.key,...i0($.attrs||{})})}case A.image:{let q=$.target!=null?Y($.target,"img","src"):null;return V("img",{key:Z.key,alt:$.alt&&$.alt.length>0?$.alt:void 0,title:$.title||void 0,src:q||void 0})}case A.link:{let q={key:Z.key};return $.target!=null&&(q.href=z6($.target)),$.title&&(q.title=$.title),V("a",q,Q($.children,Z))}case A.table:{let q=$;return V("table",{key:Z.key},V("thead",null,V("tr",null,q.header.map(function(B,j){return V("th",{key:j,style:q.align[j]==null?{}:{textAlign:q.align[j]}},Q(B,Z))}))),V("tbody",null,q.cells.map(function(B,j){return V("tr",{key:j},B.map(function(y,N){return V("td",{key:N,style:q.align[N]==null?{}:{textAlign:q.align[N]}},Q(y,Z))}))})))}case A.text:return $.text;case A.textFormatted:return V($.tag,{key:Z.key},Q($.children,Z));case A.orderedList:case A.unorderedList:{let q=$.type===A.orderedList?"ol":"ul";return V(q,{key:Z.key,start:$.type===A.orderedList?$.start:void 0},$.items.map(function(B,j){return V("li",{key:j},Q(B,Z))}))}case A.paragraph:return V("p",{key:Z.key},Q($.children,Z));case A.ref:return null;default:return null}}var eZ=($,Q,Z,V,Y,J)=>{var X=G=>G.map(function(F){return"text"in F?F.text:""}),K=(G,F={})=>{var W=(F.renderDepth||0)+1;if(W>2500)return X(G);F.renderDepth=W;for(var z=F.key,H=[],O=!1,D=0;D<G.length;D++){F.key=D;var q;if($){var U=p6.bind(null,G[D],K,F,Q,Z,V,Y,J);q=$(U,G[D],K,F)}else q=p6(G[D],K,F,Q,Z,V,Y,J);var B=typeof q=="string";if(B&&O)H[H.length-1]+=q;else if(q!==null)if(Array.isArray(q))for(var j=0;j<q.length;j++)H.push(q[j]);else H.push(q);O=B}return F.key=z,F.renderDepth=W-1,H};return K},$5=($,Q)=>{let Z=r9(Q,$,void 0);return Z?typeof Z=="function"||typeof Z=="object"&&"render"in Z?Z:r9(Q,`${$}.component`,$):$};function Z5($,Q){let Z={...Q||{}};Z.overrides=Z.overrides||{};let V=Z.slugify||h0,Y=Z.sanitizer||w9,J=Z.createElement,X=Z.overrides&&Object.keys(Z.overrides).length>0,K=B=>v$(B,{...Z,wrapper:null});function G(B,j,...v){var y=j||{};for(var N in y){var M=y[N];if(typeof M=="string"&&M.length>0&&M.charCodeAt(0)===X0&&(b6.test(M)||P6.test(M)||u6(M,0))){var L=K(M.trim());y[N]=N==="innerHTML"&&Array.isArray(L)?L[0]:L}}var k=B;if(X){var b=r9(Z.overrides,B+".props",{});k=$5(B,Z.overrides),y={...y,...b,className:U6(y.className,b.className)||void 0}}if(!J){var P=y.key;return P!=null&&delete y.key,v.length===1?y.children=v[0]:v.length>1&&(y.children=v),c$(k,y,P)}return J(k,y,...v)}let F={...Z,slugify:B=>V(B,h0),sanitizer:Y,tagfilter:Z.tagfilter!==!1},W=$[0]&&$[0].type===A.refCollection?$[0].refs:{},z=eZ(Z.renderRule,G,Y,V,W,Z),H=z($,{inline:Z.forceInline,refs:W}),O=[];for(let B in W)B.charCodeAt(0)===r0&&O.push({identifier:B,footnote:W[B].target});if(O.length&&H.push(G("footer",{key:"footer"},O.map(function(j){let v=j.identifier.charCodeAt(0)===r0?j.identifier.slice(1):j.identifier,y=A$(j.footnote,{inline:!0,refs:W},F);return G("div",{id:V(v,h0),key:j.identifier},v+": ",z(y,{inline:!0,refs:W}))}))),Z.wrapper===null)return H;let D=Z.wrapper||(Z.forceInline?"span":"div"),q;if(H.length>1||Z.forceWrapper)q=H;else return H.length===1?H[0]:null;var U=Z.wrapperProps?{...Z.wrapperProps}:{};return U.children=q,c$(D,U,"outer")}function v$($="",Q={}){let Z={...Q||{}};Z.overrides=Z.overrides||{};let V=Z.slugify||h0,Y=Z.sanitizer||w9;function J(G){let F=Z.forceInline||!Z.forceBlock&&!q6.test(G),W={...Z,slugify:O=>V(O,h0),sanitizer:Y,tagfilter:Z.tagfilter!==!1};F||j$(G,X,W);let z=G;if(!F){let O=z.length;for(;O>0&&(z[O-1]===`
`||z[O-1]==="\r");)O--;z=z.slice(0,O),z=`${z.replace(tZ,"")}

`}if(Z.optimizeForStreaming){let O=z.lastIndexOf("<");O!==-1&&z.slice(O).indexOf(">")===-1&&(z=z.slice(0,O))}let H=A$(F?G:z,{inline:F,refs:X},W);return Z5(H,{...W,forceInline:F})}let X={};return J($)}var H5=({options:$,children:Q})=>l$?a0.createElement(l$.Provider,{value:$},Q):Q,d6=({children:$,options:Q,...Z})=>{if(!(typeof a0.useContext<"u")){let G={...Q,overrides:{...Q?.overrides},wrapperProps:{...Q?.wrapperProps,...Z}};return v$($??"",G)}let Y=a0.useContext(l$),J=a0.useMemo(()=>({...Y,...Q,overrides:{...Y?.overrides,...Q?.overrides},wrapperProps:{...Y?.wrapperProps,...Q?.wrapperProps,...Z}}),[Y,Q,Z]),X=$??"";return a0.useMemo(()=>v$(X,J),[X,J])},Q5=d6;export{h0 as slugify,w9 as sanitizer,C6 as parser,Q5 as default,v$ as compiler,A as RuleType,d6 as Markdown};
